function mI(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var xt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function hp(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function gI(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var X_={exports:{}},pc={},J_={exports:{}},Te={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ma=Symbol.for("react.element"),vI=Symbol.for("react.portal"),yI=Symbol.for("react.fragment"),_I=Symbol.for("react.strict_mode"),EI=Symbol.for("react.profiler"),wI=Symbol.for("react.provider"),TI=Symbol.for("react.context"),SI=Symbol.for("react.forward_ref"),II=Symbol.for("react.suspense"),bI=Symbol.for("react.memo"),AI=Symbol.for("react.lazy"),Ag=Symbol.iterator;function OI(t){return t===null||typeof t!="object"?null:(t=Ag&&t[Ag]||t["@@iterator"],typeof t=="function"?t:null)}var Z_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},e0=Object.assign,t0={};function $o(t,e,n){this.props=t,this.context=e,this.refs=t0,this.updater=n||Z_}$o.prototype.isReactComponent={};$o.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};$o.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function n0(){}n0.prototype=$o.prototype;function dp(t,e,n){this.props=t,this.context=e,this.refs=t0,this.updater=n||Z_}var pp=dp.prototype=new n0;pp.constructor=dp;e0(pp,$o.prototype);pp.isPureReactComponent=!0;var Og=Array.isArray,r0=Object.prototype.hasOwnProperty,mp={current:null},i0={key:!0,ref:!0,__self:!0,__source:!0};function o0(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)r0.call(e,r)&&!i0.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Ma,type:t,key:o,ref:s,props:i,_owner:mp.current}}function PI(t,e){return{$$typeof:Ma,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function gp(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ma}function RI(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Pg=/\/+/g;function Af(t,e){return typeof t=="object"&&t!==null&&t.key!=null?RI(""+t.key):e.toString(36)}function zl(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case Ma:case vI:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+Af(s,0):r,Og(i)?(n="",t!=null&&(n=t.replace(Pg,"$&/")+"/"),zl(i,e,n,"",function(u){return u})):i!=null&&(gp(i)&&(i=PI(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(Pg,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",Og(t))for(var a=0;a<t.length;a++){o=t[a];var l=r+Af(o,a);s+=zl(o,e,n,l,i)}else if(l=OI(t),typeof l=="function")for(t=l.call(t),a=0;!(o=t.next()).done;)o=o.value,l=r+Af(o,a++),s+=zl(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function dl(t,e,n){if(t==null)return t;var r=[],i=0;return zl(t,r,"","",function(o){return e.call(n,o,i++)}),r}function kI(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Mt={current:null},Hl={transition:null},CI={ReactCurrentDispatcher:Mt,ReactCurrentBatchConfig:Hl,ReactCurrentOwner:mp};function s0(){throw Error("act(...) is not supported in production builds of React.")}Te.Children={map:dl,forEach:function(t,e,n){dl(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return dl(t,function(){e++}),e},toArray:function(t){return dl(t,function(e){return e})||[]},only:function(t){if(!gp(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Te.Component=$o;Te.Fragment=yI;Te.Profiler=EI;Te.PureComponent=dp;Te.StrictMode=_I;Te.Suspense=II;Te.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=CI;Te.act=s0;Te.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=e0({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=mp.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)r0.call(e,l)&&!i0.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Ma,type:t.type,key:i,ref:o,props:r,_owner:s}};Te.createContext=function(t){return t={$$typeof:TI,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:wI,_context:t},t.Consumer=t};Te.createElement=o0;Te.createFactory=function(t){var e=o0.bind(null,t);return e.type=t,e};Te.createRef=function(){return{current:null}};Te.forwardRef=function(t){return{$$typeof:SI,render:t}};Te.isValidElement=gp;Te.lazy=function(t){return{$$typeof:AI,_payload:{_status:-1,_result:t},_init:kI}};Te.memo=function(t,e){return{$$typeof:bI,type:t,compare:e===void 0?null:e}};Te.startTransition=function(t){var e=Hl.transition;Hl.transition={};try{t()}finally{Hl.transition=e}};Te.unstable_act=s0;Te.useCallback=function(t,e){return Mt.current.useCallback(t,e)};Te.useContext=function(t){return Mt.current.useContext(t)};Te.useDebugValue=function(){};Te.useDeferredValue=function(t){return Mt.current.useDeferredValue(t)};Te.useEffect=function(t,e){return Mt.current.useEffect(t,e)};Te.useId=function(){return Mt.current.useId()};Te.useImperativeHandle=function(t,e,n){return Mt.current.useImperativeHandle(t,e,n)};Te.useInsertionEffect=function(t,e){return Mt.current.useInsertionEffect(t,e)};Te.useLayoutEffect=function(t,e){return Mt.current.useLayoutEffect(t,e)};Te.useMemo=function(t,e){return Mt.current.useMemo(t,e)};Te.useReducer=function(t,e,n){return Mt.current.useReducer(t,e,n)};Te.useRef=function(t){return Mt.current.useRef(t)};Te.useState=function(t){return Mt.current.useState(t)};Te.useSyncExternalStore=function(t,e,n){return Mt.current.useSyncExternalStore(t,e,n)};Te.useTransition=function(){return Mt.current.useTransition()};Te.version="18.3.1";J_.exports=Te;var ee=J_.exports;const a0=hp(ee),NI=mI({__proto__:null,default:a0},[ee]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xI=ee,LI=Symbol.for("react.element"),DI=Symbol.for("react.fragment"),MI=Object.prototype.hasOwnProperty,VI=xI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,FI={key:!0,ref:!0,__self:!0,__source:!0};function l0(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)MI.call(e,r)&&!FI.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:LI,type:t,key:o,ref:s,props:i,_owner:VI.current}}pc.Fragment=DI;pc.jsx=l0;pc.jsxs=l0;X_.exports=pc;var K=X_.exports,Sh={},u0={exports:{}},Yt={},c0={exports:{}},f0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(j,F){var N=j.length;j.push(F);e:for(;0<N;){var P=N-1>>>1,x=j[P];if(0<i(x,F))j[P]=F,j[N]=x,N=P;else break e}}function n(j){return j.length===0?null:j[0]}function r(j){if(j.length===0)return null;var F=j[0],N=j.pop();if(N!==F){j[0]=N;e:for(var P=0,x=j.length,V=x>>>1;P<V;){var q=2*(P+1)-1,B=j[q],L=q+1,U=j[L];if(0>i(B,N))L<x&&0>i(U,B)?(j[P]=U,j[L]=N,P=L):(j[P]=B,j[q]=N,P=q);else if(L<x&&0>i(U,N))j[P]=U,j[L]=N,P=L;else break e}}return F}function i(j,F){var N=j.sortIndex-F.sortIndex;return N!==0?N:j.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var l=[],u=[],h=1,f=null,c=3,d=!1,_=!1,y=!1,E=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(j){for(var F=n(u);F!==null;){if(F.callback===null)r(u);else if(F.startTime<=j)r(u),F.sortIndex=F.expirationTime,e(l,F);else break;F=n(u)}}function g(j){if(y=!1,v(j),!_)if(n(l)!==null)_=!0,$(w);else{var F=n(u);F!==null&&D(g,F.startTime-j)}}function w(j,F){_=!1,y&&(y=!1,m(S),S=-1),d=!0;var N=c;try{for(v(F),f=n(l);f!==null&&(!(f.expirationTime>F)||j&&!I());){var P=f.callback;if(typeof P=="function"){f.callback=null,c=f.priorityLevel;var x=P(f.expirationTime<=F);F=t.unstable_now(),typeof x=="function"?f.callback=x:f===n(l)&&r(l),v(F)}else r(l);f=n(l)}if(f!==null)var V=!0;else{var q=n(u);q!==null&&D(g,q.startTime-F),V=!1}return V}finally{f=null,c=N,d=!1}}var A=!1,T=null,S=-1,k=5,b=-1;function I(){return!(t.unstable_now()-b<k)}function O(){if(T!==null){var j=t.unstable_now();b=j;var F=!0;try{F=T(!0,j)}finally{F?R():(A=!1,T=null)}}else A=!1}var R;if(typeof p=="function")R=function(){p(O)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,M=C.port2;C.port1.onmessage=O,R=function(){M.postMessage(null)}}else R=function(){E(O,0)};function $(j){T=j,A||(A=!0,R())}function D(j,F){S=E(function(){j(t.unstable_now())},F)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(j){j.callback=null},t.unstable_continueExecution=function(){_||d||(_=!0,$(w))},t.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<j?Math.floor(1e3/j):5},t.unstable_getCurrentPriorityLevel=function(){return c},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(j){switch(c){case 1:case 2:case 3:var F=3;break;default:F=c}var N=c;c=F;try{return j()}finally{c=N}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(j,F){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var N=c;c=j;try{return F()}finally{c=N}},t.unstable_scheduleCallback=function(j,F,N){var P=t.unstable_now();switch(typeof N=="object"&&N!==null?(N=N.delay,N=typeof N=="number"&&0<N?P+N:P):N=P,j){case 1:var x=-1;break;case 2:x=250;break;case 5:x=1073741823;break;case 4:x=1e4;break;default:x=5e3}return x=N+x,j={id:h++,callback:F,priorityLevel:j,startTime:N,expirationTime:x,sortIndex:-1},N>P?(j.sortIndex=N,e(u,j),n(l)===null&&j===n(u)&&(y?(m(S),S=-1):y=!0,D(g,N-P))):(j.sortIndex=x,e(l,j),_||d||(_=!0,$(w))),j},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(j){var F=c;return function(){var N=c;c=F;try{return j.apply(this,arguments)}finally{c=N}}}})(f0);c0.exports=f0;var jI=c0.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UI=ee,Gt=jI;function Z(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var h0=new Set,Js={};function Di(t,e){So(t,e),So(t+"Capture",e)}function So(t,e){for(Js[t]=e,t=0;t<e.length;t++)h0.add(e[t])}var or=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ih=Object.prototype.hasOwnProperty,$I=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Rg={},kg={};function BI(t){return Ih.call(kg,t)?!0:Ih.call(Rg,t)?!1:$I.test(t)?kg[t]=!0:(Rg[t]=!0,!1)}function qI(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function zI(t,e,n,r){if(e===null||typeof e>"u"||qI(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Vt(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var vt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){vt[t]=new Vt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];vt[e]=new Vt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){vt[t]=new Vt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){vt[t]=new Vt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){vt[t]=new Vt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){vt[t]=new Vt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){vt[t]=new Vt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){vt[t]=new Vt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){vt[t]=new Vt(t,5,!1,t.toLowerCase(),null,!1,!1)});var vp=/[\-:]([a-z])/g;function yp(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(vp,yp);vt[e]=new Vt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(vp,yp);vt[e]=new Vt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(vp,yp);vt[e]=new Vt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){vt[t]=new Vt(t,1,!1,t.toLowerCase(),null,!1,!1)});vt.xlinkHref=new Vt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){vt[t]=new Vt(t,1,!1,t.toLowerCase(),null,!0,!0)});function _p(t,e,n,r){var i=vt.hasOwnProperty(e)?vt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(zI(e,n,i,r)&&(n=null),r||i===null?BI(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var dr=UI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,pl=Symbol.for("react.element"),Gi=Symbol.for("react.portal"),Qi=Symbol.for("react.fragment"),Ep=Symbol.for("react.strict_mode"),bh=Symbol.for("react.profiler"),d0=Symbol.for("react.provider"),p0=Symbol.for("react.context"),wp=Symbol.for("react.forward_ref"),Ah=Symbol.for("react.suspense"),Oh=Symbol.for("react.suspense_list"),Tp=Symbol.for("react.memo"),Er=Symbol.for("react.lazy"),m0=Symbol.for("react.offscreen"),Cg=Symbol.iterator;function ls(t){return t===null||typeof t!="object"?null:(t=Cg&&t[Cg]||t["@@iterator"],typeof t=="function"?t:null)}var ze=Object.assign,Of;function ws(t){if(Of===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Of=e&&e[1]||""}return`
`+Of+t}var Pf=!1;function Rf(t,e){if(!t||Pf)return"";Pf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=a);break}}}finally{Pf=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ws(t):""}function HI(t){switch(t.tag){case 5:return ws(t.type);case 16:return ws("Lazy");case 13:return ws("Suspense");case 19:return ws("SuspenseList");case 0:case 2:case 15:return t=Rf(t.type,!1),t;case 11:return t=Rf(t.type.render,!1),t;case 1:return t=Rf(t.type,!0),t;default:return""}}function Ph(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Qi:return"Fragment";case Gi:return"Portal";case bh:return"Profiler";case Ep:return"StrictMode";case Ah:return"Suspense";case Oh:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case p0:return(t.displayName||"Context")+".Consumer";case d0:return(t._context.displayName||"Context")+".Provider";case wp:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Tp:return e=t.displayName||null,e!==null?e:Ph(t.type)||"Memo";case Er:e=t._payload,t=t._init;try{return Ph(t(e))}catch{}}return null}function WI(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ph(e);case 8:return e===Ep?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Wr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function g0(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function KI(t){var e=g0(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ml(t){t._valueTracker||(t._valueTracker=KI(t))}function v0(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=g0(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function cu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Rh(t,e){var n=e.checked;return ze({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Ng(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Wr(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function y0(t,e){e=e.checked,e!=null&&_p(t,"checked",e,!1)}function kh(t,e){y0(t,e);var n=Wr(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Ch(t,e.type,n):e.hasOwnProperty("defaultValue")&&Ch(t,e.type,Wr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function xg(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Ch(t,e,n){(e!=="number"||cu(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ts=Array.isArray;function uo(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Wr(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Nh(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Z(91));return ze({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Lg(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Z(92));if(Ts(n)){if(1<n.length)throw Error(Z(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Wr(n)}}function _0(t,e){var n=Wr(e.value),r=Wr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Dg(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function E0(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function xh(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?E0(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var gl,w0=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(gl=gl||document.createElement("div"),gl.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=gl.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Zs(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var xs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},GI=["Webkit","ms","Moz","O"];Object.keys(xs).forEach(function(t){GI.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),xs[e]=xs[t]})});function T0(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||xs.hasOwnProperty(t)&&xs[t]?(""+e).trim():e+"px"}function S0(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=T0(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var QI=ze({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Lh(t,e){if(e){if(QI[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Z(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Z(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Z(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Z(62))}}function Dh(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Mh=null;function Sp(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Vh=null,co=null,fo=null;function Mg(t){if(t=ja(t)){if(typeof Vh!="function")throw Error(Z(280));var e=t.stateNode;e&&(e=_c(e),Vh(t.stateNode,t.type,e))}}function I0(t){co?fo?fo.push(t):fo=[t]:co=t}function b0(){if(co){var t=co,e=fo;if(fo=co=null,Mg(t),e)for(t=0;t<e.length;t++)Mg(e[t])}}function A0(t,e){return t(e)}function O0(){}var kf=!1;function P0(t,e,n){if(kf)return t(e,n);kf=!0;try{return A0(t,e,n)}finally{kf=!1,(co!==null||fo!==null)&&(O0(),b0())}}function ea(t,e){var n=t.stateNode;if(n===null)return null;var r=_c(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Z(231,e,typeof n));return n}var Fh=!1;if(or)try{var us={};Object.defineProperty(us,"passive",{get:function(){Fh=!0}}),window.addEventListener("test",us,us),window.removeEventListener("test",us,us)}catch{Fh=!1}function YI(t,e,n,r,i,o,s,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(h){this.onError(h)}}var Ls=!1,fu=null,hu=!1,jh=null,XI={onError:function(t){Ls=!0,fu=t}};function JI(t,e,n,r,i,o,s,a,l){Ls=!1,fu=null,YI.apply(XI,arguments)}function ZI(t,e,n,r,i,o,s,a,l){if(JI.apply(this,arguments),Ls){if(Ls){var u=fu;Ls=!1,fu=null}else throw Error(Z(198));hu||(hu=!0,jh=u)}}function Mi(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function R0(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Vg(t){if(Mi(t)!==t)throw Error(Z(188))}function eb(t){var e=t.alternate;if(!e){if(e=Mi(t),e===null)throw Error(Z(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Vg(i),t;if(o===r)return Vg(i),e;o=o.sibling}throw Error(Z(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(Z(189))}}if(n.alternate!==r)throw Error(Z(190))}if(n.tag!==3)throw Error(Z(188));return n.stateNode.current===n?t:e}function k0(t){return t=eb(t),t!==null?C0(t):null}function C0(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=C0(t);if(e!==null)return e;t=t.sibling}return null}var N0=Gt.unstable_scheduleCallback,Fg=Gt.unstable_cancelCallback,tb=Gt.unstable_shouldYield,nb=Gt.unstable_requestPaint,Ge=Gt.unstable_now,rb=Gt.unstable_getCurrentPriorityLevel,Ip=Gt.unstable_ImmediatePriority,x0=Gt.unstable_UserBlockingPriority,du=Gt.unstable_NormalPriority,ib=Gt.unstable_LowPriority,L0=Gt.unstable_IdlePriority,mc=null,Vn=null;function ob(t){if(Vn&&typeof Vn.onCommitFiberRoot=="function")try{Vn.onCommitFiberRoot(mc,t,void 0,(t.current.flags&128)===128)}catch{}}var _n=Math.clz32?Math.clz32:lb,sb=Math.log,ab=Math.LN2;function lb(t){return t>>>=0,t===0?32:31-(sb(t)/ab|0)|0}var vl=64,yl=4194304;function Ss(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function pu(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=Ss(a):(o&=s,o!==0&&(r=Ss(o)))}else s=n&~i,s!==0?r=Ss(s):o!==0&&(r=Ss(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-_n(e),i=1<<n,r|=t[n],e&=~i;return r}function ub(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function cb(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-_n(o),a=1<<s,l=i[s];l===-1?(!(a&n)||a&r)&&(i[s]=ub(a,e)):l<=e&&(t.expiredLanes|=a),o&=~a}}function Uh(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function D0(){var t=vl;return vl<<=1,!(vl&4194240)&&(vl=64),t}function Cf(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Va(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-_n(e),t[e]=n}function fb(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-_n(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function bp(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-_n(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Ce=0;function M0(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var V0,Ap,F0,j0,U0,$h=!1,_l=[],xr=null,Lr=null,Dr=null,ta=new Map,na=new Map,Tr=[],hb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function jg(t,e){switch(t){case"focusin":case"focusout":xr=null;break;case"dragenter":case"dragleave":Lr=null;break;case"mouseover":case"mouseout":Dr=null;break;case"pointerover":case"pointerout":ta.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":na.delete(e.pointerId)}}function cs(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=ja(e),e!==null&&Ap(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function db(t,e,n,r,i){switch(e){case"focusin":return xr=cs(xr,t,e,n,r,i),!0;case"dragenter":return Lr=cs(Lr,t,e,n,r,i),!0;case"mouseover":return Dr=cs(Dr,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return ta.set(o,cs(ta.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,na.set(o,cs(na.get(o)||null,t,e,n,r,i)),!0}return!1}function $0(t){var e=hi(t.target);if(e!==null){var n=Mi(e);if(n!==null){if(e=n.tag,e===13){if(e=R0(n),e!==null){t.blockedOn=e,U0(t.priority,function(){F0(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Wl(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Bh(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Mh=r,n.target.dispatchEvent(r),Mh=null}else return e=ja(n),e!==null&&Ap(e),t.blockedOn=n,!1;e.shift()}return!0}function Ug(t,e,n){Wl(t)&&n.delete(e)}function pb(){$h=!1,xr!==null&&Wl(xr)&&(xr=null),Lr!==null&&Wl(Lr)&&(Lr=null),Dr!==null&&Wl(Dr)&&(Dr=null),ta.forEach(Ug),na.forEach(Ug)}function fs(t,e){t.blockedOn===e&&(t.blockedOn=null,$h||($h=!0,Gt.unstable_scheduleCallback(Gt.unstable_NormalPriority,pb)))}function ra(t){function e(i){return fs(i,t)}if(0<_l.length){fs(_l[0],t);for(var n=1;n<_l.length;n++){var r=_l[n];r.blockedOn===t&&(r.blockedOn=null)}}for(xr!==null&&fs(xr,t),Lr!==null&&fs(Lr,t),Dr!==null&&fs(Dr,t),ta.forEach(e),na.forEach(e),n=0;n<Tr.length;n++)r=Tr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Tr.length&&(n=Tr[0],n.blockedOn===null);)$0(n),n.blockedOn===null&&Tr.shift()}var ho=dr.ReactCurrentBatchConfig,mu=!0;function mb(t,e,n,r){var i=Ce,o=ho.transition;ho.transition=null;try{Ce=1,Op(t,e,n,r)}finally{Ce=i,ho.transition=o}}function gb(t,e,n,r){var i=Ce,o=ho.transition;ho.transition=null;try{Ce=4,Op(t,e,n,r)}finally{Ce=i,ho.transition=o}}function Op(t,e,n,r){if(mu){var i=Bh(t,e,n,r);if(i===null)$f(t,e,r,gu,n),jg(t,r);else if(db(i,t,e,n,r))r.stopPropagation();else if(jg(t,r),e&4&&-1<hb.indexOf(t)){for(;i!==null;){var o=ja(i);if(o!==null&&V0(o),o=Bh(t,e,n,r),o===null&&$f(t,e,r,gu,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else $f(t,e,r,null,n)}}var gu=null;function Bh(t,e,n,r){if(gu=null,t=Sp(r),t=hi(t),t!==null)if(e=Mi(t),e===null)t=null;else if(n=e.tag,n===13){if(t=R0(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return gu=t,null}function B0(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(rb()){case Ip:return 1;case x0:return 4;case du:case ib:return 16;case L0:return 536870912;default:return 16}default:return 16}}var Pr=null,Pp=null,Kl=null;function q0(){if(Kl)return Kl;var t,e=Pp,n=e.length,r,i="value"in Pr?Pr.value:Pr.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return Kl=i.slice(t,1<r?1-r:void 0)}function Gl(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function El(){return!0}function $g(){return!1}function Xt(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?El:$g,this.isPropagationStopped=$g,this}return ze(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=El)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=El)},persist:function(){},isPersistent:El}),e}var Bo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Rp=Xt(Bo),Fa=ze({},Bo,{view:0,detail:0}),vb=Xt(Fa),Nf,xf,hs,gc=ze({},Fa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kp,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==hs&&(hs&&t.type==="mousemove"?(Nf=t.screenX-hs.screenX,xf=t.screenY-hs.screenY):xf=Nf=0,hs=t),Nf)},movementY:function(t){return"movementY"in t?t.movementY:xf}}),Bg=Xt(gc),yb=ze({},gc,{dataTransfer:0}),_b=Xt(yb),Eb=ze({},Fa,{relatedTarget:0}),Lf=Xt(Eb),wb=ze({},Bo,{animationName:0,elapsedTime:0,pseudoElement:0}),Tb=Xt(wb),Sb=ze({},Bo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ib=Xt(Sb),bb=ze({},Bo,{data:0}),qg=Xt(bb),Ab={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ob={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Pb={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Rb(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Pb[t])?!!e[t]:!1}function kp(){return Rb}var kb=ze({},Fa,{key:function(t){if(t.key){var e=Ab[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Gl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ob[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kp,charCode:function(t){return t.type==="keypress"?Gl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Gl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Cb=Xt(kb),Nb=ze({},gc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),zg=Xt(Nb),xb=ze({},Fa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kp}),Lb=Xt(xb),Db=ze({},Bo,{propertyName:0,elapsedTime:0,pseudoElement:0}),Mb=Xt(Db),Vb=ze({},gc,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Fb=Xt(Vb),jb=[9,13,27,32],Cp=or&&"CompositionEvent"in window,Ds=null;or&&"documentMode"in document&&(Ds=document.documentMode);var Ub=or&&"TextEvent"in window&&!Ds,z0=or&&(!Cp||Ds&&8<Ds&&11>=Ds),Hg=" ",Wg=!1;function H0(t,e){switch(t){case"keyup":return jb.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function W0(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Yi=!1;function $b(t,e){switch(t){case"compositionend":return W0(e);case"keypress":return e.which!==32?null:(Wg=!0,Hg);case"textInput":return t=e.data,t===Hg&&Wg?null:t;default:return null}}function Bb(t,e){if(Yi)return t==="compositionend"||!Cp&&H0(t,e)?(t=q0(),Kl=Pp=Pr=null,Yi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return z0&&e.locale!=="ko"?null:e.data;default:return null}}var qb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!qb[t.type]:e==="textarea"}function K0(t,e,n,r){I0(r),e=vu(e,"onChange"),0<e.length&&(n=new Rp("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ms=null,ia=null;function zb(t){i1(t,0)}function vc(t){var e=Zi(t);if(v0(e))return t}function Hb(t,e){if(t==="change")return e}var G0=!1;if(or){var Df;if(or){var Mf="oninput"in document;if(!Mf){var Gg=document.createElement("div");Gg.setAttribute("oninput","return;"),Mf=typeof Gg.oninput=="function"}Df=Mf}else Df=!1;G0=Df&&(!document.documentMode||9<document.documentMode)}function Qg(){Ms&&(Ms.detachEvent("onpropertychange",Q0),ia=Ms=null)}function Q0(t){if(t.propertyName==="value"&&vc(ia)){var e=[];K0(e,ia,t,Sp(t)),P0(zb,e)}}function Wb(t,e,n){t==="focusin"?(Qg(),Ms=e,ia=n,Ms.attachEvent("onpropertychange",Q0)):t==="focusout"&&Qg()}function Kb(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return vc(ia)}function Gb(t,e){if(t==="click")return vc(e)}function Qb(t,e){if(t==="input"||t==="change")return vc(e)}function Yb(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Tn=typeof Object.is=="function"?Object.is:Yb;function oa(t,e){if(Tn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Ih.call(e,i)||!Tn(t[i],e[i]))return!1}return!0}function Yg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Xg(t,e){var n=Yg(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Yg(n)}}function Y0(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Y0(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function X0(){for(var t=window,e=cu();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=cu(t.document)}return e}function Np(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Xb(t){var e=X0(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Y0(n.ownerDocument.documentElement,n)){if(r!==null&&Np(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=Xg(n,o);var s=Xg(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Jb=or&&"documentMode"in document&&11>=document.documentMode,Xi=null,qh=null,Vs=null,zh=!1;function Jg(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;zh||Xi==null||Xi!==cu(r)||(r=Xi,"selectionStart"in r&&Np(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Vs&&oa(Vs,r)||(Vs=r,r=vu(qh,"onSelect"),0<r.length&&(e=new Rp("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Xi)))}function wl(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ji={animationend:wl("Animation","AnimationEnd"),animationiteration:wl("Animation","AnimationIteration"),animationstart:wl("Animation","AnimationStart"),transitionend:wl("Transition","TransitionEnd")},Vf={},J0={};or&&(J0=document.createElement("div").style,"AnimationEvent"in window||(delete Ji.animationend.animation,delete Ji.animationiteration.animation,delete Ji.animationstart.animation),"TransitionEvent"in window||delete Ji.transitionend.transition);function yc(t){if(Vf[t])return Vf[t];if(!Ji[t])return t;var e=Ji[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in J0)return Vf[t]=e[n];return t}var Z0=yc("animationend"),e1=yc("animationiteration"),t1=yc("animationstart"),n1=yc("transitionend"),r1=new Map,Zg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Xr(t,e){r1.set(t,e),Di(e,[t])}for(var Ff=0;Ff<Zg.length;Ff++){var jf=Zg[Ff],Zb=jf.toLowerCase(),eA=jf[0].toUpperCase()+jf.slice(1);Xr(Zb,"on"+eA)}Xr(Z0,"onAnimationEnd");Xr(e1,"onAnimationIteration");Xr(t1,"onAnimationStart");Xr("dblclick","onDoubleClick");Xr("focusin","onFocus");Xr("focusout","onBlur");Xr(n1,"onTransitionEnd");So("onMouseEnter",["mouseout","mouseover"]);So("onMouseLeave",["mouseout","mouseover"]);So("onPointerEnter",["pointerout","pointerover"]);So("onPointerLeave",["pointerout","pointerover"]);Di("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Di("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Di("onBeforeInput",["compositionend","keypress","textInput","paste"]);Di("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Di("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Di("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Is="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),tA=new Set("cancel close invalid load scroll toggle".split(" ").concat(Is));function ev(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,ZI(r,e,void 0,t),t.currentTarget=null}function i1(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;ev(i,a,u),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,u=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;ev(i,a,u),o=l}}}if(hu)throw t=jh,hu=!1,jh=null,t}function De(t,e){var n=e[Qh];n===void 0&&(n=e[Qh]=new Set);var r=t+"__bubble";n.has(r)||(o1(e,t,2,!1),n.add(r))}function Uf(t,e,n){var r=0;e&&(r|=4),o1(n,t,r,e)}var Tl="_reactListening"+Math.random().toString(36).slice(2);function sa(t){if(!t[Tl]){t[Tl]=!0,h0.forEach(function(n){n!=="selectionchange"&&(tA.has(n)||Uf(n,!1,t),Uf(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Tl]||(e[Tl]=!0,Uf("selectionchange",!1,e))}}function o1(t,e,n,r){switch(B0(e)){case 1:var i=mb;break;case 4:i=gb;break;default:i=Op}n=i.bind(null,e,n,t),i=void 0,!Fh||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function $f(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=hi(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}P0(function(){var u=o,h=Sp(n),f=[];e:{var c=r1.get(t);if(c!==void 0){var d=Rp,_=t;switch(t){case"keypress":if(Gl(n)===0)break e;case"keydown":case"keyup":d=Cb;break;case"focusin":_="focus",d=Lf;break;case"focusout":_="blur",d=Lf;break;case"beforeblur":case"afterblur":d=Lf;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":d=Bg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":d=_b;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":d=Lb;break;case Z0:case e1:case t1:d=Tb;break;case n1:d=Mb;break;case"scroll":d=vb;break;case"wheel":d=Fb;break;case"copy":case"cut":case"paste":d=Ib;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":d=zg}var y=(e&4)!==0,E=!y&&t==="scroll",m=y?c!==null?c+"Capture":null:c;y=[];for(var p=u,v;p!==null;){v=p;var g=v.stateNode;if(v.tag===5&&g!==null&&(v=g,m!==null&&(g=ea(p,m),g!=null&&y.push(aa(p,g,v)))),E)break;p=p.return}0<y.length&&(c=new d(c,_,null,n,h),f.push({event:c,listeners:y}))}}if(!(e&7)){e:{if(c=t==="mouseover"||t==="pointerover",d=t==="mouseout"||t==="pointerout",c&&n!==Mh&&(_=n.relatedTarget||n.fromElement)&&(hi(_)||_[sr]))break e;if((d||c)&&(c=h.window===h?h:(c=h.ownerDocument)?c.defaultView||c.parentWindow:window,d?(_=n.relatedTarget||n.toElement,d=u,_=_?hi(_):null,_!==null&&(E=Mi(_),_!==E||_.tag!==5&&_.tag!==6)&&(_=null)):(d=null,_=u),d!==_)){if(y=Bg,g="onMouseLeave",m="onMouseEnter",p="mouse",(t==="pointerout"||t==="pointerover")&&(y=zg,g="onPointerLeave",m="onPointerEnter",p="pointer"),E=d==null?c:Zi(d),v=_==null?c:Zi(_),c=new y(g,p+"leave",d,n,h),c.target=E,c.relatedTarget=v,g=null,hi(h)===u&&(y=new y(m,p+"enter",_,n,h),y.target=v,y.relatedTarget=E,g=y),E=g,d&&_)t:{for(y=d,m=_,p=0,v=y;v;v=Bi(v))p++;for(v=0,g=m;g;g=Bi(g))v++;for(;0<p-v;)y=Bi(y),p--;for(;0<v-p;)m=Bi(m),v--;for(;p--;){if(y===m||m!==null&&y===m.alternate)break t;y=Bi(y),m=Bi(m)}y=null}else y=null;d!==null&&tv(f,c,d,y,!1),_!==null&&E!==null&&tv(f,E,_,y,!0)}}e:{if(c=u?Zi(u):window,d=c.nodeName&&c.nodeName.toLowerCase(),d==="select"||d==="input"&&c.type==="file")var w=Hb;else if(Kg(c))if(G0)w=Qb;else{w=Kb;var A=Wb}else(d=c.nodeName)&&d.toLowerCase()==="input"&&(c.type==="checkbox"||c.type==="radio")&&(w=Gb);if(w&&(w=w(t,u))){K0(f,w,n,h);break e}A&&A(t,c,u),t==="focusout"&&(A=c._wrapperState)&&A.controlled&&c.type==="number"&&Ch(c,"number",c.value)}switch(A=u?Zi(u):window,t){case"focusin":(Kg(A)||A.contentEditable==="true")&&(Xi=A,qh=u,Vs=null);break;case"focusout":Vs=qh=Xi=null;break;case"mousedown":zh=!0;break;case"contextmenu":case"mouseup":case"dragend":zh=!1,Jg(f,n,h);break;case"selectionchange":if(Jb)break;case"keydown":case"keyup":Jg(f,n,h)}var T;if(Cp)e:{switch(t){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else Yi?H0(t,n)&&(S="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(S="onCompositionStart");S&&(z0&&n.locale!=="ko"&&(Yi||S!=="onCompositionStart"?S==="onCompositionEnd"&&Yi&&(T=q0()):(Pr=h,Pp="value"in Pr?Pr.value:Pr.textContent,Yi=!0)),A=vu(u,S),0<A.length&&(S=new qg(S,t,null,n,h),f.push({event:S,listeners:A}),T?S.data=T:(T=W0(n),T!==null&&(S.data=T)))),(T=Ub?$b(t,n):Bb(t,n))&&(u=vu(u,"onBeforeInput"),0<u.length&&(h=new qg("onBeforeInput","beforeinput",null,n,h),f.push({event:h,listeners:u}),h.data=T))}i1(f,e)})}function aa(t,e,n){return{instance:t,listener:e,currentTarget:n}}function vu(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=ea(t,n),o!=null&&r.unshift(aa(t,o,i)),o=ea(t,e),o!=null&&r.push(aa(t,o,i))),t=t.return}return r}function Bi(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function tv(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=ea(n,o),l!=null&&s.unshift(aa(n,l,a))):i||(l=ea(n,o),l!=null&&s.push(aa(n,l,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var nA=/\r\n?/g,rA=/\u0000|\uFFFD/g;function nv(t){return(typeof t=="string"?t:""+t).replace(nA,`
`).replace(rA,"")}function Sl(t,e,n){if(e=nv(e),nv(t)!==e&&n)throw Error(Z(425))}function yu(){}var Hh=null,Wh=null;function Kh(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Gh=typeof setTimeout=="function"?setTimeout:void 0,iA=typeof clearTimeout=="function"?clearTimeout:void 0,rv=typeof Promise=="function"?Promise:void 0,oA=typeof queueMicrotask=="function"?queueMicrotask:typeof rv<"u"?function(t){return rv.resolve(null).then(t).catch(sA)}:Gh;function sA(t){setTimeout(function(){throw t})}function Bf(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),ra(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);ra(e)}function Mr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function iv(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var qo=Math.random().toString(36).slice(2),kn="__reactFiber$"+qo,la="__reactProps$"+qo,sr="__reactContainer$"+qo,Qh="__reactEvents$"+qo,aA="__reactListeners$"+qo,lA="__reactHandles$"+qo;function hi(t){var e=t[kn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[sr]||n[kn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=iv(t);t!==null;){if(n=t[kn])return n;t=iv(t)}return e}t=n,n=t.parentNode}return null}function ja(t){return t=t[kn]||t[sr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Zi(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Z(33))}function _c(t){return t[la]||null}var Yh=[],eo=-1;function Jr(t){return{current:t}}function Fe(t){0>eo||(t.current=Yh[eo],Yh[eo]=null,eo--)}function xe(t,e){eo++,Yh[eo]=t.current,t.current=e}var Kr={},Rt=Jr(Kr),$t=Jr(!1),Ti=Kr;function Io(t,e){var n=t.type.contextTypes;if(!n)return Kr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Bt(t){return t=t.childContextTypes,t!=null}function _u(){Fe($t),Fe(Rt)}function ov(t,e,n){if(Rt.current!==Kr)throw Error(Z(168));xe(Rt,e),xe($t,n)}function s1(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Z(108,WI(t)||"Unknown",i));return ze({},n,r)}function Eu(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Kr,Ti=Rt.current,xe(Rt,t),xe($t,$t.current),!0}function sv(t,e,n){var r=t.stateNode;if(!r)throw Error(Z(169));n?(t=s1(t,e,Ti),r.__reactInternalMemoizedMergedChildContext=t,Fe($t),Fe(Rt),xe(Rt,t)):Fe($t),xe($t,n)}var Kn=null,Ec=!1,qf=!1;function a1(t){Kn===null?Kn=[t]:Kn.push(t)}function uA(t){Ec=!0,a1(t)}function Zr(){if(!qf&&Kn!==null){qf=!0;var t=0,e=Ce;try{var n=Kn;for(Ce=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Kn=null,Ec=!1}catch(i){throw Kn!==null&&(Kn=Kn.slice(t+1)),N0(Ip,Zr),i}finally{Ce=e,qf=!1}}return null}var to=[],no=0,wu=null,Tu=0,en=[],tn=0,Si=null,Qn=1,Yn="";function si(t,e){to[no++]=Tu,to[no++]=wu,wu=t,Tu=e}function l1(t,e,n){en[tn++]=Qn,en[tn++]=Yn,en[tn++]=Si,Si=t;var r=Qn;t=Yn;var i=32-_n(r)-1;r&=~(1<<i),n+=1;var o=32-_n(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Qn=1<<32-_n(e)+i|n<<i|r,Yn=o+t}else Qn=1<<o|n<<i|r,Yn=t}function xp(t){t.return!==null&&(si(t,1),l1(t,1,0))}function Lp(t){for(;t===wu;)wu=to[--no],to[no]=null,Tu=to[--no],to[no]=null;for(;t===Si;)Si=en[--tn],en[tn]=null,Yn=en[--tn],en[tn]=null,Qn=en[--tn],en[tn]=null}var Kt=null,Wt=null,je=!1,vn=null;function u1(t,e){var n=on(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function av(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Kt=t,Wt=Mr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Kt=t,Wt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Si!==null?{id:Qn,overflow:Yn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=on(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Kt=t,Wt=null,!0):!1;default:return!1}}function Xh(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Jh(t){if(je){var e=Wt;if(e){var n=e;if(!av(t,e)){if(Xh(t))throw Error(Z(418));e=Mr(n.nextSibling);var r=Kt;e&&av(t,e)?u1(r,n):(t.flags=t.flags&-4097|2,je=!1,Kt=t)}}else{if(Xh(t))throw Error(Z(418));t.flags=t.flags&-4097|2,je=!1,Kt=t}}}function lv(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Kt=t}function Il(t){if(t!==Kt)return!1;if(!je)return lv(t),je=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Kh(t.type,t.memoizedProps)),e&&(e=Wt)){if(Xh(t))throw c1(),Error(Z(418));for(;e;)u1(t,e),e=Mr(e.nextSibling)}if(lv(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Z(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Wt=Mr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Wt=null}}else Wt=Kt?Mr(t.stateNode.nextSibling):null;return!0}function c1(){for(var t=Wt;t;)t=Mr(t.nextSibling)}function bo(){Wt=Kt=null,je=!1}function Dp(t){vn===null?vn=[t]:vn.push(t)}var cA=dr.ReactCurrentBatchConfig;function ds(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Z(309));var r=n.stateNode}if(!r)throw Error(Z(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=i.refs;s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(Z(284));if(!n._owner)throw Error(Z(290,t))}return t}function bl(t,e){throw t=Object.prototype.toString.call(e),Error(Z(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function uv(t){var e=t._init;return e(t._payload)}function f1(t){function e(m,p){if(t){var v=m.deletions;v===null?(m.deletions=[p],m.flags|=16):v.push(p)}}function n(m,p){if(!t)return null;for(;p!==null;)e(m,p),p=p.sibling;return null}function r(m,p){for(m=new Map;p!==null;)p.key!==null?m.set(p.key,p):m.set(p.index,p),p=p.sibling;return m}function i(m,p){return m=Ur(m,p),m.index=0,m.sibling=null,m}function o(m,p,v){return m.index=v,t?(v=m.alternate,v!==null?(v=v.index,v<p?(m.flags|=2,p):v):(m.flags|=2,p)):(m.flags|=1048576,p)}function s(m){return t&&m.alternate===null&&(m.flags|=2),m}function a(m,p,v,g){return p===null||p.tag!==6?(p=Yf(v,m.mode,g),p.return=m,p):(p=i(p,v),p.return=m,p)}function l(m,p,v,g){var w=v.type;return w===Qi?h(m,p,v.props.children,g,v.key):p!==null&&(p.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Er&&uv(w)===p.type)?(g=i(p,v.props),g.ref=ds(m,p,v),g.return=m,g):(g=tu(v.type,v.key,v.props,null,m.mode,g),g.ref=ds(m,p,v),g.return=m,g)}function u(m,p,v,g){return p===null||p.tag!==4||p.stateNode.containerInfo!==v.containerInfo||p.stateNode.implementation!==v.implementation?(p=Xf(v,m.mode,g),p.return=m,p):(p=i(p,v.children||[]),p.return=m,p)}function h(m,p,v,g,w){return p===null||p.tag!==7?(p=_i(v,m.mode,g,w),p.return=m,p):(p=i(p,v),p.return=m,p)}function f(m,p,v){if(typeof p=="string"&&p!==""||typeof p=="number")return p=Yf(""+p,m.mode,v),p.return=m,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case pl:return v=tu(p.type,p.key,p.props,null,m.mode,v),v.ref=ds(m,null,p),v.return=m,v;case Gi:return p=Xf(p,m.mode,v),p.return=m,p;case Er:var g=p._init;return f(m,g(p._payload),v)}if(Ts(p)||ls(p))return p=_i(p,m.mode,v,null),p.return=m,p;bl(m,p)}return null}function c(m,p,v,g){var w=p!==null?p.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return w!==null?null:a(m,p,""+v,g);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case pl:return v.key===w?l(m,p,v,g):null;case Gi:return v.key===w?u(m,p,v,g):null;case Er:return w=v._init,c(m,p,w(v._payload),g)}if(Ts(v)||ls(v))return w!==null?null:h(m,p,v,g,null);bl(m,v)}return null}function d(m,p,v,g,w){if(typeof g=="string"&&g!==""||typeof g=="number")return m=m.get(v)||null,a(p,m,""+g,w);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case pl:return m=m.get(g.key===null?v:g.key)||null,l(p,m,g,w);case Gi:return m=m.get(g.key===null?v:g.key)||null,u(p,m,g,w);case Er:var A=g._init;return d(m,p,v,A(g._payload),w)}if(Ts(g)||ls(g))return m=m.get(v)||null,h(p,m,g,w,null);bl(p,g)}return null}function _(m,p,v,g){for(var w=null,A=null,T=p,S=p=0,k=null;T!==null&&S<v.length;S++){T.index>S?(k=T,T=null):k=T.sibling;var b=c(m,T,v[S],g);if(b===null){T===null&&(T=k);break}t&&T&&b.alternate===null&&e(m,T),p=o(b,p,S),A===null?w=b:A.sibling=b,A=b,T=k}if(S===v.length)return n(m,T),je&&si(m,S),w;if(T===null){for(;S<v.length;S++)T=f(m,v[S],g),T!==null&&(p=o(T,p,S),A===null?w=T:A.sibling=T,A=T);return je&&si(m,S),w}for(T=r(m,T);S<v.length;S++)k=d(T,m,S,v[S],g),k!==null&&(t&&k.alternate!==null&&T.delete(k.key===null?S:k.key),p=o(k,p,S),A===null?w=k:A.sibling=k,A=k);return t&&T.forEach(function(I){return e(m,I)}),je&&si(m,S),w}function y(m,p,v,g){var w=ls(v);if(typeof w!="function")throw Error(Z(150));if(v=w.call(v),v==null)throw Error(Z(151));for(var A=w=null,T=p,S=p=0,k=null,b=v.next();T!==null&&!b.done;S++,b=v.next()){T.index>S?(k=T,T=null):k=T.sibling;var I=c(m,T,b.value,g);if(I===null){T===null&&(T=k);break}t&&T&&I.alternate===null&&e(m,T),p=o(I,p,S),A===null?w=I:A.sibling=I,A=I,T=k}if(b.done)return n(m,T),je&&si(m,S),w;if(T===null){for(;!b.done;S++,b=v.next())b=f(m,b.value,g),b!==null&&(p=o(b,p,S),A===null?w=b:A.sibling=b,A=b);return je&&si(m,S),w}for(T=r(m,T);!b.done;S++,b=v.next())b=d(T,m,S,b.value,g),b!==null&&(t&&b.alternate!==null&&T.delete(b.key===null?S:b.key),p=o(b,p,S),A===null?w=b:A.sibling=b,A=b);return t&&T.forEach(function(O){return e(m,O)}),je&&si(m,S),w}function E(m,p,v,g){if(typeof v=="object"&&v!==null&&v.type===Qi&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case pl:e:{for(var w=v.key,A=p;A!==null;){if(A.key===w){if(w=v.type,w===Qi){if(A.tag===7){n(m,A.sibling),p=i(A,v.props.children),p.return=m,m=p;break e}}else if(A.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Er&&uv(w)===A.type){n(m,A.sibling),p=i(A,v.props),p.ref=ds(m,A,v),p.return=m,m=p;break e}n(m,A);break}else e(m,A);A=A.sibling}v.type===Qi?(p=_i(v.props.children,m.mode,g,v.key),p.return=m,m=p):(g=tu(v.type,v.key,v.props,null,m.mode,g),g.ref=ds(m,p,v),g.return=m,m=g)}return s(m);case Gi:e:{for(A=v.key;p!==null;){if(p.key===A)if(p.tag===4&&p.stateNode.containerInfo===v.containerInfo&&p.stateNode.implementation===v.implementation){n(m,p.sibling),p=i(p,v.children||[]),p.return=m,m=p;break e}else{n(m,p);break}else e(m,p);p=p.sibling}p=Xf(v,m.mode,g),p.return=m,m=p}return s(m);case Er:return A=v._init,E(m,p,A(v._payload),g)}if(Ts(v))return _(m,p,v,g);if(ls(v))return y(m,p,v,g);bl(m,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,p!==null&&p.tag===6?(n(m,p.sibling),p=i(p,v),p.return=m,m=p):(n(m,p),p=Yf(v,m.mode,g),p.return=m,m=p),s(m)):n(m,p)}return E}var Ao=f1(!0),h1=f1(!1),Su=Jr(null),Iu=null,ro=null,Mp=null;function Vp(){Mp=ro=Iu=null}function Fp(t){var e=Su.current;Fe(Su),t._currentValue=e}function Zh(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function po(t,e){Iu=t,Mp=ro=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ut=!0),t.firstContext=null)}function ln(t){var e=t._currentValue;if(Mp!==t)if(t={context:t,memoizedValue:e,next:null},ro===null){if(Iu===null)throw Error(Z(308));ro=t,Iu.dependencies={lanes:0,firstContext:t}}else ro=ro.next=t;return e}var di=null;function jp(t){di===null?di=[t]:di.push(t)}function d1(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,jp(e)):(n.next=i.next,i.next=n),e.interleaved=n,ar(t,r)}function ar(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var wr=!1;function Up(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function p1(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function tr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Vr(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Oe&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,ar(t,n)}return i=r.interleaved,i===null?(e.next=e,jp(r)):(e.next=i.next,i.next=e),r.interleaved=e,ar(t,n)}function Ql(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,bp(t,n)}}function cv(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function bu(t,e,n,r){var i=t.updateQueue;wr=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,s===null?o=u:s.next=u,s=l;var h=t.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==s&&(a===null?h.firstBaseUpdate=u:a.next=u,h.lastBaseUpdate=l))}if(o!==null){var f=i.baseState;s=0,h=u=l=null,a=o;do{var c=a.lane,d=a.eventTime;if((r&c)===c){h!==null&&(h=h.next={eventTime:d,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var _=t,y=a;switch(c=e,d=n,y.tag){case 1:if(_=y.payload,typeof _=="function"){f=_.call(d,f,c);break e}f=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=y.payload,c=typeof _=="function"?_.call(d,f,c):_,c==null)break e;f=ze({},f,c);break e;case 2:wr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,c=i.effects,c===null?i.effects=[a]:c.push(a))}else d={eventTime:d,lane:c,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(u=h=d,l=f):h=h.next=d,s|=c;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;c=a,a=c.next,c.next=null,i.lastBaseUpdate=c,i.shared.pending=null}}while(!0);if(h===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=h,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);bi|=s,t.lanes=s,t.memoizedState=f}}function fv(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Z(191,i));i.call(r)}}}var Ua={},Fn=Jr(Ua),ua=Jr(Ua),ca=Jr(Ua);function pi(t){if(t===Ua)throw Error(Z(174));return t}function $p(t,e){switch(xe(ca,e),xe(ua,t),xe(Fn,Ua),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:xh(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=xh(e,t)}Fe(Fn),xe(Fn,e)}function Oo(){Fe(Fn),Fe(ua),Fe(ca)}function m1(t){pi(ca.current);var e=pi(Fn.current),n=xh(e,t.type);e!==n&&(xe(ua,t),xe(Fn,n))}function Bp(t){ua.current===t&&(Fe(Fn),Fe(ua))}var Be=Jr(0);function Au(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var zf=[];function qp(){for(var t=0;t<zf.length;t++)zf[t]._workInProgressVersionPrimary=null;zf.length=0}var Yl=dr.ReactCurrentDispatcher,Hf=dr.ReactCurrentBatchConfig,Ii=0,qe=null,tt=null,st=null,Ou=!1,Fs=!1,fa=0,fA=0;function _t(){throw Error(Z(321))}function zp(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Tn(t[n],e[n]))return!1;return!0}function Hp(t,e,n,r,i,o){if(Ii=o,qe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Yl.current=t===null||t.memoizedState===null?mA:gA,t=n(r,i),Fs){o=0;do{if(Fs=!1,fa=0,25<=o)throw Error(Z(301));o+=1,st=tt=null,e.updateQueue=null,Yl.current=vA,t=n(r,i)}while(Fs)}if(Yl.current=Pu,e=tt!==null&&tt.next!==null,Ii=0,st=tt=qe=null,Ou=!1,e)throw Error(Z(300));return t}function Wp(){var t=fa!==0;return fa=0,t}function Rn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return st===null?qe.memoizedState=st=t:st=st.next=t,st}function un(){if(tt===null){var t=qe.alternate;t=t!==null?t.memoizedState:null}else t=tt.next;var e=st===null?qe.memoizedState:st.next;if(e!==null)st=e,tt=t;else{if(t===null)throw Error(Z(310));tt=t,t={memoizedState:tt.memoizedState,baseState:tt.baseState,baseQueue:tt.baseQueue,queue:tt.queue,next:null},st===null?qe.memoizedState=st=t:st=st.next=t}return st}function ha(t,e){return typeof e=="function"?e(t):e}function Wf(t){var e=un(),n=e.queue;if(n===null)throw Error(Z(311));n.lastRenderedReducer=t;var r=tt,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,u=o;do{var h=u.lane;if((Ii&h)===h)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=f,s=r):l=l.next=f,qe.lanes|=h,bi|=h}u=u.next}while(u!==null&&u!==o);l===null?s=r:l.next=a,Tn(r,e.memoizedState)||(Ut=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,qe.lanes|=o,bi|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Kf(t){var e=un(),n=e.queue;if(n===null)throw Error(Z(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);Tn(o,e.memoizedState)||(Ut=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function g1(){}function v1(t,e){var n=qe,r=un(),i=e(),o=!Tn(r.memoizedState,i);if(o&&(r.memoizedState=i,Ut=!0),r=r.queue,Kp(E1.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||st!==null&&st.memoizedState.tag&1){if(n.flags|=2048,da(9,_1.bind(null,n,r,i,e),void 0,null),at===null)throw Error(Z(349));Ii&30||y1(n,e,i)}return i}function y1(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=qe.updateQueue,e===null?(e={lastEffect:null,stores:null},qe.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function _1(t,e,n,r){e.value=n,e.getSnapshot=r,w1(e)&&T1(t)}function E1(t,e,n){return n(function(){w1(e)&&T1(t)})}function w1(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Tn(t,n)}catch{return!0}}function T1(t){var e=ar(t,1);e!==null&&En(e,t,1,-1)}function hv(t){var e=Rn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ha,lastRenderedState:t},e.queue=t,t=t.dispatch=pA.bind(null,qe,t),[e.memoizedState,t]}function da(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=qe.updateQueue,e===null?(e={lastEffect:null,stores:null},qe.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function S1(){return un().memoizedState}function Xl(t,e,n,r){var i=Rn();qe.flags|=t,i.memoizedState=da(1|e,n,void 0,r===void 0?null:r)}function wc(t,e,n,r){var i=un();r=r===void 0?null:r;var o=void 0;if(tt!==null){var s=tt.memoizedState;if(o=s.destroy,r!==null&&zp(r,s.deps)){i.memoizedState=da(e,n,o,r);return}}qe.flags|=t,i.memoizedState=da(1|e,n,o,r)}function dv(t,e){return Xl(8390656,8,t,e)}function Kp(t,e){return wc(2048,8,t,e)}function I1(t,e){return wc(4,2,t,e)}function b1(t,e){return wc(4,4,t,e)}function A1(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function O1(t,e,n){return n=n!=null?n.concat([t]):null,wc(4,4,A1.bind(null,e,t),n)}function Gp(){}function P1(t,e){var n=un();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&zp(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function R1(t,e){var n=un();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&zp(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function k1(t,e,n){return Ii&21?(Tn(n,e)||(n=D0(),qe.lanes|=n,bi|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ut=!0),t.memoizedState=n)}function hA(t,e){var n=Ce;Ce=n!==0&&4>n?n:4,t(!0);var r=Hf.transition;Hf.transition={};try{t(!1),e()}finally{Ce=n,Hf.transition=r}}function C1(){return un().memoizedState}function dA(t,e,n){var r=jr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},N1(t))x1(e,n);else if(n=d1(t,e,n,r),n!==null){var i=Dt();En(n,t,r,i),L1(n,e,r)}}function pA(t,e,n){var r=jr(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(N1(t))x1(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,Tn(a,s)){var l=e.interleaved;l===null?(i.next=i,jp(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=d1(t,e,i,r),n!==null&&(i=Dt(),En(n,t,r,i),L1(n,e,r))}}function N1(t){var e=t.alternate;return t===qe||e!==null&&e===qe}function x1(t,e){Fs=Ou=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function L1(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,bp(t,n)}}var Pu={readContext:ln,useCallback:_t,useContext:_t,useEffect:_t,useImperativeHandle:_t,useInsertionEffect:_t,useLayoutEffect:_t,useMemo:_t,useReducer:_t,useRef:_t,useState:_t,useDebugValue:_t,useDeferredValue:_t,useTransition:_t,useMutableSource:_t,useSyncExternalStore:_t,useId:_t,unstable_isNewReconciler:!1},mA={readContext:ln,useCallback:function(t,e){return Rn().memoizedState=[t,e===void 0?null:e],t},useContext:ln,useEffect:dv,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Xl(4194308,4,A1.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Xl(4194308,4,t,e)},useInsertionEffect:function(t,e){return Xl(4,2,t,e)},useMemo:function(t,e){var n=Rn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Rn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=dA.bind(null,qe,t),[r.memoizedState,t]},useRef:function(t){var e=Rn();return t={current:t},e.memoizedState=t},useState:hv,useDebugValue:Gp,useDeferredValue:function(t){return Rn().memoizedState=t},useTransition:function(){var t=hv(!1),e=t[0];return t=hA.bind(null,t[1]),Rn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=qe,i=Rn();if(je){if(n===void 0)throw Error(Z(407));n=n()}else{if(n=e(),at===null)throw Error(Z(349));Ii&30||y1(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,dv(E1.bind(null,r,o,t),[t]),r.flags|=2048,da(9,_1.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=Rn(),e=at.identifierPrefix;if(je){var n=Yn,r=Qn;n=(r&~(1<<32-_n(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=fa++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=fA++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},gA={readContext:ln,useCallback:P1,useContext:ln,useEffect:Kp,useImperativeHandle:O1,useInsertionEffect:I1,useLayoutEffect:b1,useMemo:R1,useReducer:Wf,useRef:S1,useState:function(){return Wf(ha)},useDebugValue:Gp,useDeferredValue:function(t){var e=un();return k1(e,tt.memoizedState,t)},useTransition:function(){var t=Wf(ha)[0],e=un().memoizedState;return[t,e]},useMutableSource:g1,useSyncExternalStore:v1,useId:C1,unstable_isNewReconciler:!1},vA={readContext:ln,useCallback:P1,useContext:ln,useEffect:Kp,useImperativeHandle:O1,useInsertionEffect:I1,useLayoutEffect:b1,useMemo:R1,useReducer:Kf,useRef:S1,useState:function(){return Kf(ha)},useDebugValue:Gp,useDeferredValue:function(t){var e=un();return tt===null?e.memoizedState=t:k1(e,tt.memoizedState,t)},useTransition:function(){var t=Kf(ha)[0],e=un().memoizedState;return[t,e]},useMutableSource:g1,useSyncExternalStore:v1,useId:C1,unstable_isNewReconciler:!1};function pn(t,e){if(t&&t.defaultProps){e=ze({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function ed(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ze({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Tc={isMounted:function(t){return(t=t._reactInternals)?Mi(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Dt(),i=jr(t),o=tr(r,i);o.payload=e,n!=null&&(o.callback=n),e=Vr(t,o,i),e!==null&&(En(e,t,i,r),Ql(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Dt(),i=jr(t),o=tr(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=Vr(t,o,i),e!==null&&(En(e,t,i,r),Ql(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Dt(),r=jr(t),i=tr(n,r);i.tag=2,e!=null&&(i.callback=e),e=Vr(t,i,r),e!==null&&(En(e,t,r,n),Ql(e,t,r))}};function pv(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!oa(n,r)||!oa(i,o):!0}function D1(t,e,n){var r=!1,i=Kr,o=e.contextType;return typeof o=="object"&&o!==null?o=ln(o):(i=Bt(e)?Ti:Rt.current,r=e.contextTypes,o=(r=r!=null)?Io(t,i):Kr),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Tc,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function mv(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Tc.enqueueReplaceState(e,e.state,null)}function td(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Up(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=ln(o):(o=Bt(e)?Ti:Rt.current,i.context=Io(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(ed(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Tc.enqueueReplaceState(i,i.state,null),bu(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Po(t,e){try{var n="",r=e;do n+=HI(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function Gf(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function nd(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var yA=typeof WeakMap=="function"?WeakMap:Map;function M1(t,e,n){n=tr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){ku||(ku=!0,hd=r),nd(t,e)},n}function V1(t,e,n){n=tr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){nd(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){nd(t,e),typeof r!="function"&&(Fr===null?Fr=new Set([this]):Fr.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function gv(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new yA;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=NA.bind(null,t,e,n),e.then(t,t))}function vv(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function yv(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=tr(-1,1),e.tag=2,Vr(n,e,1))),n.lanes|=1),t)}var _A=dr.ReactCurrentOwner,Ut=!1;function Nt(t,e,n,r){e.child=t===null?h1(e,null,n,r):Ao(e,t.child,n,r)}function _v(t,e,n,r,i){n=n.render;var o=e.ref;return po(e,i),r=Hp(t,e,n,r,o,i),n=Wp(),t!==null&&!Ut?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,lr(t,e,i)):(je&&n&&xp(e),e.flags|=1,Nt(t,e,r,i),e.child)}function Ev(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!nm(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,F1(t,e,o,r,i)):(t=tu(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:oa,n(s,r)&&t.ref===e.ref)return lr(t,e,i)}return e.flags|=1,t=Ur(o,r),t.ref=e.ref,t.return=e,e.child=t}function F1(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(oa(o,r)&&t.ref===e.ref)if(Ut=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(Ut=!0);else return e.lanes=t.lanes,lr(t,e,i)}return rd(t,e,n,r,i)}function j1(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},xe(oo,zt),zt|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,xe(oo,zt),zt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,xe(oo,zt),zt|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,xe(oo,zt),zt|=r;return Nt(t,e,i,n),e.child}function U1(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function rd(t,e,n,r,i){var o=Bt(n)?Ti:Rt.current;return o=Io(e,o),po(e,i),n=Hp(t,e,n,r,o,i),r=Wp(),t!==null&&!Ut?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,lr(t,e,i)):(je&&r&&xp(e),e.flags|=1,Nt(t,e,n,i),e.child)}function wv(t,e,n,r,i){if(Bt(n)){var o=!0;Eu(e)}else o=!1;if(po(e,i),e.stateNode===null)Jl(t,e),D1(e,n,r),td(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=ln(u):(u=Bt(n)?Ti:Rt.current,u=Io(e,u));var h=n.getDerivedStateFromProps,f=typeof h=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==u)&&mv(e,s,r,u),wr=!1;var c=e.memoizedState;s.state=c,bu(e,r,s,i),l=e.memoizedState,a!==r||c!==l||$t.current||wr?(typeof h=="function"&&(ed(e,n,h,r),l=e.memoizedState),(a=wr||pv(e,n,a,r,c,l,u))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=u,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,p1(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:pn(e.type,a),s.props=u,f=e.pendingProps,c=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=ln(l):(l=Bt(n)?Ti:Rt.current,l=Io(e,l));var d=n.getDerivedStateFromProps;(h=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==f||c!==l)&&mv(e,s,r,l),wr=!1,c=e.memoizedState,s.state=c,bu(e,r,s,i);var _=e.memoizedState;a!==f||c!==_||$t.current||wr?(typeof d=="function"&&(ed(e,n,d,r),_=e.memoizedState),(u=wr||pv(e,n,u,r,c,_,l)||!1)?(h||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,_,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,_,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&c===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&c===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=_),s.props=r,s.state=_,s.context=l,r=u):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&c===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&c===t.memoizedState||(e.flags|=1024),r=!1)}return id(t,e,n,r,o,i)}function id(t,e,n,r,i,o){U1(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&sv(e,n,!1),lr(t,e,o);r=e.stateNode,_A.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=Ao(e,t.child,null,o),e.child=Ao(e,null,a,o)):Nt(t,e,a,o),e.memoizedState=r.state,i&&sv(e,n,!0),e.child}function $1(t){var e=t.stateNode;e.pendingContext?ov(t,e.pendingContext,e.pendingContext!==e.context):e.context&&ov(t,e.context,!1),$p(t,e.containerInfo)}function Tv(t,e,n,r,i){return bo(),Dp(i),e.flags|=256,Nt(t,e,n,r),e.child}var od={dehydrated:null,treeContext:null,retryLane:0};function sd(t){return{baseLanes:t,cachePool:null,transitions:null}}function B1(t,e,n){var r=e.pendingProps,i=Be.current,o=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),xe(Be,i&1),t===null)return Jh(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=bc(s,r,0,null),t=_i(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=sd(n),e.memoizedState=od,t):Qp(e,s));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return EA(t,e,s,r,a,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Ur(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=Ur(a,o):(o=_i(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?sd(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=od,r}return o=t.child,t=o.sibling,r=Ur(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Qp(t,e){return e=bc({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Al(t,e,n,r){return r!==null&&Dp(r),Ao(e,t.child,null,n),t=Qp(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function EA(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=Gf(Error(Z(422))),Al(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=bc({mode:"visible",children:r.children},i,0,null),o=_i(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&Ao(e,t.child,null,s),e.child.memoizedState=sd(s),e.memoizedState=od,o);if(!(e.mode&1))return Al(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(Z(419)),r=Gf(o,r,void 0),Al(t,e,s,r)}if(a=(s&t.childLanes)!==0,Ut||a){if(r=at,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,ar(t,i),En(r,t,i,-1))}return tm(),r=Gf(Error(Z(421))),Al(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=xA.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,Wt=Mr(i.nextSibling),Kt=e,je=!0,vn=null,t!==null&&(en[tn++]=Qn,en[tn++]=Yn,en[tn++]=Si,Qn=t.id,Yn=t.overflow,Si=e),e=Qp(e,r.children),e.flags|=4096,e)}function Sv(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Zh(t.return,e,n)}function Qf(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function q1(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(Nt(t,e,r.children,n),r=Be.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Sv(t,n,e);else if(t.tag===19)Sv(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(xe(Be,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Au(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Qf(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Au(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Qf(e,!0,n,null,o);break;case"together":Qf(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Jl(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function lr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),bi|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Z(153));if(e.child!==null){for(t=e.child,n=Ur(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ur(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function wA(t,e,n){switch(e.tag){case 3:$1(e),bo();break;case 5:m1(e);break;case 1:Bt(e.type)&&Eu(e);break;case 4:$p(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;xe(Su,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(xe(Be,Be.current&1),e.flags|=128,null):n&e.child.childLanes?B1(t,e,n):(xe(Be,Be.current&1),t=lr(t,e,n),t!==null?t.sibling:null);xe(Be,Be.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return q1(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),xe(Be,Be.current),r)break;return null;case 22:case 23:return e.lanes=0,j1(t,e,n)}return lr(t,e,n)}var z1,ad,H1,W1;z1=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};ad=function(){};H1=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,pi(Fn.current);var o=null;switch(n){case"input":i=Rh(t,i),r=Rh(t,r),o=[];break;case"select":i=ze({},i,{value:void 0}),r=ze({},r,{value:void 0}),o=[];break;case"textarea":i=Nh(t,i),r=Nh(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=yu)}Lh(n,r);var s;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Js.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Js.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&De("scroll",t),o||a===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};W1=function(t,e,n,r){n!==r&&(e.flags|=4)};function ps(t,e){if(!je)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Et(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function TA(t,e,n){var r=e.pendingProps;switch(Lp(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Et(e),null;case 1:return Bt(e.type)&&_u(),Et(e),null;case 3:return r=e.stateNode,Oo(),Fe($t),Fe(Rt),qp(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Il(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,vn!==null&&(md(vn),vn=null))),ad(t,e),Et(e),null;case 5:Bp(e);var i=pi(ca.current);if(n=e.type,t!==null&&e.stateNode!=null)H1(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Z(166));return Et(e),null}if(t=pi(Fn.current),Il(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[kn]=e,r[la]=o,t=(e.mode&1)!==0,n){case"dialog":De("cancel",r),De("close",r);break;case"iframe":case"object":case"embed":De("load",r);break;case"video":case"audio":for(i=0;i<Is.length;i++)De(Is[i],r);break;case"source":De("error",r);break;case"img":case"image":case"link":De("error",r),De("load",r);break;case"details":De("toggle",r);break;case"input":Ng(r,o),De("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},De("invalid",r);break;case"textarea":Lg(r,o),De("invalid",r)}Lh(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&Sl(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&Sl(r.textContent,a,t),i=["children",""+a]):Js.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&De("scroll",r)}switch(n){case"input":ml(r),xg(r,o,!0);break;case"textarea":ml(r),Dg(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=yu)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=E0(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[kn]=e,t[la]=r,z1(t,e,!1,!1),e.stateNode=t;e:{switch(s=Dh(n,r),n){case"dialog":De("cancel",t),De("close",t),i=r;break;case"iframe":case"object":case"embed":De("load",t),i=r;break;case"video":case"audio":for(i=0;i<Is.length;i++)De(Is[i],t);i=r;break;case"source":De("error",t),i=r;break;case"img":case"image":case"link":De("error",t),De("load",t),i=r;break;case"details":De("toggle",t),i=r;break;case"input":Ng(t,r),i=Rh(t,r),De("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=ze({},r,{value:void 0}),De("invalid",t);break;case"textarea":Lg(t,r),i=Nh(t,r),De("invalid",t);break;default:i=r}Lh(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?S0(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&w0(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Zs(t,l):typeof l=="number"&&Zs(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Js.hasOwnProperty(o)?l!=null&&o==="onScroll"&&De("scroll",t):l!=null&&_p(t,o,l,s))}switch(n){case"input":ml(t),xg(t,r,!1);break;case"textarea":ml(t),Dg(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Wr(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?uo(t,!!r.multiple,o,!1):r.defaultValue!=null&&uo(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=yu)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Et(e),null;case 6:if(t&&e.stateNode!=null)W1(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Z(166));if(n=pi(ca.current),pi(Fn.current),Il(e)){if(r=e.stateNode,n=e.memoizedProps,r[kn]=e,(o=r.nodeValue!==n)&&(t=Kt,t!==null))switch(t.tag){case 3:Sl(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Sl(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[kn]=e,e.stateNode=r}return Et(e),null;case 13:if(Fe(Be),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(je&&Wt!==null&&e.mode&1&&!(e.flags&128))c1(),bo(),e.flags|=98560,o=!1;else if(o=Il(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(Z(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(Z(317));o[kn]=e}else bo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Et(e),o=!1}else vn!==null&&(md(vn),vn=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Be.current&1?rt===0&&(rt=3):tm())),e.updateQueue!==null&&(e.flags|=4),Et(e),null);case 4:return Oo(),ad(t,e),t===null&&sa(e.stateNode.containerInfo),Et(e),null;case 10:return Fp(e.type._context),Et(e),null;case 17:return Bt(e.type)&&_u(),Et(e),null;case 19:if(Fe(Be),o=e.memoizedState,o===null)return Et(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)ps(o,!1);else{if(rt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=Au(t),s!==null){for(e.flags|=128,ps(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return xe(Be,Be.current&1|2),e.child}t=t.sibling}o.tail!==null&&Ge()>Ro&&(e.flags|=128,r=!0,ps(o,!1),e.lanes=4194304)}else{if(!r)if(t=Au(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ps(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!je)return Et(e),null}else 2*Ge()-o.renderingStartTime>Ro&&n!==1073741824&&(e.flags|=128,r=!0,ps(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Ge(),e.sibling=null,n=Be.current,xe(Be,r?n&1|2:n&1),e):(Et(e),null);case 22:case 23:return em(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?zt&1073741824&&(Et(e),e.subtreeFlags&6&&(e.flags|=8192)):Et(e),null;case 24:return null;case 25:return null}throw Error(Z(156,e.tag))}function SA(t,e){switch(Lp(e),e.tag){case 1:return Bt(e.type)&&_u(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Oo(),Fe($t),Fe(Rt),qp(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Bp(e),null;case 13:if(Fe(Be),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Z(340));bo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Fe(Be),null;case 4:return Oo(),null;case 10:return Fp(e.type._context),null;case 22:case 23:return em(),null;case 24:return null;default:return null}}var Ol=!1,bt=!1,IA=typeof WeakSet=="function"?WeakSet:Set,ie=null;function io(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){We(t,e,r)}else n.current=null}function ld(t,e,n){try{n()}catch(r){We(t,e,r)}}var Iv=!1;function bA(t,e){if(Hh=mu,t=X0(),Np(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,u=0,h=0,f=t,c=null;t:for(;;){for(var d;f!==n||i!==0&&f.nodeType!==3||(a=s+i),f!==o||r!==0&&f.nodeType!==3||(l=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(d=f.firstChild)!==null;)c=f,f=d;for(;;){if(f===t)break t;if(c===n&&++u===i&&(a=s),c===o&&++h===r&&(l=s),(d=f.nextSibling)!==null)break;f=c,c=f.parentNode}f=d}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Wh={focusedElem:t,selectionRange:n},mu=!1,ie=e;ie!==null;)if(e=ie,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ie=t;else for(;ie!==null;){e=ie;try{var _=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var y=_.memoizedProps,E=_.memoizedState,m=e.stateNode,p=m.getSnapshotBeforeUpdate(e.elementType===e.type?y:pn(e.type,y),E);m.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var v=e.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Z(163))}}catch(g){We(e,e.return,g)}if(t=e.sibling,t!==null){t.return=e.return,ie=t;break}ie=e.return}return _=Iv,Iv=!1,_}function js(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&ld(e,n,o)}i=i.next}while(i!==r)}}function Sc(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function ud(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function K1(t){var e=t.alternate;e!==null&&(t.alternate=null,K1(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[kn],delete e[la],delete e[Qh],delete e[aA],delete e[lA])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function G1(t){return t.tag===5||t.tag===3||t.tag===4}function bv(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||G1(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function cd(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=yu));else if(r!==4&&(t=t.child,t!==null))for(cd(t,e,n),t=t.sibling;t!==null;)cd(t,e,n),t=t.sibling}function fd(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(fd(t,e,n),t=t.sibling;t!==null;)fd(t,e,n),t=t.sibling}var ct=null,gn=!1;function vr(t,e,n){for(n=n.child;n!==null;)Q1(t,e,n),n=n.sibling}function Q1(t,e,n){if(Vn&&typeof Vn.onCommitFiberUnmount=="function")try{Vn.onCommitFiberUnmount(mc,n)}catch{}switch(n.tag){case 5:bt||io(n,e);case 6:var r=ct,i=gn;ct=null,vr(t,e,n),ct=r,gn=i,ct!==null&&(gn?(t=ct,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ct.removeChild(n.stateNode));break;case 18:ct!==null&&(gn?(t=ct,n=n.stateNode,t.nodeType===8?Bf(t.parentNode,n):t.nodeType===1&&Bf(t,n),ra(t)):Bf(ct,n.stateNode));break;case 4:r=ct,i=gn,ct=n.stateNode.containerInfo,gn=!0,vr(t,e,n),ct=r,gn=i;break;case 0:case 11:case 14:case 15:if(!bt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&ld(n,e,s),i=i.next}while(i!==r)}vr(t,e,n);break;case 1:if(!bt&&(io(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){We(n,e,a)}vr(t,e,n);break;case 21:vr(t,e,n);break;case 22:n.mode&1?(bt=(r=bt)||n.memoizedState!==null,vr(t,e,n),bt=r):vr(t,e,n);break;default:vr(t,e,n)}}function Av(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new IA),e.forEach(function(r){var i=LA.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function fn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:ct=a.stateNode,gn=!1;break e;case 3:ct=a.stateNode.containerInfo,gn=!0;break e;case 4:ct=a.stateNode.containerInfo,gn=!0;break e}a=a.return}if(ct===null)throw Error(Z(160));Q1(o,s,i),ct=null,gn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){We(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Y1(e,t),e=e.sibling}function Y1(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(fn(e,t),On(t),r&4){try{js(3,t,t.return),Sc(3,t)}catch(y){We(t,t.return,y)}try{js(5,t,t.return)}catch(y){We(t,t.return,y)}}break;case 1:fn(e,t),On(t),r&512&&n!==null&&io(n,n.return);break;case 5:if(fn(e,t),On(t),r&512&&n!==null&&io(n,n.return),t.flags&32){var i=t.stateNode;try{Zs(i,"")}catch(y){We(t,t.return,y)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&y0(i,o),Dh(a,s);var u=Dh(a,o);for(s=0;s<l.length;s+=2){var h=l[s],f=l[s+1];h==="style"?S0(i,f):h==="dangerouslySetInnerHTML"?w0(i,f):h==="children"?Zs(i,f):_p(i,h,f,u)}switch(a){case"input":kh(i,o);break;case"textarea":_0(i,o);break;case"select":var c=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var d=o.value;d!=null?uo(i,!!o.multiple,d,!1):c!==!!o.multiple&&(o.defaultValue!=null?uo(i,!!o.multiple,o.defaultValue,!0):uo(i,!!o.multiple,o.multiple?[]:"",!1))}i[la]=o}catch(y){We(t,t.return,y)}}break;case 6:if(fn(e,t),On(t),r&4){if(t.stateNode===null)throw Error(Z(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(y){We(t,t.return,y)}}break;case 3:if(fn(e,t),On(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ra(e.containerInfo)}catch(y){We(t,t.return,y)}break;case 4:fn(e,t),On(t);break;case 13:fn(e,t),On(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(Jp=Ge())),r&4&&Av(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(bt=(u=bt)||h,fn(e,t),bt=u):fn(e,t),On(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!h&&t.mode&1)for(ie=t,h=t.child;h!==null;){for(f=ie=h;ie!==null;){switch(c=ie,d=c.child,c.tag){case 0:case 11:case 14:case 15:js(4,c,c.return);break;case 1:io(c,c.return);var _=c.stateNode;if(typeof _.componentWillUnmount=="function"){r=c,n=c.return;try{e=r,_.props=e.memoizedProps,_.state=e.memoizedState,_.componentWillUnmount()}catch(y){We(r,n,y)}}break;case 5:io(c,c.return);break;case 22:if(c.memoizedState!==null){Pv(f);continue}}d!==null?(d.return=c,ie=d):Pv(f)}h=h.sibling}e:for(h=null,f=t;;){if(f.tag===5){if(h===null){h=f;try{i=f.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=f.stateNode,l=f.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=T0("display",s))}catch(y){We(t,t.return,y)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(y){We(t,t.return,y)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:fn(e,t),On(t),r&4&&Av(t);break;case 21:break;default:fn(e,t),On(t)}}function On(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(G1(n)){var r=n;break e}n=n.return}throw Error(Z(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Zs(i,""),r.flags&=-33);var o=bv(t);fd(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=bv(t);cd(t,a,s);break;default:throw Error(Z(161))}}catch(l){We(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function AA(t,e,n){ie=t,X1(t)}function X1(t,e,n){for(var r=(t.mode&1)!==0;ie!==null;){var i=ie,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||Ol;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||bt;a=Ol;var u=bt;if(Ol=s,(bt=l)&&!u)for(ie=i;ie!==null;)s=ie,l=s.child,s.tag===22&&s.memoizedState!==null?Rv(i):l!==null?(l.return=s,ie=l):Rv(i);for(;o!==null;)ie=o,X1(o),o=o.sibling;ie=i,Ol=a,bt=u}Ov(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,ie=o):Ov(t)}}function Ov(t){for(;ie!==null;){var e=ie;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:bt||Sc(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!bt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:pn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&fv(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}fv(e,s,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var f=h.dehydrated;f!==null&&ra(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Z(163))}bt||e.flags&512&&ud(e)}catch(c){We(e,e.return,c)}}if(e===t){ie=null;break}if(n=e.sibling,n!==null){n.return=e.return,ie=n;break}ie=e.return}}function Pv(t){for(;ie!==null;){var e=ie;if(e===t){ie=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ie=n;break}ie=e.return}}function Rv(t){for(;ie!==null;){var e=ie;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Sc(4,e)}catch(l){We(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){We(e,i,l)}}var o=e.return;try{ud(e)}catch(l){We(e,o,l)}break;case 5:var s=e.return;try{ud(e)}catch(l){We(e,s,l)}}}catch(l){We(e,e.return,l)}if(e===t){ie=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ie=a;break}ie=e.return}}var OA=Math.ceil,Ru=dr.ReactCurrentDispatcher,Yp=dr.ReactCurrentOwner,sn=dr.ReactCurrentBatchConfig,Oe=0,at=null,Je=null,pt=0,zt=0,oo=Jr(0),rt=0,pa=null,bi=0,Ic=0,Xp=0,Us=null,jt=null,Jp=0,Ro=1/0,Wn=null,ku=!1,hd=null,Fr=null,Pl=!1,Rr=null,Cu=0,$s=0,dd=null,Zl=-1,eu=0;function Dt(){return Oe&6?Ge():Zl!==-1?Zl:Zl=Ge()}function jr(t){return t.mode&1?Oe&2&&pt!==0?pt&-pt:cA.transition!==null?(eu===0&&(eu=D0()),eu):(t=Ce,t!==0||(t=window.event,t=t===void 0?16:B0(t.type)),t):1}function En(t,e,n,r){if(50<$s)throw $s=0,dd=null,Error(Z(185));Va(t,n,r),(!(Oe&2)||t!==at)&&(t===at&&(!(Oe&2)&&(Ic|=n),rt===4&&Sr(t,pt)),qt(t,r),n===1&&Oe===0&&!(e.mode&1)&&(Ro=Ge()+500,Ec&&Zr()))}function qt(t,e){var n=t.callbackNode;cb(t,e);var r=pu(t,t===at?pt:0);if(r===0)n!==null&&Fg(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Fg(n),e===1)t.tag===0?uA(kv.bind(null,t)):a1(kv.bind(null,t)),oA(function(){!(Oe&6)&&Zr()}),n=null;else{switch(M0(r)){case 1:n=Ip;break;case 4:n=x0;break;case 16:n=du;break;case 536870912:n=L0;break;default:n=du}n=oE(n,J1.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function J1(t,e){if(Zl=-1,eu=0,Oe&6)throw Error(Z(327));var n=t.callbackNode;if(mo()&&t.callbackNode!==n)return null;var r=pu(t,t===at?pt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Nu(t,r);else{e=r;var i=Oe;Oe|=2;var o=eE();(at!==t||pt!==e)&&(Wn=null,Ro=Ge()+500,yi(t,e));do try{kA();break}catch(a){Z1(t,a)}while(!0);Vp(),Ru.current=o,Oe=i,Je!==null?e=0:(at=null,pt=0,e=rt)}if(e!==0){if(e===2&&(i=Uh(t),i!==0&&(r=i,e=pd(t,i))),e===1)throw n=pa,yi(t,0),Sr(t,r),qt(t,Ge()),n;if(e===6)Sr(t,r);else{if(i=t.current.alternate,!(r&30)&&!PA(i)&&(e=Nu(t,r),e===2&&(o=Uh(t),o!==0&&(r=o,e=pd(t,o))),e===1))throw n=pa,yi(t,0),Sr(t,r),qt(t,Ge()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(Z(345));case 2:ai(t,jt,Wn);break;case 3:if(Sr(t,r),(r&130023424)===r&&(e=Jp+500-Ge(),10<e)){if(pu(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Dt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Gh(ai.bind(null,t,jt,Wn),e);break}ai(t,jt,Wn);break;case 4:if(Sr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-_n(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=Ge()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*OA(r/1960))-r,10<r){t.timeoutHandle=Gh(ai.bind(null,t,jt,Wn),r);break}ai(t,jt,Wn);break;case 5:ai(t,jt,Wn);break;default:throw Error(Z(329))}}}return qt(t,Ge()),t.callbackNode===n?J1.bind(null,t):null}function pd(t,e){var n=Us;return t.current.memoizedState.isDehydrated&&(yi(t,e).flags|=256),t=Nu(t,e),t!==2&&(e=jt,jt=n,e!==null&&md(e)),t}function md(t){jt===null?jt=t:jt.push.apply(jt,t)}function PA(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Tn(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Sr(t,e){for(e&=~Xp,e&=~Ic,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-_n(e),r=1<<n;t[n]=-1,e&=~r}}function kv(t){if(Oe&6)throw Error(Z(327));mo();var e=pu(t,0);if(!(e&1))return qt(t,Ge()),null;var n=Nu(t,e);if(t.tag!==0&&n===2){var r=Uh(t);r!==0&&(e=r,n=pd(t,r))}if(n===1)throw n=pa,yi(t,0),Sr(t,e),qt(t,Ge()),n;if(n===6)throw Error(Z(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ai(t,jt,Wn),qt(t,Ge()),null}function Zp(t,e){var n=Oe;Oe|=1;try{return t(e)}finally{Oe=n,Oe===0&&(Ro=Ge()+500,Ec&&Zr())}}function Ai(t){Rr!==null&&Rr.tag===0&&!(Oe&6)&&mo();var e=Oe;Oe|=1;var n=sn.transition,r=Ce;try{if(sn.transition=null,Ce=1,t)return t()}finally{Ce=r,sn.transition=n,Oe=e,!(Oe&6)&&Zr()}}function em(){zt=oo.current,Fe(oo)}function yi(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,iA(n)),Je!==null)for(n=Je.return;n!==null;){var r=n;switch(Lp(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&_u();break;case 3:Oo(),Fe($t),Fe(Rt),qp();break;case 5:Bp(r);break;case 4:Oo();break;case 13:Fe(Be);break;case 19:Fe(Be);break;case 10:Fp(r.type._context);break;case 22:case 23:em()}n=n.return}if(at=t,Je=t=Ur(t.current,null),pt=zt=e,rt=0,pa=null,Xp=Ic=bi=0,jt=Us=null,di!==null){for(e=0;e<di.length;e++)if(n=di[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}di=null}return t}function Z1(t,e){do{var n=Je;try{if(Vp(),Yl.current=Pu,Ou){for(var r=qe.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Ou=!1}if(Ii=0,st=tt=qe=null,Fs=!1,fa=0,Yp.current=null,n===null||n.return===null){rt=1,pa=e,Je=null;break}e:{var o=t,s=n.return,a=n,l=e;if(e=pt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,h=a,f=h.tag;if(!(h.mode&1)&&(f===0||f===11||f===15)){var c=h.alternate;c?(h.updateQueue=c.updateQueue,h.memoizedState=c.memoizedState,h.lanes=c.lanes):(h.updateQueue=null,h.memoizedState=null)}var d=vv(s);if(d!==null){d.flags&=-257,yv(d,s,a,o,e),d.mode&1&&gv(o,u,e),e=d,l=u;var _=e.updateQueue;if(_===null){var y=new Set;y.add(l),e.updateQueue=y}else _.add(l);break e}else{if(!(e&1)){gv(o,u,e),tm();break e}l=Error(Z(426))}}else if(je&&a.mode&1){var E=vv(s);if(E!==null){!(E.flags&65536)&&(E.flags|=256),yv(E,s,a,o,e),Dp(Po(l,a));break e}}o=l=Po(l,a),rt!==4&&(rt=2),Us===null?Us=[o]:Us.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var m=M1(o,l,e);cv(o,m);break e;case 1:a=l;var p=o.type,v=o.stateNode;if(!(o.flags&128)&&(typeof p.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Fr===null||!Fr.has(v)))){o.flags|=65536,e&=-e,o.lanes|=e;var g=V1(o,a,e);cv(o,g);break e}}o=o.return}while(o!==null)}nE(n)}catch(w){e=w,Je===n&&n!==null&&(Je=n=n.return);continue}break}while(!0)}function eE(){var t=Ru.current;return Ru.current=Pu,t===null?Pu:t}function tm(){(rt===0||rt===3||rt===2)&&(rt=4),at===null||!(bi&268435455)&&!(Ic&268435455)||Sr(at,pt)}function Nu(t,e){var n=Oe;Oe|=2;var r=eE();(at!==t||pt!==e)&&(Wn=null,yi(t,e));do try{RA();break}catch(i){Z1(t,i)}while(!0);if(Vp(),Oe=n,Ru.current=r,Je!==null)throw Error(Z(261));return at=null,pt=0,rt}function RA(){for(;Je!==null;)tE(Je)}function kA(){for(;Je!==null&&!tb();)tE(Je)}function tE(t){var e=iE(t.alternate,t,zt);t.memoizedProps=t.pendingProps,e===null?nE(t):Je=e,Yp.current=null}function nE(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=SA(n,e),n!==null){n.flags&=32767,Je=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{rt=6,Je=null;return}}else if(n=TA(n,e,zt),n!==null){Je=n;return}if(e=e.sibling,e!==null){Je=e;return}Je=e=t}while(e!==null);rt===0&&(rt=5)}function ai(t,e,n){var r=Ce,i=sn.transition;try{sn.transition=null,Ce=1,CA(t,e,n,r)}finally{sn.transition=i,Ce=r}return null}function CA(t,e,n,r){do mo();while(Rr!==null);if(Oe&6)throw Error(Z(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Z(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(fb(t,o),t===at&&(Je=at=null,pt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Pl||(Pl=!0,oE(du,function(){return mo(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=sn.transition,sn.transition=null;var s=Ce;Ce=1;var a=Oe;Oe|=4,Yp.current=null,bA(t,n),Y1(n,t),Xb(Wh),mu=!!Hh,Wh=Hh=null,t.current=n,AA(n),nb(),Oe=a,Ce=s,sn.transition=o}else t.current=n;if(Pl&&(Pl=!1,Rr=t,Cu=i),o=t.pendingLanes,o===0&&(Fr=null),ob(n.stateNode),qt(t,Ge()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(ku)throw ku=!1,t=hd,hd=null,t;return Cu&1&&t.tag!==0&&mo(),o=t.pendingLanes,o&1?t===dd?$s++:($s=0,dd=t):$s=0,Zr(),null}function mo(){if(Rr!==null){var t=M0(Cu),e=sn.transition,n=Ce;try{if(sn.transition=null,Ce=16>t?16:t,Rr===null)var r=!1;else{if(t=Rr,Rr=null,Cu=0,Oe&6)throw Error(Z(331));var i=Oe;for(Oe|=4,ie=t.current;ie!==null;){var o=ie,s=o.child;if(ie.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(ie=u;ie!==null;){var h=ie;switch(h.tag){case 0:case 11:case 15:js(8,h,o)}var f=h.child;if(f!==null)f.return=h,ie=f;else for(;ie!==null;){h=ie;var c=h.sibling,d=h.return;if(K1(h),h===u){ie=null;break}if(c!==null){c.return=d,ie=c;break}ie=d}}}var _=o.alternate;if(_!==null){var y=_.child;if(y!==null){_.child=null;do{var E=y.sibling;y.sibling=null,y=E}while(y!==null)}}ie=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,ie=s;else e:for(;ie!==null;){if(o=ie,o.flags&2048)switch(o.tag){case 0:case 11:case 15:js(9,o,o.return)}var m=o.sibling;if(m!==null){m.return=o.return,ie=m;break e}ie=o.return}}var p=t.current;for(ie=p;ie!==null;){s=ie;var v=s.child;if(s.subtreeFlags&2064&&v!==null)v.return=s,ie=v;else e:for(s=p;ie!==null;){if(a=ie,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Sc(9,a)}}catch(w){We(a,a.return,w)}if(a===s){ie=null;break e}var g=a.sibling;if(g!==null){g.return=a.return,ie=g;break e}ie=a.return}}if(Oe=i,Zr(),Vn&&typeof Vn.onPostCommitFiberRoot=="function")try{Vn.onPostCommitFiberRoot(mc,t)}catch{}r=!0}return r}finally{Ce=n,sn.transition=e}}return!1}function Cv(t,e,n){e=Po(n,e),e=M1(t,e,1),t=Vr(t,e,1),e=Dt(),t!==null&&(Va(t,1,e),qt(t,e))}function We(t,e,n){if(t.tag===3)Cv(t,t,n);else for(;e!==null;){if(e.tag===3){Cv(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Fr===null||!Fr.has(r))){t=Po(n,t),t=V1(e,t,1),e=Vr(e,t,1),t=Dt(),e!==null&&(Va(e,1,t),qt(e,t));break}}e=e.return}}function NA(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Dt(),t.pingedLanes|=t.suspendedLanes&n,at===t&&(pt&n)===n&&(rt===4||rt===3&&(pt&130023424)===pt&&500>Ge()-Jp?yi(t,0):Xp|=n),qt(t,e)}function rE(t,e){e===0&&(t.mode&1?(e=yl,yl<<=1,!(yl&130023424)&&(yl=4194304)):e=1);var n=Dt();t=ar(t,e),t!==null&&(Va(t,e,n),qt(t,n))}function xA(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),rE(t,n)}function LA(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Z(314))}r!==null&&r.delete(e),rE(t,n)}var iE;iE=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||$t.current)Ut=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Ut=!1,wA(t,e,n);Ut=!!(t.flags&131072)}else Ut=!1,je&&e.flags&1048576&&l1(e,Tu,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Jl(t,e),t=e.pendingProps;var i=Io(e,Rt.current);po(e,n),i=Hp(null,e,r,t,i,n);var o=Wp();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Bt(r)?(o=!0,Eu(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Up(e),i.updater=Tc,e.stateNode=i,i._reactInternals=e,td(e,r,t,n),e=id(null,e,r,!0,o,n)):(e.tag=0,je&&o&&xp(e),Nt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Jl(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=MA(r),t=pn(r,t),i){case 0:e=rd(null,e,r,t,n);break e;case 1:e=wv(null,e,r,t,n);break e;case 11:e=_v(null,e,r,t,n);break e;case 14:e=Ev(null,e,r,pn(r.type,t),n);break e}throw Error(Z(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:pn(r,i),rd(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:pn(r,i),wv(t,e,r,i,n);case 3:e:{if($1(e),t===null)throw Error(Z(387));r=e.pendingProps,o=e.memoizedState,i=o.element,p1(t,e),bu(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=Po(Error(Z(423)),e),e=Tv(t,e,r,n,i);break e}else if(r!==i){i=Po(Error(Z(424)),e),e=Tv(t,e,r,n,i);break e}else for(Wt=Mr(e.stateNode.containerInfo.firstChild),Kt=e,je=!0,vn=null,n=h1(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(bo(),r===i){e=lr(t,e,n);break e}Nt(t,e,r,n)}e=e.child}return e;case 5:return m1(e),t===null&&Jh(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,Kh(r,i)?s=null:o!==null&&Kh(r,o)&&(e.flags|=32),U1(t,e),Nt(t,e,s,n),e.child;case 6:return t===null&&Jh(e),null;case 13:return B1(t,e,n);case 4:return $p(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ao(e,null,r,n):Nt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:pn(r,i),_v(t,e,r,i,n);case 7:return Nt(t,e,e.pendingProps,n),e.child;case 8:return Nt(t,e,e.pendingProps.children,n),e.child;case 12:return Nt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,xe(Su,r._currentValue),r._currentValue=s,o!==null)if(Tn(o.value,s)){if(o.children===i.children&&!$t.current){e=lr(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=tr(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?l.next=l:(l.next=h.next,h.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Zh(o.return,n,e),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(Z(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),Zh(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}Nt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,po(e,n),i=ln(i),r=r(i),e.flags|=1,Nt(t,e,r,n),e.child;case 14:return r=e.type,i=pn(r,e.pendingProps),i=pn(r.type,i),Ev(t,e,r,i,n);case 15:return F1(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:pn(r,i),Jl(t,e),e.tag=1,Bt(r)?(t=!0,Eu(e)):t=!1,po(e,n),D1(e,r,i),td(e,r,i,n),id(null,e,r,!0,t,n);case 19:return q1(t,e,n);case 22:return j1(t,e,n)}throw Error(Z(156,e.tag))};function oE(t,e){return N0(t,e)}function DA(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function on(t,e,n,r){return new DA(t,e,n,r)}function nm(t){return t=t.prototype,!(!t||!t.isReactComponent)}function MA(t){if(typeof t=="function")return nm(t)?1:0;if(t!=null){if(t=t.$$typeof,t===wp)return 11;if(t===Tp)return 14}return 2}function Ur(t,e){var n=t.alternate;return n===null?(n=on(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function tu(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")nm(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case Qi:return _i(n.children,i,o,e);case Ep:s=8,i|=8;break;case bh:return t=on(12,n,e,i|2),t.elementType=bh,t.lanes=o,t;case Ah:return t=on(13,n,e,i),t.elementType=Ah,t.lanes=o,t;case Oh:return t=on(19,n,e,i),t.elementType=Oh,t.lanes=o,t;case m0:return bc(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case d0:s=10;break e;case p0:s=9;break e;case wp:s=11;break e;case Tp:s=14;break e;case Er:s=16,r=null;break e}throw Error(Z(130,t==null?t:typeof t,""))}return e=on(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function _i(t,e,n,r){return t=on(7,t,r,e),t.lanes=n,t}function bc(t,e,n,r){return t=on(22,t,r,e),t.elementType=m0,t.lanes=n,t.stateNode={isHidden:!1},t}function Yf(t,e,n){return t=on(6,t,null,e),t.lanes=n,t}function Xf(t,e,n){return e=on(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function VA(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Cf(0),this.expirationTimes=Cf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Cf(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function rm(t,e,n,r,i,o,s,a,l){return t=new VA(t,e,n,a,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=on(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Up(o),t}function FA(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Gi,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function sE(t){if(!t)return Kr;t=t._reactInternals;e:{if(Mi(t)!==t||t.tag!==1)throw Error(Z(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Bt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Z(171))}if(t.tag===1){var n=t.type;if(Bt(n))return s1(t,n,e)}return e}function aE(t,e,n,r,i,o,s,a,l){return t=rm(n,r,!0,t,i,o,s,a,l),t.context=sE(null),n=t.current,r=Dt(),i=jr(n),o=tr(r,i),o.callback=e??null,Vr(n,o,i),t.current.lanes=i,Va(t,i,r),qt(t,r),t}function Ac(t,e,n,r){var i=e.current,o=Dt(),s=jr(i);return n=sE(n),e.context===null?e.context=n:e.pendingContext=n,e=tr(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Vr(i,e,s),t!==null&&(En(t,i,s,o),Ql(t,i,s)),s}function xu(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Nv(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function im(t,e){Nv(t,e),(t=t.alternate)&&Nv(t,e)}function jA(){return null}var lE=typeof reportError=="function"?reportError:function(t){console.error(t)};function om(t){this._internalRoot=t}Oc.prototype.render=om.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Z(409));Ac(t,e,null,null)};Oc.prototype.unmount=om.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ai(function(){Ac(null,t,null,null)}),e[sr]=null}};function Oc(t){this._internalRoot=t}Oc.prototype.unstable_scheduleHydration=function(t){if(t){var e=j0();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Tr.length&&e!==0&&e<Tr[n].priority;n++);Tr.splice(n,0,t),n===0&&$0(t)}};function sm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Pc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function xv(){}function UA(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=xu(s);o.call(u)}}var s=aE(e,r,t,0,null,!1,!1,"",xv);return t._reactRootContainer=s,t[sr]=s.current,sa(t.nodeType===8?t.parentNode:t),Ai(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=xu(l);a.call(u)}}var l=rm(t,0,!1,null,null,!1,!1,"",xv);return t._reactRootContainer=l,t[sr]=l.current,sa(t.nodeType===8?t.parentNode:t),Ai(function(){Ac(e,l,n,r)}),l}function Rc(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=xu(s);a.call(l)}}Ac(e,s,t,i)}else s=UA(n,e,t,i,r);return xu(s)}V0=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Ss(e.pendingLanes);n!==0&&(bp(e,n|1),qt(e,Ge()),!(Oe&6)&&(Ro=Ge()+500,Zr()))}break;case 13:Ai(function(){var r=ar(t,1);if(r!==null){var i=Dt();En(r,t,1,i)}}),im(t,1)}};Ap=function(t){if(t.tag===13){var e=ar(t,134217728);if(e!==null){var n=Dt();En(e,t,134217728,n)}im(t,134217728)}};F0=function(t){if(t.tag===13){var e=jr(t),n=ar(t,e);if(n!==null){var r=Dt();En(n,t,e,r)}im(t,e)}};j0=function(){return Ce};U0=function(t,e){var n=Ce;try{return Ce=t,e()}finally{Ce=n}};Vh=function(t,e,n){switch(e){case"input":if(kh(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=_c(r);if(!i)throw Error(Z(90));v0(r),kh(r,i)}}}break;case"textarea":_0(t,n);break;case"select":e=n.value,e!=null&&uo(t,!!n.multiple,e,!1)}};A0=Zp;O0=Ai;var $A={usingClientEntryPoint:!1,Events:[ja,Zi,_c,I0,b0,Zp]},ms={findFiberByHostInstance:hi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},BA={bundleType:ms.bundleType,version:ms.version,rendererPackageName:ms.rendererPackageName,rendererConfig:ms.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:dr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=k0(t),t===null?null:t.stateNode},findFiberByHostInstance:ms.findFiberByHostInstance||jA,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Rl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Rl.isDisabled&&Rl.supportsFiber)try{mc=Rl.inject(BA),Vn=Rl}catch{}}Yt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$A;Yt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!sm(e))throw Error(Z(200));return FA(t,e,null,n)};Yt.createRoot=function(t,e){if(!sm(t))throw Error(Z(299));var n=!1,r="",i=lE;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=rm(t,1,!1,null,null,n,!1,r,i),t[sr]=e.current,sa(t.nodeType===8?t.parentNode:t),new om(e)};Yt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Z(188)):(t=Object.keys(t).join(","),Error(Z(268,t)));return t=k0(e),t=t===null?null:t.stateNode,t};Yt.flushSync=function(t){return Ai(t)};Yt.hydrate=function(t,e,n){if(!Pc(e))throw Error(Z(200));return Rc(null,t,e,!0,n)};Yt.hydrateRoot=function(t,e,n){if(!sm(t))throw Error(Z(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=lE;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=aE(e,null,t,1,n??null,i,!1,o,s),t[sr]=e.current,sa(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Oc(e)};Yt.render=function(t,e,n){if(!Pc(e))throw Error(Z(200));return Rc(null,t,e,!1,n)};Yt.unmountComponentAtNode=function(t){if(!Pc(t))throw Error(Z(40));return t._reactRootContainer?(Ai(function(){Rc(null,null,t,!1,function(){t._reactRootContainer=null,t[sr]=null})}),!0):!1};Yt.unstable_batchedUpdates=Zp;Yt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Pc(n))throw Error(Z(200));if(t==null||t._reactInternals===void 0)throw Error(Z(38));return Rc(t,e,n,!1,r)};Yt.version="18.3.1-next-f1338f8080-20240426";function uE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(uE)}catch(t){console.error(t)}}uE(),u0.exports=Yt;var am=u0.exports,Lv=am;Sh.createRoot=Lv.createRoot,Sh.hydrateRoot=Lv.hydrateRoot;/**
 * @remix-run/router v1.16.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ma(){return ma=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ma.apply(this,arguments)}var kr;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(kr||(kr={}));const Dv="popstate";function qA(t){t===void 0&&(t={});function e(r,i){let{pathname:o,search:s,hash:a}=r.location;return gd("",{pathname:o,search:s,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Lu(i)}return HA(e,n,null,t)}function Ze(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function cE(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function zA(){return Math.random().toString(36).substr(2,8)}function Mv(t,e){return{usr:t.state,key:t.key,idx:e}}function gd(t,e,n,r){return n===void 0&&(n=null),ma({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?zo(e):e,{state:n,key:e&&e.key||r||zA()})}function Lu(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function zo(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function HA(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,a=kr.Pop,l=null,u=h();u==null&&(u=0,s.replaceState(ma({},s.state,{idx:u}),""));function h(){return(s.state||{idx:null}).idx}function f(){a=kr.Pop;let E=h(),m=E==null?null:E-u;u=E,l&&l({action:a,location:y.location,delta:m})}function c(E,m){a=kr.Push;let p=gd(y.location,E,m);u=h()+1;let v=Mv(p,u),g=y.createHref(p);try{s.pushState(v,"",g)}catch(w){if(w instanceof DOMException&&w.name==="DataCloneError")throw w;i.location.assign(g)}o&&l&&l({action:a,location:y.location,delta:1})}function d(E,m){a=kr.Replace;let p=gd(y.location,E,m);u=h();let v=Mv(p,u),g=y.createHref(p);s.replaceState(v,"",g),o&&l&&l({action:a,location:y.location,delta:0})}function _(E){let m=i.location.origin!=="null"?i.location.origin:i.location.href,p=typeof E=="string"?E:Lu(E);return p=p.replace(/ $/,"%20"),Ze(m,"No window.location.(origin|href) available to create URL for href: "+p),new URL(p,m)}let y={get action(){return a},get location(){return t(i,s)},listen(E){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(Dv,f),l=E,()=>{i.removeEventListener(Dv,f),l=null}},createHref(E){return e(i,E)},createURL:_,encodeLocation(E){let m=_(E);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:c,replace:d,go(E){return s.go(E)}};return y}var Vv;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Vv||(Vv={}));function WA(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?zo(e):e,i=lm(r.pathname||"/",n);if(i==null)return null;let o=fE(t);KA(o);let s=null;for(let a=0;s==null&&a<o.length;++a){let l=oO(i);s=nO(o[a],l)}return s}function fE(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,s,a)=>{let l={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};l.relativePath.startsWith("/")&&(Ze(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=$r([r,l.relativePath]),h=n.concat(l);o.children&&o.children.length>0&&(Ze(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),fE(o.children,e,h,u)),!(o.path==null&&!o.index)&&e.push({path:u,score:eO(u,o.index),routesMeta:h})};return t.forEach((o,s)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))i(o,s);else for(let l of hE(o.path))i(o,s,l)}),e}function hE(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=hE(r.join("/")),a=[];return a.push(...s.map(l=>l===""?o:[o,l].join("/"))),i&&a.push(...s),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function KA(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:tO(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const GA=/^:[\w-]+$/,QA=3,YA=2,XA=1,JA=10,ZA=-2,Fv=t=>t==="*";function eO(t,e){let n=t.split("/"),r=n.length;return n.some(Fv)&&(r+=ZA),e&&(r+=YA),n.filter(i=>!Fv(i)).reduce((i,o)=>i+(GA.test(o)?QA:o===""?XA:JA),r)}function tO(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function nO(t,e){let{routesMeta:n}=t,r={},i="/",o=[];for(let s=0;s<n.length;++s){let a=n[s],l=s===n.length-1,u=i==="/"?e:e.slice(i.length)||"/",h=rO({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},u);if(!h)return null;Object.assign(r,h.params);let f=a.route;o.push({params:r,pathname:$r([i,h.pathname]),pathnameBase:uO($r([i,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(i=$r([i,h.pathnameBase]))}return o}function rO(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=iO(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,h,f)=>{let{paramName:c,isOptional:d}=h;if(c==="*"){let y=a[f]||"";s=o.slice(0,o.length-y.length).replace(/(.)\/+$/,"$1")}const _=a[f];return d&&!_?u[c]=void 0:u[c]=(_||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:s,pattern:t}}function iO(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),cE(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function oO(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return cE(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function lm(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function sO(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?zo(t):t;return{pathname:n?n.startsWith("/")?n:aO(n,e):e,search:cO(r),hash:fO(i)}}function aO(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Jf(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function lO(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function dE(t,e){let n=lO(t);return e?n.map((r,i)=>i===t.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function pE(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=zo(t):(i=ma({},t),Ze(!i.pathname||!i.pathname.includes("?"),Jf("?","pathname","search",i)),Ze(!i.pathname||!i.pathname.includes("#"),Jf("#","pathname","hash",i)),Ze(!i.search||!i.search.includes("#"),Jf("#","search","hash",i)));let o=t===""||i.pathname==="",s=o?"/":i.pathname,a;if(s==null)a=n;else{let f=e.length-1;if(!r&&s.startsWith("..")){let c=s.split("/");for(;c[0]==="..";)c.shift(),f-=1;i.pathname=c.join("/")}a=f>=0?e[f]:"/"}let l=sO(i,a),u=s&&s!=="/"&&s.endsWith("/"),h=(o||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||h)&&(l.pathname+="/"),l}const $r=t=>t.join("/").replace(/\/\/+/g,"/"),uO=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),cO=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,fO=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function hO(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const mE=["post","put","patch","delete"];new Set(mE);const dO=["get",...mE];new Set(dO);/**
 * React Router v6.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ga(){return ga=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ga.apply(this,arguments)}const um=ee.createContext(null),pO=ee.createContext(null),Vi=ee.createContext(null),kc=ee.createContext(null),ei=ee.createContext({outlet:null,matches:[],isDataRoute:!1}),gE=ee.createContext(null);function mO(t,e){let{relative:n}=e===void 0?{}:e;$a()||Ze(!1);let{basename:r,navigator:i}=ee.useContext(Vi),{hash:o,pathname:s,search:a}=yE(t,{relative:n}),l=s;return r!=="/"&&(l=s==="/"?r:$r([r,s])),i.createHref({pathname:l,search:a,hash:o})}function $a(){return ee.useContext(kc)!=null}function Cc(){return $a()||Ze(!1),ee.useContext(kc).location}function vE(t){ee.useContext(Vi).static||ee.useLayoutEffect(t)}function gO(){let{isDataRoute:t}=ee.useContext(ei);return t?kO():vO()}function vO(){$a()||Ze(!1);let t=ee.useContext(um),{basename:e,future:n,navigator:r}=ee.useContext(Vi),{matches:i}=ee.useContext(ei),{pathname:o}=Cc(),s=JSON.stringify(dE(i,n.v7_relativeSplatPath)),a=ee.useRef(!1);return vE(()=>{a.current=!0}),ee.useCallback(function(u,h){if(h===void 0&&(h={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let f=pE(u,JSON.parse(s),o,h.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:$r([e,f.pathname])),(h.replace?r.replace:r.push)(f,h.state,h)},[e,r,s,o,t])}function yO(){let{matches:t}=ee.useContext(ei),e=t[t.length-1];return e?e.params:{}}function yE(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=ee.useContext(Vi),{matches:i}=ee.useContext(ei),{pathname:o}=Cc(),s=JSON.stringify(dE(i,r.v7_relativeSplatPath));return ee.useMemo(()=>pE(t,JSON.parse(s),o,n==="path"),[t,s,o,n])}function _O(t,e){return EO(t,e)}function EO(t,e,n,r){$a()||Ze(!1);let{navigator:i}=ee.useContext(Vi),{matches:o}=ee.useContext(ei),s=o[o.length-1],a=s?s.params:{};s&&s.pathname;let l=s?s.pathnameBase:"/";s&&s.route;let u=Cc(),h;if(e){var f;let E=typeof e=="string"?zo(e):e;l==="/"||(f=E.pathname)!=null&&f.startsWith(l)||Ze(!1),h=E}else h=u;let c=h.pathname||"/",d=c;if(l!=="/"){let E=l.replace(/^\//,"").split("/");d="/"+c.replace(/^\//,"").split("/").slice(E.length).join("/")}let _=WA(t,{pathname:d}),y=bO(_&&_.map(E=>Object.assign({},E,{params:Object.assign({},a,E.params),pathname:$r([l,i.encodeLocation?i.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?l:$r([l,i.encodeLocation?i.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),o,n,r);return e&&y?ee.createElement(kc.Provider,{value:{location:ga({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:kr.Pop}},y):y}function wO(){let t=RO(),e=hO(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return ee.createElement(ee.Fragment,null,ee.createElement("h2",null,"Unexpected Application Error!"),ee.createElement("h3",{style:{fontStyle:"italic"}},e),n?ee.createElement("pre",{style:i},n):null,null)}const TO=ee.createElement(wO,null);class SO extends ee.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?ee.createElement(ei.Provider,{value:this.props.routeContext},ee.createElement(gE.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function IO(t){let{routeContext:e,match:n,children:r}=t,i=ee.useContext(um);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),ee.createElement(ei.Provider,{value:e},r)}function bO(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var o;if((o=n)!=null&&o.errors)t=n.matches;else return null}let s=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let h=s.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);h>=0||Ze(!1),s=s.slice(0,Math.min(s.length,h+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let h=0;h<s.length;h++){let f=s[h];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=h),f.route.id){let{loaderData:c,errors:d}=n,_=f.route.loader&&c[f.route.id]===void 0&&(!d||d[f.route.id]===void 0);if(f.route.lazy||_){l=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}return s.reduceRight((h,f,c)=>{let d,_=!1,y=null,E=null;n&&(d=a&&f.route.id?a[f.route.id]:void 0,y=f.route.errorElement||TO,l&&(u<0&&c===0?(_=!0,E=null):u===c&&(_=!0,E=f.route.hydrateFallbackElement||null)));let m=e.concat(s.slice(0,c+1)),p=()=>{let v;return d?v=y:_?v=E:f.route.Component?v=ee.createElement(f.route.Component,null):f.route.element?v=f.route.element:v=h,ee.createElement(IO,{match:f,routeContext:{outlet:h,matches:m,isDataRoute:n!=null},children:v})};return n&&(f.route.ErrorBoundary||f.route.errorElement||c===0)?ee.createElement(SO,{location:n.location,revalidation:n.revalidation,component:y,error:d,children:p(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):p()},null)}var _E=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(_E||{}),Du=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Du||{});function AO(t){let e=ee.useContext(um);return e||Ze(!1),e}function OO(t){let e=ee.useContext(pO);return e||Ze(!1),e}function PO(t){let e=ee.useContext(ei);return e||Ze(!1),e}function EE(t){let e=PO(),n=e.matches[e.matches.length-1];return n.route.id||Ze(!1),n.route.id}function RO(){var t;let e=ee.useContext(gE),n=OO(Du.UseRouteError),r=EE(Du.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function kO(){let{router:t}=AO(_E.UseNavigateStable),e=EE(Du.UseNavigateStable),n=ee.useRef(!1);return vE(()=>{n.current=!0}),ee.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,ga({fromRouteId:e},o)))},[t,e])}function zi(t){Ze(!1)}function CO(t){let{basename:e="/",children:n=null,location:r,navigationType:i=kr.Pop,navigator:o,static:s=!1,future:a}=t;$a()&&Ze(!1);let l=e.replace(/^\/*/,"/"),u=ee.useMemo(()=>({basename:l,navigator:o,static:s,future:ga({v7_relativeSplatPath:!1},a)}),[l,a,o,s]);typeof r=="string"&&(r=zo(r));let{pathname:h="/",search:f="",hash:c="",state:d=null,key:_="default"}=r,y=ee.useMemo(()=>{let E=lm(h,l);return E==null?null:{location:{pathname:E,search:f,hash:c,state:d,key:_},navigationType:i}},[l,h,f,c,d,_,i]);return y==null?null:ee.createElement(Vi.Provider,{value:u},ee.createElement(kc.Provider,{children:n,value:y}))}function NO(t){let{children:e,location:n}=t;return _O(vd(e),n)}new Promise(()=>{});function vd(t,e){e===void 0&&(e=[]);let n=[];return ee.Children.forEach(t,(r,i)=>{if(!ee.isValidElement(r))return;let o=[...e,i];if(r.type===ee.Fragment){n.push.apply(n,vd(r.props.children,o));return}r.type!==zi&&Ze(!1),!r.props.index||!r.props.children||Ze(!1);let s={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=vd(r.props.children,o)),n.push(s)}),n}/**
 * React Router DOM v6.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function yd(){return yd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yd.apply(this,arguments)}function xO(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function LO(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function DO(t,e){return t.button===0&&(!e||e==="_self")&&!LO(t)}const MO=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],VO="6";try{window.__reactRouterVersion=VO}catch{}const FO="startTransition",jv=NI[FO];function jO(t){let{basename:e,children:n,future:r,window:i}=t,o=ee.useRef();o.current==null&&(o.current=qA({window:i,v5Compat:!0}));let s=o.current,[a,l]=ee.useState({action:s.action,location:s.location}),{v7_startTransition:u}=r||{},h=ee.useCallback(f=>{u&&jv?jv(()=>l(f)):l(f)},[l,u]);return ee.useLayoutEffect(()=>s.listen(h),[s,h]),ee.createElement(CO,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:s,future:r})}const UO=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",$O=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,go=ee.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:o,replace:s,state:a,target:l,to:u,preventScrollReset:h,unstable_viewTransition:f}=e,c=xO(e,MO),{basename:d}=ee.useContext(Vi),_,y=!1;if(typeof u=="string"&&$O.test(u)&&(_=u,UO))try{let v=new URL(window.location.href),g=u.startsWith("//")?new URL(v.protocol+u):new URL(u),w=lm(g.pathname,d);g.origin===v.origin&&w!=null?u=w+g.search+g.hash:y=!0}catch{}let E=mO(u,{relative:i}),m=BO(u,{replace:s,state:a,target:l,preventScrollReset:h,relative:i,unstable_viewTransition:f});function p(v){r&&r(v),v.defaultPrevented||m(v)}return ee.createElement("a",yd({},c,{href:_||E,onClick:y||o?r:p,ref:n,target:l}))});var Uv;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Uv||(Uv={}));var $v;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})($v||($v={}));function BO(t,e){let{target:n,replace:r,state:i,preventScrollReset:o,relative:s,unstable_viewTransition:a}=e===void 0?{}:e,l=gO(),u=Cc(),h=yE(t,{relative:s});return ee.useCallback(f=>{if(DO(f,n)){f.preventDefault();let c=r!==void 0?r:Lu(u)===Lu(h);l(t,{replace:c,state:i,preventScrollReset:o,relative:s,unstable_viewTransition:a})}},[u,l,h,r,i,n,t,o,s,a])}function qO(){const[t,e]=ee.useState(!1),n=()=>{e(!t)};return K.jsxs("nav",{className:"navbar",children:[K.jsx("h1",{children:"React App"}),K.jsx("button",{className:"menu-btn",onClick:n,children:K.jsxs("div",{children:[K.jsx("div",{className:"bar1"}),K.jsx("div",{className:"bar2"}),K.jsx("div",{className:"bar3"})]})}),K.jsxs("ul",{className:t?"show":"",id:"unorder",children:[K.jsx("li",{className:"list",children:K.jsx(go,{to:"/",children:"Home"})}),K.jsx("li",{className:"list",children:K.jsx(go,{to:"/BlogPost",children:"BlogPost"})}),K.jsx("li",{className:"list",children:K.jsx(go,{to:"/Login",children:"Login"})})]})]})}function zO(){this.__data__=[],this.size=0}var HO=zO;function WO(t,e){return t===e||t!==t&&e!==e}var wE=WO,KO=wE;function GO(t,e){for(var n=t.length;n--;)if(KO(t[n][0],e))return n;return-1}var Nc=GO,QO=Nc,YO=Array.prototype,XO=YO.splice;function JO(t){var e=this.__data__,n=QO(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():XO.call(e,n,1),--this.size,!0}var ZO=JO,eP=Nc;function tP(t){var e=this.__data__,n=eP(e,t);return n<0?void 0:e[n][1]}var nP=tP,rP=Nc;function iP(t){return rP(this.__data__,t)>-1}var oP=iP,sP=Nc;function aP(t,e){var n=this.__data__,r=sP(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var lP=aP,uP=HO,cP=ZO,fP=nP,hP=oP,dP=lP;function Ho(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Ho.prototype.clear=uP;Ho.prototype.delete=cP;Ho.prototype.get=fP;Ho.prototype.has=hP;Ho.prototype.set=dP;var xc=Ho,pP=xc;function mP(){this.__data__=new pP,this.size=0}var gP=mP;function vP(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var yP=vP;function _P(t){return this.__data__.get(t)}var EP=_P;function wP(t){return this.__data__.has(t)}var TP=wP,SP=typeof xt=="object"&&xt&&xt.Object===Object&&xt,TE=SP,IP=TE,bP=typeof self=="object"&&self&&self.Object===Object&&self,AP=IP||bP||Function("return this")(),pr=AP,OP=pr,PP=OP.Symbol,cm=PP,Bv=cm,SE=Object.prototype,RP=SE.hasOwnProperty,kP=SE.toString,gs=Bv?Bv.toStringTag:void 0;function CP(t){var e=RP.call(t,gs),n=t[gs];try{t[gs]=void 0;var r=!0}catch{}var i=kP.call(t);return r&&(e?t[gs]=n:delete t[gs]),i}var NP=CP,xP=Object.prototype,LP=xP.toString;function DP(t){return LP.call(t)}var MP=DP,qv=cm,VP=NP,FP=MP,jP="[object Null]",UP="[object Undefined]",zv=qv?qv.toStringTag:void 0;function $P(t){return t==null?t===void 0?UP:jP:zv&&zv in Object(t)?VP(t):FP(t)}var Lc=$P;function BP(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var IE=BP,qP=Lc,zP=IE,HP="[object AsyncFunction]",WP="[object Function]",KP="[object GeneratorFunction]",GP="[object Proxy]";function QP(t){if(!zP(t))return!1;var e=qP(t);return e==WP||e==KP||e==HP||e==GP}var bE=QP,YP=pr,XP=YP["__core-js_shared__"],JP=XP,Zf=JP,Hv=function(){var t=/[^.]+$/.exec(Zf&&Zf.keys&&Zf.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function ZP(t){return!!Hv&&Hv in t}var eR=ZP,tR=Function.prototype,nR=tR.toString;function rR(t){if(t!=null){try{return nR.call(t)}catch{}try{return t+""}catch{}}return""}var AE=rR,iR=bE,oR=eR,sR=IE,aR=AE,lR=/[\\^$.*+?()[\]{}|]/g,uR=/^\[object .+?Constructor\]$/,cR=Function.prototype,fR=Object.prototype,hR=cR.toString,dR=fR.hasOwnProperty,pR=RegExp("^"+hR.call(dR).replace(lR,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function mR(t){if(!sR(t)||oR(t))return!1;var e=iR(t)?pR:uR;return e.test(aR(t))}var gR=mR;function vR(t,e){return t==null?void 0:t[e]}var yR=vR,_R=gR,ER=yR;function wR(t,e){var n=ER(t,e);return _R(n)?n:void 0}var Wo=wR,TR=Wo,SR=pr,IR=TR(SR,"Map"),fm=IR,bR=Wo,AR=bR(Object,"create"),Dc=AR,Wv=Dc;function OR(){this.__data__=Wv?Wv(null):{},this.size=0}var PR=OR;function RR(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var kR=RR,CR=Dc,NR="__lodash_hash_undefined__",xR=Object.prototype,LR=xR.hasOwnProperty;function DR(t){var e=this.__data__;if(CR){var n=e[t];return n===NR?void 0:n}return LR.call(e,t)?e[t]:void 0}var MR=DR,VR=Dc,FR=Object.prototype,jR=FR.hasOwnProperty;function UR(t){var e=this.__data__;return VR?e[t]!==void 0:jR.call(e,t)}var $R=UR,BR=Dc,qR="__lodash_hash_undefined__";function zR(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=BR&&e===void 0?qR:e,this}var HR=zR,WR=PR,KR=kR,GR=MR,QR=$R,YR=HR;function Ko(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Ko.prototype.clear=WR;Ko.prototype.delete=KR;Ko.prototype.get=GR;Ko.prototype.has=QR;Ko.prototype.set=YR;var XR=Ko,Kv=XR,JR=xc,ZR=fm;function ek(){this.size=0,this.__data__={hash:new Kv,map:new(ZR||JR),string:new Kv}}var tk=ek;function nk(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var rk=nk,ik=rk;function ok(t,e){var n=t.__data__;return ik(e)?n[typeof e=="string"?"string":"hash"]:n.map}var Mc=ok,sk=Mc;function ak(t){var e=sk(this,t).delete(t);return this.size-=e?1:0,e}var lk=ak,uk=Mc;function ck(t){return uk(this,t).get(t)}var fk=ck,hk=Mc;function dk(t){return hk(this,t).has(t)}var pk=dk,mk=Mc;function gk(t,e){var n=mk(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var vk=gk,yk=tk,_k=lk,Ek=fk,wk=pk,Tk=vk;function Go(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Go.prototype.clear=yk;Go.prototype.delete=_k;Go.prototype.get=Ek;Go.prototype.has=wk;Go.prototype.set=Tk;var OE=Go,Sk=xc,Ik=fm,bk=OE,Ak=200;function Ok(t,e){var n=this.__data__;if(n instanceof Sk){var r=n.__data__;if(!Ik||r.length<Ak-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new bk(r)}return n.set(t,e),this.size=n.size,this}var Pk=Ok,Rk=xc,kk=gP,Ck=yP,Nk=EP,xk=TP,Lk=Pk;function Qo(t){var e=this.__data__=new Rk(t);this.size=e.size}Qo.prototype.clear=kk;Qo.prototype.delete=Ck;Qo.prototype.get=Nk;Qo.prototype.has=xk;Qo.prototype.set=Lk;var Dk=Qo,Mk="__lodash_hash_undefined__";function Vk(t){return this.__data__.set(t,Mk),this}var Fk=Vk;function jk(t){return this.__data__.has(t)}var Uk=jk,$k=OE,Bk=Fk,qk=Uk;function Mu(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new $k;++e<n;)this.add(t[e])}Mu.prototype.add=Mu.prototype.push=Bk;Mu.prototype.has=qk;var zk=Mu;function Hk(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var Wk=Hk;function Kk(t,e){return t.has(e)}var Gk=Kk,Qk=zk,Yk=Wk,Xk=Gk,Jk=1,Zk=2;function eC(t,e,n,r,i,o){var s=n&Jk,a=t.length,l=e.length;if(a!=l&&!(s&&l>a))return!1;var u=o.get(t),h=o.get(e);if(u&&h)return u==e&&h==t;var f=-1,c=!0,d=n&Zk?new Qk:void 0;for(o.set(t,e),o.set(e,t);++f<a;){var _=t[f],y=e[f];if(r)var E=s?r(y,_,f,e,t,o):r(_,y,f,t,e,o);if(E!==void 0){if(E)continue;c=!1;break}if(d){if(!Yk(e,function(m,p){if(!Xk(d,p)&&(_===m||i(_,m,n,r,o)))return d.push(p)})){c=!1;break}}else if(!(_===y||i(_,y,n,r,o))){c=!1;break}}return o.delete(t),o.delete(e),c}var PE=eC,tC=pr,nC=tC.Uint8Array,rC=nC;function iC(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var oC=iC;function sC(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var aC=sC,Gv=cm,Qv=rC,lC=wE,uC=PE,cC=oC,fC=aC,hC=1,dC=2,pC="[object Boolean]",mC="[object Date]",gC="[object Error]",vC="[object Map]",yC="[object Number]",_C="[object RegExp]",EC="[object Set]",wC="[object String]",TC="[object Symbol]",SC="[object ArrayBuffer]",IC="[object DataView]",Yv=Gv?Gv.prototype:void 0,eh=Yv?Yv.valueOf:void 0;function bC(t,e,n,r,i,o,s){switch(n){case IC:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case SC:return!(t.byteLength!=e.byteLength||!o(new Qv(t),new Qv(e)));case pC:case mC:case yC:return lC(+t,+e);case gC:return t.name==e.name&&t.message==e.message;case _C:case wC:return t==e+"";case vC:var a=cC;case EC:var l=r&hC;if(a||(a=fC),t.size!=e.size&&!l)return!1;var u=s.get(t);if(u)return u==e;r|=dC,s.set(t,e);var h=uC(a(t),a(e),r,i,o,s);return s.delete(t),h;case TC:if(eh)return eh.call(t)==eh.call(e)}return!1}var AC=bC;function OC(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var PC=OC,RC=Array.isArray,hm=RC,kC=PC,CC=hm;function NC(t,e,n){var r=e(t);return CC(t)?r:kC(r,n(t))}var xC=NC;function LC(t,e){for(var n=-1,r=t==null?0:t.length,i=0,o=[];++n<r;){var s=t[n];e(s,n,t)&&(o[i++]=s)}return o}var DC=LC;function MC(){return[]}var VC=MC,FC=DC,jC=VC,UC=Object.prototype,$C=UC.propertyIsEnumerable,Xv=Object.getOwnPropertySymbols,BC=Xv?function(t){return t==null?[]:(t=Object(t),FC(Xv(t),function(e){return $C.call(t,e)}))}:jC,qC=BC;function zC(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var HC=zC;function WC(t){return t!=null&&typeof t=="object"}var Vc=WC,KC=Lc,GC=Vc,QC="[object Arguments]";function YC(t){return GC(t)&&KC(t)==QC}var XC=YC,Jv=XC,JC=Vc,RE=Object.prototype,ZC=RE.hasOwnProperty,eN=RE.propertyIsEnumerable,tN=Jv(function(){return arguments}())?Jv:function(t){return JC(t)&&ZC.call(t,"callee")&&!eN.call(t,"callee")},nN=tN,Vu={exports:{}};function rN(){return!1}var iN=rN;Vu.exports;(function(t,e){var n=pr,r=iN,i=e&&!e.nodeType&&e,o=i&&!0&&t&&!t.nodeType&&t,s=o&&o.exports===i,a=s?n.Buffer:void 0,l=a?a.isBuffer:void 0,u=l||r;t.exports=u})(Vu,Vu.exports);var kE=Vu.exports,oN=9007199254740991,sN=/^(?:0|[1-9]\d*)$/;function aN(t,e){var n=typeof t;return e=e??oN,!!e&&(n=="number"||n!="symbol"&&sN.test(t))&&t>-1&&t%1==0&&t<e}var lN=aN,uN=9007199254740991;function cN(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=uN}var CE=cN,fN=Lc,hN=CE,dN=Vc,pN="[object Arguments]",mN="[object Array]",gN="[object Boolean]",vN="[object Date]",yN="[object Error]",_N="[object Function]",EN="[object Map]",wN="[object Number]",TN="[object Object]",SN="[object RegExp]",IN="[object Set]",bN="[object String]",AN="[object WeakMap]",ON="[object ArrayBuffer]",PN="[object DataView]",RN="[object Float32Array]",kN="[object Float64Array]",CN="[object Int8Array]",NN="[object Int16Array]",xN="[object Int32Array]",LN="[object Uint8Array]",DN="[object Uint8ClampedArray]",MN="[object Uint16Array]",VN="[object Uint32Array]",Me={};Me[RN]=Me[kN]=Me[CN]=Me[NN]=Me[xN]=Me[LN]=Me[DN]=Me[MN]=Me[VN]=!0;Me[pN]=Me[mN]=Me[ON]=Me[gN]=Me[PN]=Me[vN]=Me[yN]=Me[_N]=Me[EN]=Me[wN]=Me[TN]=Me[SN]=Me[IN]=Me[bN]=Me[AN]=!1;function FN(t){return dN(t)&&hN(t.length)&&!!Me[fN(t)]}var jN=FN;function UN(t){return function(e){return t(e)}}var $N=UN,Fu={exports:{}};Fu.exports;(function(t,e){var n=TE,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===r,s=o&&n.process,a=function(){try{var l=i&&i.require&&i.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}}();t.exports=a})(Fu,Fu.exports);var BN=Fu.exports,qN=jN,zN=$N,Zv=BN,ey=Zv&&Zv.isTypedArray,HN=ey?zN(ey):qN,NE=HN,WN=HC,KN=nN,GN=hm,QN=kE,YN=lN,XN=NE,JN=Object.prototype,ZN=JN.hasOwnProperty;function e2(t,e){var n=GN(t),r=!n&&KN(t),i=!n&&!r&&QN(t),o=!n&&!r&&!i&&XN(t),s=n||r||i||o,a=s?WN(t.length,String):[],l=a.length;for(var u in t)(e||ZN.call(t,u))&&!(s&&(u=="length"||i&&(u=="offset"||u=="parent")||o&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||YN(u,l)))&&a.push(u);return a}var t2=e2,n2=Object.prototype;function r2(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||n2;return t===n}var i2=r2;function o2(t,e){return function(n){return t(e(n))}}var s2=o2,a2=s2,l2=a2(Object.keys,Object),u2=l2,c2=i2,f2=u2,h2=Object.prototype,d2=h2.hasOwnProperty;function p2(t){if(!c2(t))return f2(t);var e=[];for(var n in Object(t))d2.call(t,n)&&n!="constructor"&&e.push(n);return e}var m2=p2,g2=bE,v2=CE;function y2(t){return t!=null&&v2(t.length)&&!g2(t)}var _2=y2,E2=t2,w2=m2,T2=_2;function S2(t){return T2(t)?E2(t):w2(t)}var I2=S2,b2=xC,A2=qC,O2=I2;function P2(t){return b2(t,O2,A2)}var R2=P2,ty=R2,k2=1,C2=Object.prototype,N2=C2.hasOwnProperty;function x2(t,e,n,r,i,o){var s=n&k2,a=ty(t),l=a.length,u=ty(e),h=u.length;if(l!=h&&!s)return!1;for(var f=l;f--;){var c=a[f];if(!(s?c in e:N2.call(e,c)))return!1}var d=o.get(t),_=o.get(e);if(d&&_)return d==e&&_==t;var y=!0;o.set(t,e),o.set(e,t);for(var E=s;++f<l;){c=a[f];var m=t[c],p=e[c];if(r)var v=s?r(p,m,c,e,t,o):r(m,p,c,t,e,o);if(!(v===void 0?m===p||i(m,p,n,r,o):v)){y=!1;break}E||(E=c=="constructor")}if(y&&!E){var g=t.constructor,w=e.constructor;g!=w&&"constructor"in t&&"constructor"in e&&!(typeof g=="function"&&g instanceof g&&typeof w=="function"&&w instanceof w)&&(y=!1)}return o.delete(t),o.delete(e),y}var L2=x2,D2=Wo,M2=pr,V2=D2(M2,"DataView"),F2=V2,j2=Wo,U2=pr,$2=j2(U2,"Promise"),B2=$2,q2=Wo,z2=pr,H2=q2(z2,"Set"),W2=H2,K2=Wo,G2=pr,Q2=K2(G2,"WeakMap"),Y2=Q2,_d=F2,Ed=fm,wd=B2,Td=W2,Sd=Y2,xE=Lc,Yo=AE,ny="[object Map]",X2="[object Object]",ry="[object Promise]",iy="[object Set]",oy="[object WeakMap]",sy="[object DataView]",J2=Yo(_d),Z2=Yo(Ed),ex=Yo(wd),tx=Yo(Td),nx=Yo(Sd),li=xE;(_d&&li(new _d(new ArrayBuffer(1)))!=sy||Ed&&li(new Ed)!=ny||wd&&li(wd.resolve())!=ry||Td&&li(new Td)!=iy||Sd&&li(new Sd)!=oy)&&(li=function(t){var e=xE(t),n=e==X2?t.constructor:void 0,r=n?Yo(n):"";if(r)switch(r){case J2:return sy;case Z2:return ny;case ex:return ry;case tx:return iy;case nx:return oy}return e});var rx=li,th=Dk,ix=PE,ox=AC,sx=L2,ay=rx,ly=hm,uy=kE,ax=NE,lx=1,cy="[object Arguments]",fy="[object Array]",kl="[object Object]",ux=Object.prototype,hy=ux.hasOwnProperty;function cx(t,e,n,r,i,o){var s=ly(t),a=ly(e),l=s?fy:ay(t),u=a?fy:ay(e);l=l==cy?kl:l,u=u==cy?kl:u;var h=l==kl,f=u==kl,c=l==u;if(c&&uy(t)){if(!uy(e))return!1;s=!0,h=!1}if(c&&!h)return o||(o=new th),s||ax(t)?ix(t,e,n,r,i,o):ox(t,e,l,n,r,i,o);if(!(n&lx)){var d=h&&hy.call(t,"__wrapped__"),_=f&&hy.call(e,"__wrapped__");if(d||_){var y=d?t.value():t,E=_?e.value():e;return o||(o=new th),i(y,E,n,r,o)}}return c?(o||(o=new th),sx(t,e,n,r,i,o)):!1}var fx=cx,hx=fx,dy=Vc;function LE(t,e,n,r,i){return t===e?!0:t==null||e==null||!dy(t)&&!dy(e)?t!==t&&e!==e:hx(t,e,n,r,LE,i)}var dx=LE,px=dx;function mx(t,e){return px(t,e)}var gx=mx,DE={exports:{}};/*!
 * Quill Editor v1.3.7
 * https://quilljs.com/
 * Copyright (c) 2014, Jason Chen
 * Copyright (c) 2013, salesforce.com
 */(function(t,e){(function(r,i){t.exports=i()})(typeof self<"u"?self:xt,function(){return function(n){var r={};function i(o){if(r[o])return r[o].exports;var s=r[o]={i:o,l:!1,exports:{}};return n[o].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=n,i.c=r,i.d=function(o,s,a){i.o(o,s)||Object.defineProperty(o,s,{configurable:!1,enumerable:!0,get:a})},i.n=function(o){var s=o&&o.__esModule?function(){return o.default}:function(){return o};return i.d(s,"a",s),s},i.o=function(o,s){return Object.prototype.hasOwnProperty.call(o,s)},i.p="",i(i.s=109)}([function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(17),s=i(18),a=i(19),l=i(45),u=i(46),h=i(47),f=i(48),c=i(49),d=i(12),_=i(32),y=i(33),E=i(31),m=i(1),p={Scope:m.Scope,create:m.create,find:m.find,query:m.query,register:m.register,Container:o.default,Format:s.default,Leaf:a.default,Embed:f.default,Scroll:l.default,Block:h.default,Inline:u.default,Text:c.default,Attributor:{Attribute:d.default,Class:_.default,Style:y.default,Store:E.default}};r.default=p},function(n,r,i){var o=this&&this.__extends||function(){var E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,p){m.__proto__=p}||function(m,p){for(var v in p)p.hasOwnProperty(v)&&(m[v]=p[v])};return function(m,p){E(m,p);function v(){this.constructor=m}m.prototype=p===null?Object.create(p):(v.prototype=p.prototype,new v)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=function(E){o(m,E);function m(p){var v=this;return p="[Parchment] "+p,v=E.call(this,p)||this,v.message=p,v.name=v.constructor.name,v}return m}(Error);r.ParchmentError=s;var a={},l={},u={},h={};r.DATA_KEY="__blot";var f;(function(E){E[E.TYPE=3]="TYPE",E[E.LEVEL=12]="LEVEL",E[E.ATTRIBUTE=13]="ATTRIBUTE",E[E.BLOT=14]="BLOT",E[E.INLINE=7]="INLINE",E[E.BLOCK=11]="BLOCK",E[E.BLOCK_BLOT=10]="BLOCK_BLOT",E[E.INLINE_BLOT=6]="INLINE_BLOT",E[E.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",E[E.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",E[E.ANY=15]="ANY"})(f=r.Scope||(r.Scope={}));function c(E,m){var p=_(E);if(p==null)throw new s("Unable to create "+E+" blot");var v=p,g=E instanceof Node||E.nodeType===Node.TEXT_NODE?E:v.create(m);return new v(g,m)}r.create=c;function d(E,m){return m===void 0&&(m=!1),E==null?null:E[r.DATA_KEY]!=null?E[r.DATA_KEY].blot:m?d(E.parentNode,m):null}r.find=d;function _(E,m){m===void 0&&(m=f.ANY);var p;if(typeof E=="string")p=h[E]||a[E];else if(E instanceof Text||E.nodeType===Node.TEXT_NODE)p=h.text;else if(typeof E=="number")E&f.LEVEL&f.BLOCK?p=h.block:E&f.LEVEL&f.INLINE&&(p=h.inline);else if(E instanceof HTMLElement){var v=(E.getAttribute("class")||"").split(/\s+/);for(var g in v)if(p=l[v[g]],p)break;p=p||u[E.tagName]}return p==null?null:m&f.LEVEL&p.scope&&m&f.TYPE&p.scope?p:null}r.query=_;function y(){for(var E=[],m=0;m<arguments.length;m++)E[m]=arguments[m];if(E.length>1)return E.map(function(g){return y(g)});var p=E[0];if(typeof p.blotName!="string"&&typeof p.attrName!="string")throw new s("Invalid definition");if(p.blotName==="abstract")throw new s("Cannot register abstract class");if(h[p.blotName||p.attrName]=p,typeof p.keyName=="string")a[p.keyName]=p;else if(p.className!=null&&(l[p.className]=p),p.tagName!=null){Array.isArray(p.tagName)?p.tagName=p.tagName.map(function(g){return g.toUpperCase()}):p.tagName=p.tagName.toUpperCase();var v=Array.isArray(p.tagName)?p.tagName:[p.tagName];v.forEach(function(g){(u[g]==null||p.className==null)&&(u[g]=p)})}return p}r.register=y},function(n,r,i){var o=i(51),s=i(11),a=i(3),l=i(20),u="\0",h=function(f){Array.isArray(f)?this.ops=f:f!=null&&Array.isArray(f.ops)?this.ops=f.ops:this.ops=[]};h.prototype.insert=function(f,c){var d={};return f.length===0?this:(d.insert=f,c!=null&&typeof c=="object"&&Object.keys(c).length>0&&(d.attributes=c),this.push(d))},h.prototype.delete=function(f){return f<=0?this:this.push({delete:f})},h.prototype.retain=function(f,c){if(f<=0)return this;var d={retain:f};return c!=null&&typeof c=="object"&&Object.keys(c).length>0&&(d.attributes=c),this.push(d)},h.prototype.push=function(f){var c=this.ops.length,d=this.ops[c-1];if(f=a(!0,{},f),typeof d=="object"){if(typeof f.delete=="number"&&typeof d.delete=="number")return this.ops[c-1]={delete:d.delete+f.delete},this;if(typeof d.delete=="number"&&f.insert!=null&&(c-=1,d=this.ops[c-1],typeof d!="object"))return this.ops.unshift(f),this;if(s(f.attributes,d.attributes)){if(typeof f.insert=="string"&&typeof d.insert=="string")return this.ops[c-1]={insert:d.insert+f.insert},typeof f.attributes=="object"&&(this.ops[c-1].attributes=f.attributes),this;if(typeof f.retain=="number"&&typeof d.retain=="number")return this.ops[c-1]={retain:d.retain+f.retain},typeof f.attributes=="object"&&(this.ops[c-1].attributes=f.attributes),this}}return c===this.ops.length?this.ops.push(f):this.ops.splice(c,0,f),this},h.prototype.chop=function(){var f=this.ops[this.ops.length-1];return f&&f.retain&&!f.attributes&&this.ops.pop(),this},h.prototype.filter=function(f){return this.ops.filter(f)},h.prototype.forEach=function(f){this.ops.forEach(f)},h.prototype.map=function(f){return this.ops.map(f)},h.prototype.partition=function(f){var c=[],d=[];return this.forEach(function(_){var y=f(_)?c:d;y.push(_)}),[c,d]},h.prototype.reduce=function(f,c){return this.ops.reduce(f,c)},h.prototype.changeLength=function(){return this.reduce(function(f,c){return c.insert?f+l.length(c):c.delete?f-c.delete:f},0)},h.prototype.length=function(){return this.reduce(function(f,c){return f+l.length(c)},0)},h.prototype.slice=function(f,c){f=f||0,typeof c!="number"&&(c=1/0);for(var d=[],_=l.iterator(this.ops),y=0;y<c&&_.hasNext();){var E;y<f?E=_.next(f-y):(E=_.next(c-y),d.push(E)),y+=l.length(E)}return new h(d)},h.prototype.compose=function(f){var c=l.iterator(this.ops),d=l.iterator(f.ops),_=[],y=d.peek();if(y!=null&&typeof y.retain=="number"&&y.attributes==null){for(var E=y.retain;c.peekType()==="insert"&&c.peekLength()<=E;)E-=c.peekLength(),_.push(c.next());y.retain-E>0&&d.next(y.retain-E)}for(var m=new h(_);c.hasNext()||d.hasNext();)if(d.peekType()==="insert")m.push(d.next());else if(c.peekType()==="delete")m.push(c.next());else{var p=Math.min(c.peekLength(),d.peekLength()),v=c.next(p),g=d.next(p);if(typeof g.retain=="number"){var w={};typeof v.retain=="number"?w.retain=p:w.insert=v.insert;var A=l.attributes.compose(v.attributes,g.attributes,typeof v.retain=="number");if(A&&(w.attributes=A),m.push(w),!d.hasNext()&&s(m.ops[m.ops.length-1],w)){var T=new h(c.rest());return m.concat(T).chop()}}else typeof g.delete=="number"&&typeof v.retain=="number"&&m.push(g)}return m.chop()},h.prototype.concat=function(f){var c=new h(this.ops.slice());return f.ops.length>0&&(c.push(f.ops[0]),c.ops=c.ops.concat(f.ops.slice(1))),c},h.prototype.diff=function(f,c){if(this.ops===f.ops)return new h;var d=[this,f].map(function(p){return p.map(function(v){if(v.insert!=null)return typeof v.insert=="string"?v.insert:u;var g=p===f?"on":"with";throw new Error("diff() called "+g+" non-document")}).join("")}),_=new h,y=o(d[0],d[1],c),E=l.iterator(this.ops),m=l.iterator(f.ops);return y.forEach(function(p){for(var v=p[1].length;v>0;){var g=0;switch(p[0]){case o.INSERT:g=Math.min(m.peekLength(),v),_.push(m.next(g));break;case o.DELETE:g=Math.min(v,E.peekLength()),E.next(g),_.delete(g);break;case o.EQUAL:g=Math.min(E.peekLength(),m.peekLength(),v);var w=E.next(g),A=m.next(g);s(w.insert,A.insert)?_.retain(g,l.attributes.diff(w.attributes,A.attributes)):_.push(A).delete(g);break}v-=g}}),_.chop()},h.prototype.eachLine=function(f,c){c=c||`
`;for(var d=l.iterator(this.ops),_=new h,y=0;d.hasNext();){if(d.peekType()!=="insert")return;var E=d.peek(),m=l.length(E)-d.peekLength(),p=typeof E.insert=="string"?E.insert.indexOf(c,m)-m:-1;if(p<0)_.push(d.next());else if(p>0)_.push(d.next(p));else{if(f(_,d.next(1).attributes||{},y)===!1)return;y+=1,_=new h}}_.length()>0&&f(_,{},y)},h.prototype.transform=function(f,c){if(c=!!c,typeof f=="number")return this.transformPosition(f,c);for(var d=l.iterator(this.ops),_=l.iterator(f.ops),y=new h;d.hasNext()||_.hasNext();)if(d.peekType()==="insert"&&(c||_.peekType()!=="insert"))y.retain(l.length(d.next()));else if(_.peekType()==="insert")y.push(_.next());else{var E=Math.min(d.peekLength(),_.peekLength()),m=d.next(E),p=_.next(E);if(m.delete)continue;p.delete?y.push(p):y.retain(E,l.attributes.transform(m.attributes,p.attributes,c))}return y.chop()},h.prototype.transformPosition=function(f,c){c=!!c;for(var d=l.iterator(this.ops),_=0;d.hasNext()&&_<=f;){var y=d.peekLength(),E=d.peekType();if(d.next(),E==="delete"){f-=Math.min(y,f-_);continue}else E==="insert"&&(_<f||!c)&&(f+=y);_+=y}return f},n.exports=h},function(n,r){var i=Object.prototype.hasOwnProperty,o=Object.prototype.toString,s=Object.defineProperty,a=Object.getOwnPropertyDescriptor,l=function(d){return typeof Array.isArray=="function"?Array.isArray(d):o.call(d)==="[object Array]"},u=function(d){if(!d||o.call(d)!=="[object Object]")return!1;var _=i.call(d,"constructor"),y=d.constructor&&d.constructor.prototype&&i.call(d.constructor.prototype,"isPrototypeOf");if(d.constructor&&!_&&!y)return!1;var E;for(E in d);return typeof E>"u"||i.call(d,E)},h=function(d,_){s&&_.name==="__proto__"?s(d,_.name,{enumerable:!0,configurable:!0,value:_.newValue,writable:!0}):d[_.name]=_.newValue},f=function(d,_){if(_==="__proto__")if(i.call(d,_)){if(a)return a(d,_).value}else return;return d[_]};n.exports=function c(){var d,_,y,E,m,p,v=arguments[0],g=1,w=arguments.length,A=!1;for(typeof v=="boolean"&&(A=v,v=arguments[1]||{},g=2),(v==null||typeof v!="object"&&typeof v!="function")&&(v={});g<w;++g)if(d=arguments[g],d!=null)for(_ in d)y=f(v,_),E=f(d,_),v!==E&&(A&&E&&(u(E)||(m=l(E)))?(m?(m=!1,p=y&&l(y)?y:[]):p=y&&u(y)?y:{},h(v,{name:_,newValue:c(A,p,E)})):typeof E<"u"&&h(v,{name:_,newValue:E}));return v}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BlockEmbed=r.bubbleFormats=void 0;var o=function(){function I(O,R){for(var C=0;C<R.length;C++){var M=R[C];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(O,M.key,M)}}return function(O,R,C){return R&&I(O.prototype,R),C&&I(O,C),O}}(),s=function I(O,R,C){O===null&&(O=Function.prototype);var M=Object.getOwnPropertyDescriptor(O,R);if(M===void 0){var $=Object.getPrototypeOf(O);return $===null?void 0:I($,R,C)}else{if("value"in M)return M.value;var D=M.get;return D===void 0?void 0:D.call(C)}},a=i(3),l=v(a),u=i(2),h=v(u),f=i(0),c=v(f),d=i(16),_=v(d),y=i(6),E=v(y),m=i(7),p=v(m);function v(I){return I&&I.__esModule?I:{default:I}}function g(I,O){if(!(I instanceof O))throw new TypeError("Cannot call a class as a function")}function w(I,O){if(!I)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O&&(typeof O=="object"||typeof O=="function")?O:I}function A(I,O){if(typeof O!="function"&&O!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof O);I.prototype=Object.create(O&&O.prototype,{constructor:{value:I,enumerable:!1,writable:!0,configurable:!0}}),O&&(Object.setPrototypeOf?Object.setPrototypeOf(I,O):I.__proto__=O)}var T=1,S=function(I){A(O,I);function O(){return g(this,O),w(this,(O.__proto__||Object.getPrototypeOf(O)).apply(this,arguments))}return o(O,[{key:"attach",value:function(){s(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"attach",this).call(this),this.attributes=new c.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return new h.default().insert(this.value(),(0,l.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(C,M){var $=c.default.query(C,c.default.Scope.BLOCK_ATTRIBUTE);$!=null&&this.attributes.attribute($,M)}},{key:"formatAt",value:function(C,M,$,D){this.format($,D)}},{key:"insertAt",value:function(C,M,$){if(typeof M=="string"&&M.endsWith(`
`)){var D=c.default.create(k.blotName);this.parent.insertBefore(D,C===0?this:this.next),D.insertAt(0,M.slice(0,-1))}else s(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"insertAt",this).call(this,C,M,$)}}]),O}(c.default.Embed);S.scope=c.default.Scope.BLOCK_BLOT;var k=function(I){A(O,I);function O(R){g(this,O);var C=w(this,(O.__proto__||Object.getPrototypeOf(O)).call(this,R));return C.cache={},C}return o(O,[{key:"delta",value:function(){return this.cache.delta==null&&(this.cache.delta=this.descendants(c.default.Leaf).reduce(function(C,M){return M.length()===0?C:C.insert(M.value(),b(M))},new h.default).insert(`
`,b(this))),this.cache.delta}},{key:"deleteAt",value:function(C,M){s(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"deleteAt",this).call(this,C,M),this.cache={}}},{key:"formatAt",value:function(C,M,$,D){M<=0||(c.default.query($,c.default.Scope.BLOCK)?C+M===this.length()&&this.format($,D):s(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"formatAt",this).call(this,C,Math.min(M,this.length()-C-1),$,D),this.cache={})}},{key:"insertAt",value:function(C,M,$){if($!=null)return s(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"insertAt",this).call(this,C,M,$);if(M.length!==0){var D=M.split(`
`),j=D.shift();j.length>0&&(C<this.length()-1||this.children.tail==null?s(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"insertAt",this).call(this,Math.min(C,this.length()-1),j):this.children.tail.insertAt(this.children.tail.length(),j),this.cache={});var F=this;D.reduce(function(N,P){return F=F.split(N,!0),F.insertAt(0,P),P.length},C+j.length)}}},{key:"insertBefore",value:function(C,M){var $=this.children.head;s(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"insertBefore",this).call(this,C,M),$ instanceof _.default&&$.remove(),this.cache={}}},{key:"length",value:function(){return this.cache.length==null&&(this.cache.length=s(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"length",this).call(this)+T),this.cache.length}},{key:"moveChildren",value:function(C,M){s(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"moveChildren",this).call(this,C,M),this.cache={}}},{key:"optimize",value:function(C){s(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"optimize",this).call(this,C),this.cache={}}},{key:"path",value:function(C){return s(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"path",this).call(this,C,!0)}},{key:"removeChild",value:function(C){s(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"removeChild",this).call(this,C),this.cache={}}},{key:"split",value:function(C){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(M&&(C===0||C>=this.length()-T)){var $=this.clone();return C===0?(this.parent.insertBefore($,this),this):(this.parent.insertBefore($,this.next),$)}else{var D=s(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"split",this).call(this,C,M);return this.cache={},D}}}]),O}(c.default.Block);k.blotName="block",k.tagName="P",k.defaultChild="break",k.allowedChildren=[E.default,c.default.Embed,p.default];function b(I){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return I==null||(typeof I.formats=="function"&&(O=(0,l.default)(O,I.formats())),I.parent==null||I.parent.blotName=="scroll"||I.parent.statics.scope!==I.statics.scope)?O:b(I.parent,O)}r.bubbleFormats=b,r.BlockEmbed=S,r.default=k},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.overload=r.expandConfig=void 0;var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(F){return typeof F}:function(F){return F&&typeof Symbol=="function"&&F.constructor===Symbol&&F!==Symbol.prototype?"symbol":typeof F},s=function(){function F(N,P){var x=[],V=!0,q=!1,B=void 0;try{for(var L=N[Symbol.iterator](),U;!(V=(U=L.next()).done)&&(x.push(U.value),!(P&&x.length===P));V=!0);}catch(z){q=!0,B=z}finally{try{!V&&L.return&&L.return()}finally{if(q)throw B}}return x}return function(N,P){if(Array.isArray(N))return N;if(Symbol.iterator in Object(N))return F(N,P);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function F(N,P){for(var x=0;x<P.length;x++){var V=P[x];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty(N,V.key,V)}}return function(N,P,x){return P&&F(N.prototype,P),x&&F(N,x),N}}();i(50);var l=i(2),u=b(l),h=i(14),f=b(h),c=i(8),d=b(c),_=i(9),y=b(_),E=i(0),m=b(E),p=i(15),v=b(p),g=i(3),w=b(g),A=i(10),T=b(A),S=i(34),k=b(S);function b(F){return F&&F.__esModule?F:{default:F}}function I(F,N,P){return N in F?Object.defineProperty(F,N,{value:P,enumerable:!0,configurable:!0,writable:!0}):F[N]=P,F}function O(F,N){if(!(F instanceof N))throw new TypeError("Cannot call a class as a function")}var R=(0,T.default)("quill"),C=function(){a(F,null,[{key:"debug",value:function(P){P===!0&&(P="log"),T.default.level(P)}},{key:"find",value:function(P){return P.__quill||m.default.find(P)}},{key:"import",value:function(P){return this.imports[P]==null&&R.error("Cannot import "+P+". Are you sure it was registered?"),this.imports[P]}},{key:"register",value:function(P,x){var V=this,q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(typeof P!="string"){var B=P.attrName||P.blotName;typeof B=="string"?this.register("formats/"+B,P,x):Object.keys(P).forEach(function(L){V.register(L,P[L],x)})}else this.imports[P]!=null&&!q&&R.warn("Overwriting "+P+" with",x),this.imports[P]=x,(P.startsWith("blots/")||P.startsWith("formats/"))&&x.blotName!=="abstract"?m.default.register(x):P.startsWith("modules")&&typeof x.register=="function"&&x.register()}}]);function F(N){var P=this,x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(O(this,F),this.options=M(N,x),this.container=this.options.container,this.container==null)return R.error("Invalid Quill container",N);this.options.debug&&F.debug(this.options.debug);var V=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new d.default,this.scroll=m.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new f.default(this.scroll),this.selection=new v.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(d.default.events.EDITOR_CHANGE,function(B){B===d.default.events.TEXT_CHANGE&&P.root.classList.toggle("ql-blank",P.editor.isBlank())}),this.emitter.on(d.default.events.SCROLL_UPDATE,function(B,L){var U=P.selection.lastRange,z=U&&U.length===0?U.index:void 0;$.call(P,function(){return P.editor.update(null,L,z)},B)});var q=this.clipboard.convert(`<div class='ql-editor' style="white-space: normal;">`+V+"<p><br></p></div>");this.setContents(q),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return a(F,[{key:"addContainer",value:function(P){var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof P=="string"){var V=P;P=document.createElement("div"),P.classList.add(V)}return this.container.insertBefore(P,x),P}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(P,x,V){var q=this,B=D(P,x,V),L=s(B,4);return P=L[0],x=L[1],V=L[3],$.call(this,function(){return q.editor.deleteText(P,x)},V,P,-1*x)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(P),this.container.classList.toggle("ql-disabled",!P)}},{key:"focus",value:function(){var P=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=P,this.scrollIntoView()}},{key:"format",value:function(P,x){var V=this,q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:d.default.sources.API;return $.call(this,function(){var B=V.getSelection(!0),L=new u.default;if(B==null)return L;if(m.default.query(P,m.default.Scope.BLOCK))L=V.editor.formatLine(B.index,B.length,I({},P,x));else{if(B.length===0)return V.selection.format(P,x),L;L=V.editor.formatText(B.index,B.length,I({},P,x))}return V.setSelection(B,d.default.sources.SILENT),L},q)}},{key:"formatLine",value:function(P,x,V,q,B){var L=this,U=void 0,z=D(P,x,V,q,B),H=s(z,4);return P=H[0],x=H[1],U=H[2],B=H[3],$.call(this,function(){return L.editor.formatLine(P,x,U)},B,P,0)}},{key:"formatText",value:function(P,x,V,q,B){var L=this,U=void 0,z=D(P,x,V,q,B),H=s(z,4);return P=H[0],x=H[1],U=H[2],B=H[3],$.call(this,function(){return L.editor.formatText(P,x,U)},B,P,0)}},{key:"getBounds",value:function(P){var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,V=void 0;typeof P=="number"?V=this.selection.getBounds(P,x):V=this.selection.getBounds(P.index,P.length);var q=this.container.getBoundingClientRect();return{bottom:V.bottom-q.top,height:V.height,left:V.left-q.left,right:V.right-q.left,top:V.top-q.top,width:V.width}}},{key:"getContents",value:function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-P,V=D(P,x),q=s(V,2);return P=q[0],x=q[1],this.editor.getContents(P,x)}},{key:"getFormat",value:function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof P=="number"?this.editor.getFormat(P,x):this.editor.getFormat(P.index,P.length)}},{key:"getIndex",value:function(P){return P.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(P){return this.scroll.leaf(P)}},{key:"getLine",value:function(P){return this.scroll.line(P)}},{key:"getLines",value:function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof P!="number"?this.scroll.lines(P.index,P.length):this.scroll.lines(P,x)}},{key:"getModule",value:function(P){return this.theme.modules[P]}},{key:"getSelection",value:function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return P&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-P,V=D(P,x),q=s(V,2);return P=q[0],x=q[1],this.editor.getText(P,x)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(P,x,V){var q=this,B=arguments.length>3&&arguments[3]!==void 0?arguments[3]:F.sources.API;return $.call(this,function(){return q.editor.insertEmbed(P,x,V)},B,P)}},{key:"insertText",value:function(P,x,V,q,B){var L=this,U=void 0,z=D(P,0,V,q,B),H=s(z,4);return P=H[0],U=H[2],B=H[3],$.call(this,function(){return L.editor.insertText(P,x,U)},B,P,x.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(P,x,V){this.clipboard.dangerouslyPasteHTML(P,x,V)}},{key:"removeFormat",value:function(P,x,V){var q=this,B=D(P,x,V),L=s(B,4);return P=L[0],x=L[1],V=L[3],$.call(this,function(){return q.editor.removeFormat(P,x)},V,P)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(P){var x=this,V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:d.default.sources.API;return $.call(this,function(){P=new u.default(P);var q=x.getLength(),B=x.editor.deleteText(0,q),L=x.editor.applyDelta(P),U=L.ops[L.ops.length-1];U!=null&&typeof U.insert=="string"&&U.insert[U.insert.length-1]===`
`&&(x.editor.deleteText(x.getLength()-1,1),L.delete(1));var z=B.compose(L);return z},V)}},{key:"setSelection",value:function(P,x,V){if(P==null)this.selection.setRange(null,x||F.sources.API);else{var q=D(P,x,V),B=s(q,4);P=B[0],x=B[1],V=B[3],this.selection.setRange(new p.Range(P,x),V),V!==d.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(P){var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:d.default.sources.API,V=new u.default().insert(P);return this.setContents(V,x)}},{key:"update",value:function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:d.default.sources.USER,x=this.scroll.update(P);return this.selection.update(P),x}},{key:"updateContents",value:function(P){var x=this,V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:d.default.sources.API;return $.call(this,function(){return P=new u.default(P),x.editor.applyDelta(P,V)},V,!0)}}]),F}();C.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},C.events=d.default.events,C.sources=d.default.sources,C.version="1.3.7",C.imports={delta:u.default,parchment:m.default,"core/module":y.default,"core/theme":k.default};function M(F,N){if(N=(0,w.default)(!0,{container:F,modules:{clipboard:!0,keyboard:!0,history:!0}},N),!N.theme||N.theme===C.DEFAULTS.theme)N.theme=k.default;else if(N.theme=C.import("themes/"+N.theme),N.theme==null)throw new Error("Invalid theme "+N.theme+". Did you register it?");var P=(0,w.default)(!0,{},N.theme.DEFAULTS);[P,N].forEach(function(q){q.modules=q.modules||{},Object.keys(q.modules).forEach(function(B){q.modules[B]===!0&&(q.modules[B]={})})});var x=Object.keys(P.modules).concat(Object.keys(N.modules)),V=x.reduce(function(q,B){var L=C.import("modules/"+B);return L==null?R.error("Cannot load "+B+" module. Are you sure you registered it?"):q[B]=L.DEFAULTS||{},q},{});return N.modules!=null&&N.modules.toolbar&&N.modules.toolbar.constructor!==Object&&(N.modules.toolbar={container:N.modules.toolbar}),N=(0,w.default)(!0,{},C.DEFAULTS,{modules:V},P,N),["bounds","container","scrollingContainer"].forEach(function(q){typeof N[q]=="string"&&(N[q]=document.querySelector(N[q]))}),N.modules=Object.keys(N.modules).reduce(function(q,B){return N.modules[B]&&(q[B]=N.modules[B]),q},{}),N}function $(F,N,P,x){if(this.options.strict&&!this.isEnabled()&&N===d.default.sources.USER)return new u.default;var V=P==null?null:this.getSelection(),q=this.editor.delta,B=F();if(V!=null&&(P===!0&&(P=V.index),x==null?V=j(V,B,N):x!==0&&(V=j(V,P,x,N)),this.setSelection(V,d.default.sources.SILENT)),B.length()>0){var L,U=[d.default.events.TEXT_CHANGE,B,q,N];if((L=this.emitter).emit.apply(L,[d.default.events.EDITOR_CHANGE].concat(U)),N!==d.default.sources.SILENT){var z;(z=this.emitter).emit.apply(z,U)}}return B}function D(F,N,P,x,V){var q={};return typeof F.index=="number"&&typeof F.length=="number"?typeof N!="number"?(V=x,x=P,P=N,N=F.length,F=F.index):(N=F.length,F=F.index):typeof N!="number"&&(V=x,x=P,P=N,N=0),(typeof P>"u"?"undefined":o(P))==="object"?(q=P,V=x):typeof P=="string"&&(x!=null?q[P]=x:V=P),V=V||d.default.sources.API,[F,N,q,V]}function j(F,N,P,x){if(F==null)return null;var V=void 0,q=void 0;if(N instanceof u.default){var B=[F.index,F.index+F.length].map(function(H){return N.transformPosition(H,x!==d.default.sources.USER)}),L=s(B,2);V=L[0],q=L[1]}else{var U=[F.index,F.index+F.length].map(function(H){return H<N||H===N&&x===d.default.sources.USER?H:P>=0?H+P:Math.max(N,H+P)}),z=s(U,2);V=z[0],q=z[1]}return new p.Range(V,q-V)}r.expandConfig=M,r.overload=D,r.default=C},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function E(m,p){for(var v=0;v<p.length;v++){var g=p[v];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(m,g.key,g)}}return function(m,p,v){return p&&E(m.prototype,p),v&&E(m,v),m}}(),s=function E(m,p,v){m===null&&(m=Function.prototype);var g=Object.getOwnPropertyDescriptor(m,p);if(g===void 0){var w=Object.getPrototypeOf(m);return w===null?void 0:E(w,p,v)}else{if("value"in g)return g.value;var A=g.get;return A===void 0?void 0:A.call(v)}},a=i(7),l=f(a),u=i(0),h=f(u);function f(E){return E&&E.__esModule?E:{default:E}}function c(E,m){if(!(E instanceof m))throw new TypeError("Cannot call a class as a function")}function d(E,m){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:E}function _(E,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);E.prototype=Object.create(m&&m.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(E,m):E.__proto__=m)}var y=function(E){_(m,E);function m(){return c(this,m),d(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return o(m,[{key:"formatAt",value:function(v,g,w,A){if(m.compare(this.statics.blotName,w)<0&&h.default.query(w,h.default.Scope.BLOT)){var T=this.isolate(v,g);A&&T.wrap(w,A)}else s(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"formatAt",this).call(this,v,g,w,A)}},{key:"optimize",value:function(v){if(s(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"optimize",this).call(this,v),this.parent instanceof m&&m.compare(this.statics.blotName,this.parent.statics.blotName)>0){var g=this.parent.isolate(this.offset(),this.length());this.moveChildren(g),g.wrap(this)}}}],[{key:"compare",value:function(v,g){var w=m.order.indexOf(v),A=m.order.indexOf(g);return w>=0||A>=0?w-A:v===g?0:v<g?-1:1}}]),m}(h.default.Inline);y.allowedChildren=[y,h.default.Embed,l.default],y.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],r.default=y},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(0),s=a(o);function a(c){return c&&c.__esModule?c:{default:c}}function l(c,d){if(!(c instanceof d))throw new TypeError("Cannot call a class as a function")}function u(c,d){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d&&(typeof d=="object"||typeof d=="function")?d:c}function h(c,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof d);c.prototype=Object.create(d&&d.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(c,d):c.__proto__=d)}var f=function(c){h(d,c);function d(){return l(this,d),u(this,(d.__proto__||Object.getPrototypeOf(d)).apply(this,arguments))}return d}(s.default.Text);r.default=f},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function p(v,g){for(var w=0;w<g.length;w++){var A=g[w];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(v,A.key,A)}}return function(v,g,w){return g&&p(v.prototype,g),w&&p(v,w),v}}(),s=function p(v,g,w){v===null&&(v=Function.prototype);var A=Object.getOwnPropertyDescriptor(v,g);if(A===void 0){var T=Object.getPrototypeOf(v);return T===null?void 0:p(T,g,w)}else{if("value"in A)return A.value;var S=A.get;return S===void 0?void 0:S.call(w)}},a=i(54),l=f(a),u=i(10),h=f(u);function f(p){return p&&p.__esModule?p:{default:p}}function c(p,v){if(!(p instanceof v))throw new TypeError("Cannot call a class as a function")}function d(p,v){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:p}function _(p,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);p.prototype=Object.create(v&&v.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(p,v):p.__proto__=v)}var y=(0,h.default)("quill:events"),E=["selectionchange","mousedown","mouseup","click"];E.forEach(function(p){document.addEventListener(p,function(){for(var v=arguments.length,g=Array(v),w=0;w<v;w++)g[w]=arguments[w];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(A){if(A.__quill&&A.__quill.emitter){var T;(T=A.__quill.emitter).handleDOM.apply(T,g)}})})});var m=function(p){_(v,p);function v(){c(this,v);var g=d(this,(v.__proto__||Object.getPrototypeOf(v)).call(this));return g.listeners={},g.on("error",y.error),g}return o(v,[{key:"emit",value:function(){y.log.apply(y,arguments),s(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(w){for(var A=arguments.length,T=Array(A>1?A-1:0),S=1;S<A;S++)T[S-1]=arguments[S];(this.listeners[w.type]||[]).forEach(function(k){var b=k.node,I=k.handler;(w.target===b||b.contains(w.target))&&I.apply(void 0,[w].concat(T))})}},{key:"listenDOM",value:function(w,A,T){this.listeners[w]||(this.listeners[w]=[]),this.listeners[w].push({node:A,handler:T})}}]),v}(l.default);m.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},m.sources={API:"api",SILENT:"silent",USER:"user"},r.default=m},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});function o(a,l){if(!(a instanceof l))throw new TypeError("Cannot call a class as a function")}var s=function a(l){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};o(this,a),this.quill=l,this.options=u};s.DEFAULTS={},r.default=s},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=["error","warn","log","info"],s="warn";function a(u){if(o.indexOf(u)<=o.indexOf(s)){for(var h,f=arguments.length,c=Array(f>1?f-1:0),d=1;d<f;d++)c[d-1]=arguments[d];(h=console)[u].apply(h,c)}}function l(u){return o.reduce(function(h,f){return h[f]=a.bind(console,f,u),h},{})}a.level=l.level=function(u){s=u},r.default=l},function(n,r,i){var o=Array.prototype.slice,s=i(52),a=i(53),l=n.exports=function(c,d,_){return _||(_={}),c===d?!0:c instanceof Date&&d instanceof Date?c.getTime()===d.getTime():!c||!d||typeof c!="object"&&typeof d!="object"?_.strict?c===d:c==d:f(c,d,_)};function u(c){return c==null}function h(c){return!(!c||typeof c!="object"||typeof c.length!="number"||typeof c.copy!="function"||typeof c.slice!="function"||c.length>0&&typeof c[0]!="number")}function f(c,d,_){var y,E;if(u(c)||u(d)||c.prototype!==d.prototype)return!1;if(a(c))return a(d)?(c=o.call(c),d=o.call(d),l(c,d,_)):!1;if(h(c)){if(!h(d)||c.length!==d.length)return!1;for(y=0;y<c.length;y++)if(c[y]!==d[y])return!1;return!0}try{var m=s(c),p=s(d)}catch{return!1}if(m.length!=p.length)return!1;for(m.sort(),p.sort(),y=m.length-1;y>=0;y--)if(m[y]!=p[y])return!1;for(y=m.length-1;y>=0;y--)if(E=m[y],!l(c[E],d[E],_))return!1;return typeof c==typeof d}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(1),s=function(){function a(l,u,h){h===void 0&&(h={}),this.attrName=l,this.keyName=u;var f=o.Scope.TYPE&o.Scope.ATTRIBUTE;h.scope!=null?this.scope=h.scope&o.Scope.LEVEL|f:this.scope=o.Scope.ATTRIBUTE,h.whitelist!=null&&(this.whitelist=h.whitelist)}return a.keys=function(l){return[].map.call(l.attributes,function(u){return u.name})},a.prototype.add=function(l,u){return this.canAdd(l,u)?(l.setAttribute(this.keyName,u),!0):!1},a.prototype.canAdd=function(l,u){var h=o.query(l,o.Scope.BLOT&(this.scope|o.Scope.TYPE));return h==null?!1:this.whitelist==null?!0:typeof u=="string"?this.whitelist.indexOf(u.replace(/["']/g,""))>-1:this.whitelist.indexOf(u)>-1},a.prototype.remove=function(l){l.removeAttribute(this.keyName)},a.prototype.value=function(l){var u=l.getAttribute(this.keyName);return this.canAdd(l,u)&&u?u:""},a}();r.default=s},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.Code=void 0;var o=function(){function S(k,b){var I=[],O=!0,R=!1,C=void 0;try{for(var M=k[Symbol.iterator](),$;!(O=($=M.next()).done)&&(I.push($.value),!(b&&I.length===b));O=!0);}catch(D){R=!0,C=D}finally{try{!O&&M.return&&M.return()}finally{if(R)throw C}}return I}return function(k,b){if(Array.isArray(k))return k;if(Symbol.iterator in Object(k))return S(k,b);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function S(k,b){for(var I=0;I<b.length;I++){var O=b[I];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(k,O.key,O)}}return function(k,b,I){return b&&S(k.prototype,b),I&&S(k,I),k}}(),a=function S(k,b,I){k===null&&(k=Function.prototype);var O=Object.getOwnPropertyDescriptor(k,b);if(O===void 0){var R=Object.getPrototypeOf(k);return R===null?void 0:S(R,b,I)}else{if("value"in O)return O.value;var C=O.get;return C===void 0?void 0:C.call(I)}},l=i(2),u=p(l),h=i(0),f=p(h),c=i(4),d=p(c),_=i(6),y=p(_),E=i(7),m=p(E);function p(S){return S&&S.__esModule?S:{default:S}}function v(S,k){if(!(S instanceof k))throw new TypeError("Cannot call a class as a function")}function g(S,k){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k&&(typeof k=="object"||typeof k=="function")?k:S}function w(S,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof k);S.prototype=Object.create(k&&k.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),k&&(Object.setPrototypeOf?Object.setPrototypeOf(S,k):S.__proto__=k)}var A=function(S){w(k,S);function k(){return v(this,k),g(this,(k.__proto__||Object.getPrototypeOf(k)).apply(this,arguments))}return k}(y.default);A.blotName="code",A.tagName="CODE";var T=function(S){w(k,S);function k(){return v(this,k),g(this,(k.__proto__||Object.getPrototypeOf(k)).apply(this,arguments))}return s(k,[{key:"delta",value:function(){var I=this,O=this.domNode.textContent;return O.endsWith(`
`)&&(O=O.slice(0,-1)),O.split(`
`).reduce(function(R,C){return R.insert(C).insert(`
`,I.formats())},new u.default)}},{key:"format",value:function(I,O){if(!(I===this.statics.blotName&&O)){var R=this.descendant(m.default,this.length()-1),C=o(R,1),M=C[0];M!=null&&M.deleteAt(M.length()-1,1),a(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"format",this).call(this,I,O)}}},{key:"formatAt",value:function(I,O,R,C){if(O!==0&&!(f.default.query(R,f.default.Scope.BLOCK)==null||R===this.statics.blotName&&C===this.statics.formats(this.domNode))){var M=this.newlineIndex(I);if(!(M<0||M>=I+O)){var $=this.newlineIndex(I,!0)+1,D=M-$+1,j=this.isolate($,D),F=j.next;j.format(R,C),F instanceof k&&F.formatAt(0,I-$+O-D,R,C)}}}},{key:"insertAt",value:function(I,O,R){if(R==null){var C=this.descendant(m.default,I),M=o(C,2),$=M[0],D=M[1];$.insertAt(D,O)}}},{key:"length",value:function(){var I=this.domNode.textContent.length;return this.domNode.textContent.endsWith(`
`)?I:I+1}},{key:"newlineIndex",value:function(I){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(O)return this.domNode.textContent.slice(0,I).lastIndexOf(`
`);var R=this.domNode.textContent.slice(I).indexOf(`
`);return R>-1?I+R:-1}},{key:"optimize",value:function(I){this.domNode.textContent.endsWith(`
`)||this.appendChild(f.default.create("text",`
`)),a(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"optimize",this).call(this,I);var O=this.next;O!=null&&O.prev===this&&O.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===O.statics.formats(O.domNode)&&(O.optimize(I),O.moveChildren(this),O.remove())}},{key:"replace",value:function(I){a(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"replace",this).call(this,I),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(O){var R=f.default.find(O);R==null?O.parentNode.removeChild(O):R instanceof f.default.Embed?R.remove():R.unwrap()})}}],[{key:"create",value:function(I){var O=a(k.__proto__||Object.getPrototypeOf(k),"create",this).call(this,I);return O.setAttribute("spellcheck",!1),O}},{key:"formats",value:function(){return!0}}]),k}(d.default);T.blotName="code-block",T.tagName="PRE",T.TAB="  ",r.Code=A,r.default=T},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(F){return typeof F}:function(F){return F&&typeof Symbol=="function"&&F.constructor===Symbol&&F!==Symbol.prototype?"symbol":typeof F},s=function(){function F(N,P){var x=[],V=!0,q=!1,B=void 0;try{for(var L=N[Symbol.iterator](),U;!(V=(U=L.next()).done)&&(x.push(U.value),!(P&&x.length===P));V=!0);}catch(z){q=!0,B=z}finally{try{!V&&L.return&&L.return()}finally{if(q)throw B}}return x}return function(N,P){if(Array.isArray(N))return N;if(Symbol.iterator in Object(N))return F(N,P);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function F(N,P){for(var x=0;x<P.length;x++){var V=P[x];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty(N,V.key,V)}}return function(N,P,x){return P&&F(N.prototype,P),x&&F(N,x),N}}(),l=i(2),u=O(l),h=i(20),f=O(h),c=i(0),d=O(c),_=i(13),y=O(_),E=i(24),m=O(E),p=i(4),v=O(p),g=i(16),w=O(g),A=i(21),T=O(A),S=i(11),k=O(S),b=i(3),I=O(b);function O(F){return F&&F.__esModule?F:{default:F}}function R(F,N,P){return N in F?Object.defineProperty(F,N,{value:P,enumerable:!0,configurable:!0,writable:!0}):F[N]=P,F}function C(F,N){if(!(F instanceof N))throw new TypeError("Cannot call a class as a function")}var M=/^[ -~]*$/,$=function(){function F(N){C(this,F),this.scroll=N,this.delta=this.getDelta()}return a(F,[{key:"applyDelta",value:function(P){var x=this,V=!1;this.scroll.update();var q=this.scroll.length();return this.scroll.batchStart(),P=j(P),P.reduce(function(B,L){var U=L.retain||L.delete||L.insert.length||1,z=L.attributes||{};if(L.insert!=null){if(typeof L.insert=="string"){var H=L.insert;H.endsWith(`
`)&&V&&(V=!1,H=H.slice(0,-1)),B>=q&&!H.endsWith(`
`)&&(V=!0),x.scroll.insertAt(B,H);var Q=x.scroll.line(B),oe=s(Q,2),fe=oe[0],ge=oe[1],Ie=(0,I.default)({},(0,p.bubbleFormats)(fe));if(fe instanceof v.default){var Re=fe.descendant(d.default.Leaf,ge),Ft=s(Re,1),et=Ft[0];Ie=(0,I.default)(Ie,(0,p.bubbleFormats)(et))}z=f.default.attributes.diff(Ie,z)||{}}else if(o(L.insert)==="object"){var W=Object.keys(L.insert)[0];if(W==null)return B;x.scroll.insertAt(B,W,L.insert[W])}q+=U}return Object.keys(z).forEach(function(G){x.scroll.formatAt(B,U,G,z[G])}),B+U},0),P.reduce(function(B,L){return typeof L.delete=="number"?(x.scroll.deleteAt(B,L.delete),B):B+(L.retain||L.insert.length||1)},0),this.scroll.batchEnd(),this.update(P)}},{key:"deleteText",value:function(P,x){return this.scroll.deleteAt(P,x),this.update(new u.default().retain(P).delete(x))}},{key:"formatLine",value:function(P,x){var V=this,q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.scroll.update(),Object.keys(q).forEach(function(B){if(!(V.scroll.whitelist!=null&&!V.scroll.whitelist[B])){var L=V.scroll.lines(P,Math.max(x,1)),U=x;L.forEach(function(z){var H=z.length();if(!(z instanceof y.default))z.format(B,q[B]);else{var Q=P-z.offset(V.scroll),oe=z.newlineIndex(Q+U)-Q+1;z.formatAt(Q,oe,B,q[B])}U-=H})}}),this.scroll.optimize(),this.update(new u.default().retain(P).retain(x,(0,T.default)(q)))}},{key:"formatText",value:function(P,x){var V=this,q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Object.keys(q).forEach(function(B){V.scroll.formatAt(P,x,B,q[B])}),this.update(new u.default().retain(P).retain(x,(0,T.default)(q)))}},{key:"getContents",value:function(P,x){return this.delta.slice(P,P+x)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(P,x){return P.concat(x.delta())},new u.default)}},{key:"getFormat",value:function(P){var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,V=[],q=[];x===0?this.scroll.path(P).forEach(function(L){var U=s(L,1),z=U[0];z instanceof v.default?V.push(z):z instanceof d.default.Leaf&&q.push(z)}):(V=this.scroll.lines(P,x),q=this.scroll.descendants(d.default.Leaf,P,x));var B=[V,q].map(function(L){if(L.length===0)return{};for(var U=(0,p.bubbleFormats)(L.shift());Object.keys(U).length>0;){var z=L.shift();if(z==null)return U;U=D((0,p.bubbleFormats)(z),U)}return U});return I.default.apply(I.default,B)}},{key:"getText",value:function(P,x){return this.getContents(P,x).filter(function(V){return typeof V.insert=="string"}).map(function(V){return V.insert}).join("")}},{key:"insertEmbed",value:function(P,x,V){return this.scroll.insertAt(P,x,V),this.update(new u.default().retain(P).insert(R({},x,V)))}},{key:"insertText",value:function(P,x){var V=this,q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return x=x.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(P,x),Object.keys(q).forEach(function(B){V.scroll.formatAt(P,x.length,B,q[B])}),this.update(new u.default().retain(P).insert(x,(0,T.default)(q)))}},{key:"isBlank",value:function(){if(this.scroll.children.length==0)return!0;if(this.scroll.children.length>1)return!1;var P=this.scroll.children.head;return P.statics.blotName!==v.default.blotName||P.children.length>1?!1:P.children.head instanceof w.default}},{key:"removeFormat",value:function(P,x){var V=this.getText(P,x),q=this.scroll.line(P+x),B=s(q,2),L=B[0],U=B[1],z=0,H=new u.default;L!=null&&(L instanceof y.default?z=L.newlineIndex(U)-U+1:z=L.length()-U,H=L.delta().slice(U,U+z-1).insert(`
`));var Q=this.getContents(P,x+z),oe=Q.diff(new u.default().insert(V).concat(H)),fe=new u.default().retain(P).concat(oe);return this.applyDelta(fe)}},{key:"update",value:function(P){var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],V=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,q=this.delta;if(x.length===1&&x[0].type==="characterData"&&x[0].target.data.match(M)&&d.default.find(x[0].target)){var B=d.default.find(x[0].target),L=(0,p.bubbleFormats)(B),U=B.offset(this.scroll),z=x[0].oldValue.replace(m.default.CONTENTS,""),H=new u.default().insert(z),Q=new u.default().insert(B.value()),oe=new u.default().retain(U).concat(H.diff(Q,V));P=oe.reduce(function(fe,ge){return ge.insert?fe.insert(ge.insert,L):fe.push(ge)},new u.default),this.delta=q.compose(P)}else this.delta=this.getDelta(),(!P||!(0,k.default)(q.compose(P),this.delta))&&(P=q.diff(this.delta,V));return P}}]),F}();function D(F,N){return Object.keys(N).reduce(function(P,x){return F[x]==null||(N[x]===F[x]?P[x]=N[x]:Array.isArray(N[x])?N[x].indexOf(F[x])<0&&(P[x]=N[x].concat([F[x]])):P[x]=[N[x],F[x]]),P},{})}function j(F){return F.reduce(function(N,P){if(P.insert===1){var x=(0,T.default)(P.attributes);return delete x.image,N.insert({image:P.attributes.image},x)}if(P.attributes!=null&&(P.attributes.list===!0||P.attributes.bullet===!0)&&(P=(0,T.default)(P),P.attributes.list?P.attributes.list="ordered":(P.attributes.list="bullet",delete P.attributes.bullet)),typeof P.insert=="string"){var V=P.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return N.insert(V,P.attributes)}return N.push(P)},new u.default)}r.default=$},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.Range=void 0;var o=function(){function S(k,b){var I=[],O=!0,R=!1,C=void 0;try{for(var M=k[Symbol.iterator](),$;!(O=($=M.next()).done)&&(I.push($.value),!(b&&I.length===b));O=!0);}catch(D){R=!0,C=D}finally{try{!O&&M.return&&M.return()}finally{if(R)throw C}}return I}return function(k,b){if(Array.isArray(k))return k;if(Symbol.iterator in Object(k))return S(k,b);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function S(k,b){for(var I=0;I<b.length;I++){var O=b[I];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(k,O.key,O)}}return function(k,b,I){return b&&S(k.prototype,b),I&&S(k,I),k}}(),a=i(0),l=m(a),u=i(21),h=m(u),f=i(11),c=m(f),d=i(8),_=m(d),y=i(10),E=m(y);function m(S){return S&&S.__esModule?S:{default:S}}function p(S){if(Array.isArray(S)){for(var k=0,b=Array(S.length);k<S.length;k++)b[k]=S[k];return b}else return Array.from(S)}function v(S,k){if(!(S instanceof k))throw new TypeError("Cannot call a class as a function")}var g=(0,E.default)("quill:selection"),w=function S(k){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;v(this,S),this.index=k,this.length=b},A=function(){function S(k,b){var I=this;v(this,S),this.emitter=b,this.scroll=k,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=l.default.create("cursor",this),this.lastRange=this.savedRange=new w(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){I.mouseDown||setTimeout(I.update.bind(I,_.default.sources.USER),1)}),this.emitter.on(_.default.events.EDITOR_CHANGE,function(O,R){O===_.default.events.TEXT_CHANGE&&R.length()>0&&I.update(_.default.sources.SILENT)}),this.emitter.on(_.default.events.SCROLL_BEFORE_UPDATE,function(){if(I.hasFocus()){var O=I.getNativeRange();O!=null&&O.start.node!==I.cursor.textNode&&I.emitter.once(_.default.events.SCROLL_UPDATE,function(){try{I.setNativeRange(O.start.node,O.start.offset,O.end.node,O.end.offset)}catch{}})}}),this.emitter.on(_.default.events.SCROLL_OPTIMIZE,function(O,R){if(R.range){var C=R.range,M=C.startNode,$=C.startOffset,D=C.endNode,j=C.endOffset;I.setNativeRange(M,$,D,j)}}),this.update(_.default.sources.SILENT)}return s(S,[{key:"handleComposition",value:function(){var b=this;this.root.addEventListener("compositionstart",function(){b.composing=!0}),this.root.addEventListener("compositionend",function(){if(b.composing=!1,b.cursor.parent){var I=b.cursor.restore();if(!I)return;setTimeout(function(){b.setNativeRange(I.startNode,I.startOffset,I.endNode,I.endOffset)},1)}})}},{key:"handleDragging",value:function(){var b=this;this.emitter.listenDOM("mousedown",document.body,function(){b.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){b.mouseDown=!1,b.update(_.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(b,I){if(!(this.scroll.whitelist!=null&&!this.scroll.whitelist[b])){this.scroll.update();var O=this.getNativeRange();if(!(O==null||!O.native.collapsed||l.default.query(b,l.default.Scope.BLOCK))){if(O.start.node!==this.cursor.textNode){var R=l.default.find(O.start.node,!1);if(R==null)return;if(R instanceof l.default.Leaf){var C=R.split(O.start.offset);R.parent.insertBefore(this.cursor,C)}else R.insertBefore(this.cursor,O.start.node);this.cursor.attach()}this.cursor.format(b,I),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(b){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,O=this.scroll.length();b=Math.min(b,O-1),I=Math.min(b+I,O-1)-b;var R=void 0,C=this.scroll.leaf(b),M=o(C,2),$=M[0],D=M[1];if($==null)return null;var j=$.position(D,!0),F=o(j,2);R=F[0],D=F[1];var N=document.createRange();if(I>0){N.setStart(R,D);var P=this.scroll.leaf(b+I),x=o(P,2);if($=x[0],D=x[1],$==null)return null;var V=$.position(D,!0),q=o(V,2);return R=q[0],D=q[1],N.setEnd(R,D),N.getBoundingClientRect()}else{var B="left",L=void 0;return R instanceof Text?(D<R.data.length?(N.setStart(R,D),N.setEnd(R,D+1)):(N.setStart(R,D-1),N.setEnd(R,D),B="right"),L=N.getBoundingClientRect()):(L=$.domNode.getBoundingClientRect(),D>0&&(B="right")),{bottom:L.top+L.height,height:L.height,left:L[B],right:L[B],top:L.top,width:0}}}},{key:"getNativeRange",value:function(){var b=document.getSelection();if(b==null||b.rangeCount<=0)return null;var I=b.getRangeAt(0);if(I==null)return null;var O=this.normalizeNative(I);return g.info("getNativeRange",O),O}},{key:"getRange",value:function(){var b=this.getNativeRange();if(b==null)return[null,null];var I=this.normalizedToRange(b);return[I,b]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(b){var I=this,O=[[b.start.node,b.start.offset]];b.native.collapsed||O.push([b.end.node,b.end.offset]);var R=O.map(function($){var D=o($,2),j=D[0],F=D[1],N=l.default.find(j,!0),P=N.offset(I.scroll);return F===0?P:N instanceof l.default.Container?P+N.length():P+N.index(j,F)}),C=Math.min(Math.max.apply(Math,p(R)),this.scroll.length()-1),M=Math.min.apply(Math,[C].concat(p(R)));return new w(M,C-M)}},{key:"normalizeNative",value:function(b){if(!T(this.root,b.startContainer)||!b.collapsed&&!T(this.root,b.endContainer))return null;var I={start:{node:b.startContainer,offset:b.startOffset},end:{node:b.endContainer,offset:b.endOffset},native:b};return[I.start,I.end].forEach(function(O){for(var R=O.node,C=O.offset;!(R instanceof Text)&&R.childNodes.length>0;)if(R.childNodes.length>C)R=R.childNodes[C],C=0;else if(R.childNodes.length===C)R=R.lastChild,C=R instanceof Text?R.data.length:R.childNodes.length+1;else break;O.node=R,O.offset=C}),I}},{key:"rangeToNative",value:function(b){var I=this,O=b.collapsed?[b.index]:[b.index,b.index+b.length],R=[],C=this.scroll.length();return O.forEach(function(M,$){M=Math.min(C-1,M);var D=void 0,j=I.scroll.leaf(M),F=o(j,2),N=F[0],P=F[1],x=N.position(P,$!==0),V=o(x,2);D=V[0],P=V[1],R.push(D,P)}),R.length<2&&(R=R.concat(R)),R}},{key:"scrollIntoView",value:function(b){var I=this.lastRange;if(I!=null){var O=this.getBounds(I.index,I.length);if(O!=null){var R=this.scroll.length()-1,C=this.scroll.line(Math.min(I.index,R)),M=o(C,1),$=M[0],D=$;if(I.length>0){var j=this.scroll.line(Math.min(I.index+I.length,R)),F=o(j,1);D=F[0]}if(!($==null||D==null)){var N=b.getBoundingClientRect();O.top<N.top?b.scrollTop-=N.top-O.top:O.bottom>N.bottom&&(b.scrollTop+=O.bottom-N.bottom)}}}}},{key:"setNativeRange",value:function(b,I){var O=arguments.length>2&&arguments[2]!==void 0?arguments[2]:b,R=arguments.length>3&&arguments[3]!==void 0?arguments[3]:I,C=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(g.info("setNativeRange",b,I,O,R),!(b!=null&&(this.root.parentNode==null||b.parentNode==null||O.parentNode==null))){var M=document.getSelection();if(M!=null)if(b!=null){this.hasFocus()||this.root.focus();var $=(this.getNativeRange()||{}).native;if($==null||C||b!==$.startContainer||I!==$.startOffset||O!==$.endContainer||R!==$.endOffset){b.tagName=="BR"&&(I=[].indexOf.call(b.parentNode.childNodes,b),b=b.parentNode),O.tagName=="BR"&&(R=[].indexOf.call(O.parentNode.childNodes,O),O=O.parentNode);var D=document.createRange();D.setStart(b,I),D.setEnd(O,R),M.removeAllRanges(),M.addRange(D)}}else M.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(b){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,O=arguments.length>2&&arguments[2]!==void 0?arguments[2]:_.default.sources.API;if(typeof I=="string"&&(O=I,I=!1),g.info("setRange",b),b!=null){var R=this.rangeToNative(b);this.setNativeRange.apply(this,p(R).concat([I]))}else this.setNativeRange(null);this.update(O)}},{key:"update",value:function(){var b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:_.default.sources.USER,I=this.lastRange,O=this.getRange(),R=o(O,2),C=R[0],M=R[1];if(this.lastRange=C,this.lastRange!=null&&(this.savedRange=this.lastRange),!(0,c.default)(I,this.lastRange)){var $;!this.composing&&M!=null&&M.native.collapsed&&M.start.node!==this.cursor.textNode&&this.cursor.restore();var D=[_.default.events.SELECTION_CHANGE,(0,h.default)(this.lastRange),(0,h.default)(I),b];if(($=this.emitter).emit.apply($,[_.default.events.EDITOR_CHANGE].concat(D)),b!==_.default.sources.SILENT){var j;(j=this.emitter).emit.apply(j,D)}}}}]),S}();function T(S,k){try{k.parentNode}catch{return!1}return k instanceof Text&&(k=k.parentNode),S.contains(k)}r.Range=w,r.default=A},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function _(y,E){for(var m=0;m<E.length;m++){var p=E[m];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(y,p.key,p)}}return function(y,E,m){return E&&_(y.prototype,E),m&&_(y,m),y}}(),s=function _(y,E,m){y===null&&(y=Function.prototype);var p=Object.getOwnPropertyDescriptor(y,E);if(p===void 0){var v=Object.getPrototypeOf(y);return v===null?void 0:_(v,E,m)}else{if("value"in p)return p.value;var g=p.get;return g===void 0?void 0:g.call(m)}},a=i(0),l=u(a);function u(_){return _&&_.__esModule?_:{default:_}}function h(_,y){if(!(_ instanceof y))throw new TypeError("Cannot call a class as a function")}function f(_,y){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:_}function c(_,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);_.prototype=Object.create(y&&y.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(_,y):_.__proto__=y)}var d=function(_){c(y,_);function y(){return h(this,y),f(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return o(y,[{key:"insertInto",value:function(m,p){m.children.length===0?s(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"insertInto",this).call(this,m,p):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),y}(l.default.Embed);d.blotName="break",d.tagName="BR",r.default=d},function(n,r,i){var o=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,d){c.__proto__=d}||function(c,d){for(var _ in d)d.hasOwnProperty(_)&&(c[_]=d[_])};return function(c,d){f(c,d);function _(){this.constructor=c}c.prototype=d===null?Object.create(d):(_.prototype=d.prototype,new _)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(44),a=i(30),l=i(1),u=function(f){o(c,f);function c(d){var _=f.call(this,d)||this;return _.build(),_}return c.prototype.appendChild=function(d){this.insertBefore(d)},c.prototype.attach=function(){f.prototype.attach.call(this),this.children.forEach(function(d){d.attach()})},c.prototype.build=function(){var d=this;this.children=new s.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(_){try{var y=h(_);d.insertBefore(y,d.children.head||void 0)}catch(E){if(E instanceof l.ParchmentError)return;throw E}})},c.prototype.deleteAt=function(d,_){if(d===0&&_===this.length())return this.remove();this.children.forEachAt(d,_,function(y,E,m){y.deleteAt(E,m)})},c.prototype.descendant=function(d,_){var y=this.children.find(_),E=y[0],m=y[1];return d.blotName==null&&d(E)||d.blotName!=null&&E instanceof d?[E,m]:E instanceof c?E.descendant(d,m):[null,-1]},c.prototype.descendants=function(d,_,y){_===void 0&&(_=0),y===void 0&&(y=Number.MAX_VALUE);var E=[],m=y;return this.children.forEachAt(_,y,function(p,v,g){(d.blotName==null&&d(p)||d.blotName!=null&&p instanceof d)&&E.push(p),p instanceof c&&(E=E.concat(p.descendants(d,v,m))),m-=g}),E},c.prototype.detach=function(){this.children.forEach(function(d){d.detach()}),f.prototype.detach.call(this)},c.prototype.formatAt=function(d,_,y,E){this.children.forEachAt(d,_,function(m,p,v){m.formatAt(p,v,y,E)})},c.prototype.insertAt=function(d,_,y){var E=this.children.find(d),m=E[0],p=E[1];if(m)m.insertAt(p,_,y);else{var v=y==null?l.create("text",_):l.create(_,y);this.appendChild(v)}},c.prototype.insertBefore=function(d,_){if(this.statics.allowedChildren!=null&&!this.statics.allowedChildren.some(function(y){return d instanceof y}))throw new l.ParchmentError("Cannot insert "+d.statics.blotName+" into "+this.statics.blotName);d.insertInto(this,_)},c.prototype.length=function(){return this.children.reduce(function(d,_){return d+_.length()},0)},c.prototype.moveChildren=function(d,_){this.children.forEach(function(y){d.insertBefore(y,_)})},c.prototype.optimize=function(d){if(f.prototype.optimize.call(this,d),this.children.length===0)if(this.statics.defaultChild!=null){var _=l.create(this.statics.defaultChild);this.appendChild(_),_.optimize(d)}else this.remove()},c.prototype.path=function(d,_){_===void 0&&(_=!1);var y=this.children.find(d,_),E=y[0],m=y[1],p=[[this,d]];return E instanceof c?p.concat(E.path(m,_)):(E!=null&&p.push([E,m]),p)},c.prototype.removeChild=function(d){this.children.remove(d)},c.prototype.replace=function(d){d instanceof c&&d.moveChildren(this),f.prototype.replace.call(this,d)},c.prototype.split=function(d,_){if(_===void 0&&(_=!1),!_){if(d===0)return this;if(d===this.length())return this.next}var y=this.clone();return this.parent.insertBefore(y,this.next),this.children.forEachAt(d,this.length(),function(E,m,p){E=E.split(m,_),y.appendChild(E)}),y},c.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},c.prototype.update=function(d,_){var y=this,E=[],m=[];d.forEach(function(p){p.target===y.domNode&&p.type==="childList"&&(E.push.apply(E,p.addedNodes),m.push.apply(m,p.removedNodes))}),m.forEach(function(p){if(!(p.parentNode!=null&&p.tagName!=="IFRAME"&&document.body.compareDocumentPosition(p)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var v=l.find(p);v!=null&&(v.domNode.parentNode==null||v.domNode.parentNode===y.domNode)&&v.detach()}}),E.filter(function(p){return p.parentNode==y.domNode}).sort(function(p,v){return p===v?0:p.compareDocumentPosition(v)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(p){var v=null;p.nextSibling!=null&&(v=l.find(p.nextSibling));var g=h(p);(g.next!=v||g.next==null)&&(g.parent!=null&&g.parent.removeChild(y),y.insertBefore(g,v||void 0))})},c}(a.default);function h(f){var c=l.find(f);if(c==null)try{c=l.create(f)}catch{c=l.create(l.Scope.INLINE),[].slice.call(f.childNodes).forEach(function(_){c.domNode.appendChild(_)}),f.parentNode&&f.parentNode.replaceChild(c.domNode,f),c.attach()}return c}r.default=u},function(n,r,i){var o=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,d){c.__proto__=d}||function(c,d){for(var _ in d)d.hasOwnProperty(_)&&(c[_]=d[_])};return function(c,d){f(c,d);function _(){this.constructor=c}c.prototype=d===null?Object.create(d):(_.prototype=d.prototype,new _)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(12),a=i(31),l=i(17),u=i(1),h=function(f){o(c,f);function c(d){var _=f.call(this,d)||this;return _.attributes=new a.default(_.domNode),_}return c.formats=function(d){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return d.tagName.toLowerCase()},c.prototype.format=function(d,_){var y=u.query(d);y instanceof s.default?this.attributes.attribute(y,_):_&&y!=null&&(d!==this.statics.blotName||this.formats()[d]!==_)&&this.replaceWith(d,_)},c.prototype.formats=function(){var d=this.attributes.values(),_=this.statics.formats(this.domNode);return _!=null&&(d[this.statics.blotName]=_),d},c.prototype.replaceWith=function(d,_){var y=f.prototype.replaceWith.call(this,d,_);return this.attributes.copy(y),y},c.prototype.update=function(d,_){var y=this;f.prototype.update.call(this,d,_),d.some(function(E){return E.target===y.domNode&&E.type==="attributes"})&&this.attributes.build()},c.prototype.wrap=function(d,_){var y=f.prototype.wrap.call(this,d,_);return y instanceof c&&y.statics.scope===this.statics.scope&&this.attributes.move(y),y},c}(l.default);r.default=h},function(n,r,i){var o=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,f){h.__proto__=f}||function(h,f){for(var c in f)f.hasOwnProperty(c)&&(h[c]=f[c])};return function(h,f){u(h,f);function c(){this.constructor=h}h.prototype=f===null?Object.create(f):(c.prototype=f.prototype,new c)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(30),a=i(1),l=function(u){o(h,u);function h(){return u!==null&&u.apply(this,arguments)||this}return h.value=function(f){return!0},h.prototype.index=function(f,c){return this.domNode===f||this.domNode.compareDocumentPosition(f)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(c,1):-1},h.prototype.position=function(f,c){var d=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return f>0&&(d+=1),[this.parent.domNode,d]},h.prototype.value=function(){var f;return f={},f[this.statics.blotName]=this.statics.value(this.domNode)||!0,f},h.scope=a.Scope.INLINE_BLOT,h}(s.default);r.default=l},function(n,r,i){var o=i(11),s=i(3),a={attributes:{compose:function(u,h,f){typeof u!="object"&&(u={}),typeof h!="object"&&(h={});var c=s(!0,{},h);f||(c=Object.keys(c).reduce(function(_,y){return c[y]!=null&&(_[y]=c[y]),_},{}));for(var d in u)u[d]!==void 0&&h[d]===void 0&&(c[d]=u[d]);return Object.keys(c).length>0?c:void 0},diff:function(u,h){typeof u!="object"&&(u={}),typeof h!="object"&&(h={});var f=Object.keys(u).concat(Object.keys(h)).reduce(function(c,d){return o(u[d],h[d])||(c[d]=h[d]===void 0?null:h[d]),c},{});return Object.keys(f).length>0?f:void 0},transform:function(u,h,f){if(typeof u!="object")return h;if(typeof h=="object"){if(!f)return h;var c=Object.keys(h).reduce(function(d,_){return u[_]===void 0&&(d[_]=h[_]),d},{});return Object.keys(c).length>0?c:void 0}}},iterator:function(u){return new l(u)},length:function(u){return typeof u.delete=="number"?u.delete:typeof u.retain=="number"?u.retain:typeof u.insert=="string"?u.insert.length:1}};function l(u){this.ops=u,this.index=0,this.offset=0}l.prototype.hasNext=function(){return this.peekLength()<1/0},l.prototype.next=function(u){u||(u=1/0);var h=this.ops[this.index];if(h){var f=this.offset,c=a.length(h);if(u>=c-f?(u=c-f,this.index+=1,this.offset=0):this.offset+=u,typeof h.delete=="number")return{delete:u};var d={};return h.attributes&&(d.attributes=h.attributes),typeof h.retain=="number"?d.retain=u:typeof h.insert=="string"?d.insert=h.insert.substr(f,u):d.insert=h.insert,d}else return{retain:1/0}},l.prototype.peek=function(){return this.ops[this.index]},l.prototype.peekLength=function(){return this.ops[this.index]?a.length(this.ops[this.index])-this.offset:1/0},l.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},l.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var u=this.offset,h=this.index,f=this.next(),c=this.ops.slice(this.index);return this.offset=u,this.index=h,[f].concat(c)}else return[]},n.exports=a},function(n,r){var i=function(){function o(y,E){return E!=null&&y instanceof E}var s;try{s=Map}catch{s=function(){}}var a;try{a=Set}catch{a=function(){}}var l;try{l=Promise}catch{l=function(){}}function u(y,E,m,p,v){typeof E=="object"&&(m=E.depth,p=E.prototype,v=E.includeNonEnumerable,E=E.circular);var g=[],w=[],A=typeof Buffer<"u";typeof E>"u"&&(E=!0),typeof m>"u"&&(m=1/0);function T(S,k){if(S===null)return null;if(k===0)return S;var b,I;if(typeof S!="object")return S;if(o(S,s))b=new s;else if(o(S,a))b=new a;else if(o(S,l))b=new l(function(N,P){S.then(function(x){N(T(x,k-1))},function(x){P(T(x,k-1))})});else if(u.__isArray(S))b=[];else if(u.__isRegExp(S))b=new RegExp(S.source,_(S)),S.lastIndex&&(b.lastIndex=S.lastIndex);else if(u.__isDate(S))b=new Date(S.getTime());else{if(A&&Buffer.isBuffer(S))return Buffer.allocUnsafe?b=Buffer.allocUnsafe(S.length):b=new Buffer(S.length),S.copy(b),b;o(S,Error)?b=Object.create(S):typeof p>"u"?(I=Object.getPrototypeOf(S),b=Object.create(I)):(b=Object.create(p),I=p)}if(E){var O=g.indexOf(S);if(O!=-1)return w[O];g.push(S),w.push(b)}o(S,s)&&S.forEach(function(N,P){var x=T(P,k-1),V=T(N,k-1);b.set(x,V)}),o(S,a)&&S.forEach(function(N){var P=T(N,k-1);b.add(P)});for(var R in S){var C;I&&(C=Object.getOwnPropertyDescriptor(I,R)),!(C&&C.set==null)&&(b[R]=T(S[R],k-1))}if(Object.getOwnPropertySymbols)for(var M=Object.getOwnPropertySymbols(S),R=0;R<M.length;R++){var $=M[R],D=Object.getOwnPropertyDescriptor(S,$);D&&!D.enumerable&&!v||(b[$]=T(S[$],k-1),D.enumerable||Object.defineProperty(b,$,{enumerable:!1}))}if(v)for(var j=Object.getOwnPropertyNames(S),R=0;R<j.length;R++){var F=j[R],D=Object.getOwnPropertyDescriptor(S,F);D&&D.enumerable||(b[F]=T(S[F],k-1),Object.defineProperty(b,F,{enumerable:!1}))}return b}return T(y,m)}u.clonePrototype=function(E){if(E===null)return null;var m=function(){};return m.prototype=E,new m};function h(y){return Object.prototype.toString.call(y)}u.__objToStr=h;function f(y){return typeof y=="object"&&h(y)==="[object Date]"}u.__isDate=f;function c(y){return typeof y=="object"&&h(y)==="[object Array]"}u.__isArray=c;function d(y){return typeof y=="object"&&h(y)==="[object RegExp]"}u.__isRegExp=d;function _(y){var E="";return y.global&&(E+="g"),y.ignoreCase&&(E+="i"),y.multiline&&(E+="m"),E}return u.__getRegExpFlags=_,u}();typeof n=="object"&&n.exports&&(n.exports=i)},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function b(I,O){var R=[],C=!0,M=!1,$=void 0;try{for(var D=I[Symbol.iterator](),j;!(C=(j=D.next()).done)&&(R.push(j.value),!(O&&R.length===O));C=!0);}catch(F){M=!0,$=F}finally{try{!C&&D.return&&D.return()}finally{if(M)throw $}}return R}return function(I,O){if(Array.isArray(I))return I;if(Symbol.iterator in Object(I))return b(I,O);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function b(I,O){for(var R=0;R<O.length;R++){var C=O[R];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(I,C.key,C)}}return function(I,O,R){return O&&b(I.prototype,O),R&&b(I,R),I}}(),a=function b(I,O,R){I===null&&(I=Function.prototype);var C=Object.getOwnPropertyDescriptor(I,O);if(C===void 0){var M=Object.getPrototypeOf(I);return M===null?void 0:b(M,O,R)}else{if("value"in C)return C.value;var $=C.get;return $===void 0?void 0:$.call(R)}},l=i(0),u=g(l),h=i(8),f=g(h),c=i(4),d=g(c),_=i(16),y=g(_),E=i(13),m=g(E),p=i(25),v=g(p);function g(b){return b&&b.__esModule?b:{default:b}}function w(b,I){if(!(b instanceof I))throw new TypeError("Cannot call a class as a function")}function A(b,I){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return I&&(typeof I=="object"||typeof I=="function")?I:b}function T(b,I){if(typeof I!="function"&&I!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof I);b.prototype=Object.create(I&&I.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),I&&(Object.setPrototypeOf?Object.setPrototypeOf(b,I):b.__proto__=I)}function S(b){return b instanceof d.default||b instanceof c.BlockEmbed}var k=function(b){T(I,b);function I(O,R){w(this,I);var C=A(this,(I.__proto__||Object.getPrototypeOf(I)).call(this,O));return C.emitter=R.emitter,Array.isArray(R.whitelist)&&(C.whitelist=R.whitelist.reduce(function(M,$){return M[$]=!0,M},{})),C.domNode.addEventListener("DOMNodeInserted",function(){}),C.optimize(),C.enable(),C}return s(I,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(R,C){var M=this.line(R),$=o(M,2),D=$[0],j=$[1],F=this.line(R+C),N=o(F,1),P=N[0];if(a(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"deleteAt",this).call(this,R,C),P!=null&&D!==P&&j>0){if(D instanceof c.BlockEmbed||P instanceof c.BlockEmbed){this.optimize();return}if(D instanceof m.default){var x=D.newlineIndex(D.length(),!0);if(x>-1&&(D=D.split(x+1),D===P)){this.optimize();return}}else if(P instanceof m.default){var V=P.newlineIndex(0);V>-1&&P.split(V+1)}var q=P.children.head instanceof y.default?null:P.children.head;D.moveChildren(P,q),D.remove()}this.optimize()}},{key:"enable",value:function(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",R)}},{key:"formatAt",value:function(R,C,M,$){this.whitelist!=null&&!this.whitelist[M]||(a(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"formatAt",this).call(this,R,C,M,$),this.optimize())}},{key:"insertAt",value:function(R,C,M){if(!(M!=null&&this.whitelist!=null&&!this.whitelist[C])){if(R>=this.length())if(M==null||u.default.query(C,u.default.Scope.BLOCK)==null){var $=u.default.create(this.statics.defaultChild);this.appendChild($),M==null&&C.endsWith(`
`)&&(C=C.slice(0,-1)),$.insertAt(0,C,M)}else{var D=u.default.create(C,M);this.appendChild(D)}else a(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"insertAt",this).call(this,R,C,M);this.optimize()}}},{key:"insertBefore",value:function(R,C){if(R.statics.scope===u.default.Scope.INLINE_BLOT){var M=u.default.create(this.statics.defaultChild);M.appendChild(R),R=M}a(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"insertBefore",this).call(this,R,C)}},{key:"leaf",value:function(R){return this.path(R).pop()||[null,-1]}},{key:"line",value:function(R){return R===this.length()?this.line(R-1):this.descendant(S,R)}},{key:"lines",value:function(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,M=function $(D,j,F){var N=[],P=F;return D.children.forEachAt(j,F,function(x,V,q){S(x)?N.push(x):x instanceof u.default.Container&&(N=N.concat($(x,V,P))),P-=q}),N};return M(this,R,C)}},{key:"optimize",value:function(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch!==!0&&(a(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"optimize",this).call(this,R,C),R.length>0&&this.emitter.emit(f.default.events.SCROLL_OPTIMIZE,R,C))}},{key:"path",value:function(R){return a(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"path",this).call(this,R).slice(1)}},{key:"update",value:function(R){if(this.batch!==!0){var C=f.default.sources.USER;typeof R=="string"&&(C=R),Array.isArray(R)||(R=this.observer.takeRecords()),R.length>0&&this.emitter.emit(f.default.events.SCROLL_BEFORE_UPDATE,C,R),a(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"update",this).call(this,R.concat([])),R.length>0&&this.emitter.emit(f.default.events.SCROLL_UPDATE,C,R)}}}]),I}(u.default.Scroll);k.blotName="scroll",k.className="ql-editor",k.tagName="DIV",k.defaultChild="block",k.allowedChildren=[d.default,c.BlockEmbed,v.default],r.default=k},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.SHORTKEY=r.default=void 0;var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(L){return typeof L}:function(L){return L&&typeof Symbol=="function"&&L.constructor===Symbol&&L!==Symbol.prototype?"symbol":typeof L},s=function(){function L(U,z){var H=[],Q=!0,oe=!1,fe=void 0;try{for(var ge=U[Symbol.iterator](),Ie;!(Q=(Ie=ge.next()).done)&&(H.push(Ie.value),!(z&&H.length===z));Q=!0);}catch(Re){oe=!0,fe=Re}finally{try{!Q&&ge.return&&ge.return()}finally{if(oe)throw fe}}return H}return function(U,z){if(Array.isArray(U))return U;if(Symbol.iterator in Object(U))return L(U,z);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function L(U,z){for(var H=0;H<z.length;H++){var Q=z[H];Q.enumerable=Q.enumerable||!1,Q.configurable=!0,"value"in Q&&(Q.writable=!0),Object.defineProperty(U,Q.key,Q)}}return function(U,z,H){return z&&L(U.prototype,z),H&&L(U,H),U}}(),l=i(21),u=b(l),h=i(11),f=b(h),c=i(3),d=b(c),_=i(2),y=b(_),E=i(20),m=b(E),p=i(0),v=b(p),g=i(5),w=b(g),A=i(10),T=b(A),S=i(9),k=b(S);function b(L){return L&&L.__esModule?L:{default:L}}function I(L,U,z){return U in L?Object.defineProperty(L,U,{value:z,enumerable:!0,configurable:!0,writable:!0}):L[U]=z,L}function O(L,U){if(!(L instanceof U))throw new TypeError("Cannot call a class as a function")}function R(L,U){if(!L)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return U&&(typeof U=="object"||typeof U=="function")?U:L}function C(L,U){if(typeof U!="function"&&U!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof U);L.prototype=Object.create(U&&U.prototype,{constructor:{value:L,enumerable:!1,writable:!0,configurable:!0}}),U&&(Object.setPrototypeOf?Object.setPrototypeOf(L,U):L.__proto__=U)}var M=(0,T.default)("quill:keyboard"),$=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",D=function(L){C(U,L),a(U,null,[{key:"match",value:function(H,Q){return Q=B(Q),["altKey","ctrlKey","metaKey","shiftKey"].some(function(oe){return!!Q[oe]!==H[oe]&&Q[oe]!==null})?!1:Q.key===(H.which||H.keyCode)}}]);function U(z,H){O(this,U);var Q=R(this,(U.__proto__||Object.getPrototypeOf(U)).call(this,z,H));return Q.bindings={},Object.keys(Q.options.bindings).forEach(function(oe){oe==="list autofill"&&z.scroll.whitelist!=null&&!z.scroll.whitelist.list||Q.options.bindings[oe]&&Q.addBinding(Q.options.bindings[oe])}),Q.addBinding({key:U.keys.ENTER,shiftKey:null},x),Q.addBinding({key:U.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(Q.addBinding({key:U.keys.BACKSPACE},{collapsed:!0},F),Q.addBinding({key:U.keys.DELETE},{collapsed:!0},N)):(Q.addBinding({key:U.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},F),Q.addBinding({key:U.keys.DELETE},{collapsed:!0,suffix:/^.?$/},N)),Q.addBinding({key:U.keys.BACKSPACE},{collapsed:!1},P),Q.addBinding({key:U.keys.DELETE},{collapsed:!1},P),Q.addBinding({key:U.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},F),Q.listen(),Q}return a(U,[{key:"addBinding",value:function(H){var Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},oe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},fe=B(H);if(fe==null||fe.key==null)return M.warn("Attempted to add invalid keyboard binding",fe);typeof Q=="function"&&(Q={handler:Q}),typeof oe=="function"&&(oe={handler:oe}),fe=(0,d.default)(fe,Q,oe),this.bindings[fe.key]=this.bindings[fe.key]||[],this.bindings[fe.key].push(fe)}},{key:"listen",value:function(){var H=this;this.quill.root.addEventListener("keydown",function(Q){if(!Q.defaultPrevented){var oe=Q.which||Q.keyCode,fe=(H.bindings[oe]||[]).filter(function(Qe){return U.match(Q,Qe)});if(fe.length!==0){var ge=H.quill.getSelection();if(!(ge==null||!H.quill.hasFocus())){var Ie=H.quill.getLine(ge.index),Re=s(Ie,2),Ft=Re[0],et=Re[1],W=H.quill.getLeaf(ge.index),G=s(W,2),ne=G[0],re=G[1],X=ge.length===0?[ne,re]:H.quill.getLeaf(ge.index+ge.length),ye=s(X,2),_e=ye[0],we=ye[1],Jt=ne instanceof v.default.Text?ne.value().slice(0,re):"",Hn=_e instanceof v.default.Text?_e.value().slice(we):"",$e={collapsed:ge.length===0,empty:ge.length===0&&Ft.length()<=1,format:H.quill.getFormat(ge),offset:et,prefix:Jt,suffix:Hn},pI=fe.some(function(Qe){if(Qe.collapsed!=null&&Qe.collapsed!==$e.collapsed||Qe.empty!=null&&Qe.empty!==$e.empty||Qe.offset!=null&&Qe.offset!==$e.offset)return!1;if(Array.isArray(Qe.format)){if(Qe.format.every(function(gr){return $e.format[gr]==null}))return!1}else if(o(Qe.format)==="object"&&!Object.keys(Qe.format).every(function(gr){return Qe.format[gr]===!0?$e.format[gr]!=null:Qe.format[gr]===!1?$e.format[gr]==null:(0,f.default)(Qe.format[gr],$e.format[gr])}))return!1;return Qe.prefix!=null&&!Qe.prefix.test($e.prefix)||Qe.suffix!=null&&!Qe.suffix.test($e.suffix)?!1:Qe.handler.call(H,ge,$e)!==!0});pI&&Q.preventDefault()}}}})}}]),U}(k.default);D.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},D.DEFAULTS={bindings:{bold:q("bold"),italic:q("italic"),underline:q("underline"),indent:{key:D.keys.TAB,format:["blockquote","indent","list"],handler:function(U,z){if(z.collapsed&&z.offset!==0)return!0;this.quill.format("indent","+1",w.default.sources.USER)}},outdent:{key:D.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(U,z){if(z.collapsed&&z.offset!==0)return!0;this.quill.format("indent","-1",w.default.sources.USER)}},"outdent backspace":{key:D.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(U,z){z.format.indent!=null?this.quill.format("indent","-1",w.default.sources.USER):z.format.list!=null&&this.quill.format("list",!1,w.default.sources.USER)}},"indent code-block":V(!0),"outdent code-block":V(!1),"remove tab":{key:D.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(U){this.quill.deleteText(U.index-1,1,w.default.sources.USER)}},tab:{key:D.keys.TAB,handler:function(U){this.quill.history.cutoff();var z=new y.default().retain(U.index).delete(U.length).insert("	");this.quill.updateContents(z,w.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(U.index+1,w.default.sources.SILENT)}},"list empty enter":{key:D.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(U,z){this.quill.format("list",!1,w.default.sources.USER),z.format.indent&&this.quill.format("indent",!1,w.default.sources.USER)}},"checklist enter":{key:D.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(U){var z=this.quill.getLine(U.index),H=s(z,2),Q=H[0],oe=H[1],fe=(0,d.default)({},Q.formats(),{list:"checked"}),ge=new y.default().retain(U.index).insert(`
`,fe).retain(Q.length()-oe-1).retain(1,{list:"unchecked"});this.quill.updateContents(ge,w.default.sources.USER),this.quill.setSelection(U.index+1,w.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:D.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(U,z){var H=this.quill.getLine(U.index),Q=s(H,2),oe=Q[0],fe=Q[1],ge=new y.default().retain(U.index).insert(`
`,z.format).retain(oe.length()-fe-1).retain(1,{header:null});this.quill.updateContents(ge,w.default.sources.USER),this.quill.setSelection(U.index+1,w.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(U,z){var H=z.prefix.length,Q=this.quill.getLine(U.index),oe=s(Q,2),fe=oe[0],ge=oe[1];if(ge>H)return!0;var Ie=void 0;switch(z.prefix.trim()){case"[]":case"[ ]":Ie="unchecked";break;case"[x]":Ie="checked";break;case"-":case"*":Ie="bullet";break;default:Ie="ordered"}this.quill.insertText(U.index," ",w.default.sources.USER),this.quill.history.cutoff();var Re=new y.default().retain(U.index-ge).delete(H+1).retain(fe.length()-2-ge).retain(1,{list:Ie});this.quill.updateContents(Re,w.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(U.index-H,w.default.sources.SILENT)}},"code exit":{key:D.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(U){var z=this.quill.getLine(U.index),H=s(z,2),Q=H[0],oe=H[1],fe=new y.default().retain(U.index+Q.length()-oe-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(fe,w.default.sources.USER)}},"embed left":j(D.keys.LEFT,!1),"embed left shift":j(D.keys.LEFT,!0),"embed right":j(D.keys.RIGHT,!1),"embed right shift":j(D.keys.RIGHT,!0)}};function j(L,U){var z,H=L===D.keys.LEFT?"prefix":"suffix";return z={key:L,shiftKey:U,altKey:null},I(z,H,/^$/),I(z,"handler",function(oe){var fe=oe.index;L===D.keys.RIGHT&&(fe+=oe.length+1);var ge=this.quill.getLeaf(fe),Ie=s(ge,1),Re=Ie[0];return Re instanceof v.default.Embed?(L===D.keys.LEFT?U?this.quill.setSelection(oe.index-1,oe.length+1,w.default.sources.USER):this.quill.setSelection(oe.index-1,w.default.sources.USER):U?this.quill.setSelection(oe.index,oe.length+1,w.default.sources.USER):this.quill.setSelection(oe.index+oe.length+1,w.default.sources.USER),!1):!0}),z}function F(L,U){if(!(L.index===0||this.quill.getLength()<=1)){var z=this.quill.getLine(L.index),H=s(z,1),Q=H[0],oe={};if(U.offset===0){var fe=this.quill.getLine(L.index-1),ge=s(fe,1),Ie=ge[0];if(Ie!=null&&Ie.length()>1){var Re=Q.formats(),Ft=this.quill.getFormat(L.index-1,1);oe=m.default.attributes.diff(Re,Ft)||{}}}var et=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(U.prefix)?2:1;this.quill.deleteText(L.index-et,et,w.default.sources.USER),Object.keys(oe).length>0&&this.quill.formatLine(L.index-et,et,oe,w.default.sources.USER),this.quill.focus()}}function N(L,U){var z=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(U.suffix)?2:1;if(!(L.index>=this.quill.getLength()-z)){var H={},Q=0,oe=this.quill.getLine(L.index),fe=s(oe,1),ge=fe[0];if(U.offset>=ge.length()-1){var Ie=this.quill.getLine(L.index+1),Re=s(Ie,1),Ft=Re[0];if(Ft){var et=ge.formats(),W=this.quill.getFormat(L.index,1);H=m.default.attributes.diff(et,W)||{},Q=Ft.length()}}this.quill.deleteText(L.index,z,w.default.sources.USER),Object.keys(H).length>0&&this.quill.formatLine(L.index+Q-1,z,H,w.default.sources.USER)}}function P(L){var U=this.quill.getLines(L),z={};if(U.length>1){var H=U[0].formats(),Q=U[U.length-1].formats();z=m.default.attributes.diff(Q,H)||{}}this.quill.deleteText(L,w.default.sources.USER),Object.keys(z).length>0&&this.quill.formatLine(L.index,1,z,w.default.sources.USER),this.quill.setSelection(L.index,w.default.sources.SILENT),this.quill.focus()}function x(L,U){var z=this;L.length>0&&this.quill.scroll.deleteAt(L.index,L.length);var H=Object.keys(U.format).reduce(function(Q,oe){return v.default.query(oe,v.default.Scope.BLOCK)&&!Array.isArray(U.format[oe])&&(Q[oe]=U.format[oe]),Q},{});this.quill.insertText(L.index,`
`,H,w.default.sources.USER),this.quill.setSelection(L.index+1,w.default.sources.SILENT),this.quill.focus(),Object.keys(U.format).forEach(function(Q){H[Q]==null&&(Array.isArray(U.format[Q])||Q!=="link"&&z.quill.format(Q,U.format[Q],w.default.sources.USER))})}function V(L){return{key:D.keys.TAB,shiftKey:!L,format:{"code-block":!0},handler:function(z){var H=v.default.query("code-block"),Q=z.index,oe=z.length,fe=this.quill.scroll.descendant(H,Q),ge=s(fe,2),Ie=ge[0],Re=ge[1];if(Ie!=null){var Ft=this.quill.getIndex(Ie),et=Ie.newlineIndex(Re,!0)+1,W=Ie.newlineIndex(Ft+Re+oe),G=Ie.domNode.textContent.slice(et,W).split(`
`);Re=0,G.forEach(function(ne,re){L?(Ie.insertAt(et+Re,H.TAB),Re+=H.TAB.length,re===0?Q+=H.TAB.length:oe+=H.TAB.length):ne.startsWith(H.TAB)&&(Ie.deleteAt(et+Re,H.TAB.length),Re-=H.TAB.length,re===0?Q-=H.TAB.length:oe-=H.TAB.length),Re+=ne.length+1}),this.quill.update(w.default.sources.USER),this.quill.setSelection(Q,oe,w.default.sources.SILENT)}}}}function q(L){return{key:L[0].toUpperCase(),shortKey:!0,handler:function(z,H){this.quill.format(L,!H.format[L],w.default.sources.USER)}}}function B(L){if(typeof L=="string"||typeof L=="number")return B({key:L});if((typeof L>"u"?"undefined":o(L))==="object"&&(L=(0,u.default)(L,!1)),typeof L.key=="string")if(D.keys[L.key.toUpperCase()]!=null)L.key=D.keys[L.key.toUpperCase()];else if(L.key.length===1)L.key=L.key.toUpperCase().charCodeAt(0);else return null;return L.shortKey&&(L[$]=L.shortKey,delete L.shortKey),L}r.default=D,r.SHORTKEY=$},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function m(p,v){var g=[],w=!0,A=!1,T=void 0;try{for(var S=p[Symbol.iterator](),k;!(w=(k=S.next()).done)&&(g.push(k.value),!(v&&g.length===v));w=!0);}catch(b){A=!0,T=b}finally{try{!w&&S.return&&S.return()}finally{if(A)throw T}}return g}return function(p,v){if(Array.isArray(p))return p;if(Symbol.iterator in Object(p))return m(p,v);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function m(p,v,g){p===null&&(p=Function.prototype);var w=Object.getOwnPropertyDescriptor(p,v);if(w===void 0){var A=Object.getPrototypeOf(p);return A===null?void 0:m(A,v,g)}else{if("value"in w)return w.value;var T=w.get;return T===void 0?void 0:T.call(g)}},a=function(){function m(p,v){for(var g=0;g<v.length;g++){var w=v[g];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(p,w.key,w)}}return function(p,v,g){return v&&m(p.prototype,v),g&&m(p,g),p}}(),l=i(0),u=c(l),h=i(7),f=c(h);function c(m){return m&&m.__esModule?m:{default:m}}function d(m,p){if(!(m instanceof p))throw new TypeError("Cannot call a class as a function")}function _(m,p){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:m}function y(m,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);m.prototype=Object.create(p&&p.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(m,p):m.__proto__=p)}var E=function(m){y(p,m),a(p,null,[{key:"value",value:function(){}}]);function p(v,g){d(this,p);var w=_(this,(p.__proto__||Object.getPrototypeOf(p)).call(this,v));return w.selection=g,w.textNode=document.createTextNode(p.CONTENTS),w.domNode.appendChild(w.textNode),w._length=0,w}return a(p,[{key:"detach",value:function(){this.parent!=null&&this.parent.removeChild(this)}},{key:"format",value:function(g,w){if(this._length!==0)return s(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"format",this).call(this,g,w);for(var A=this,T=0;A!=null&&A.statics.scope!==u.default.Scope.BLOCK_BLOT;)T+=A.offset(A.parent),A=A.parent;A!=null&&(this._length=p.CONTENTS.length,A.optimize(),A.formatAt(T,p.CONTENTS.length,g,w),this._length=0)}},{key:"index",value:function(g,w){return g===this.textNode?0:s(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"index",this).call(this,g,w)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){s(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!(this.selection.composing||this.parent==null)){var g=this.textNode,w=this.selection.getNativeRange(),A=void 0,T=void 0,S=void 0;if(w!=null&&w.start.node===g&&w.end.node===g){var k=[g,w.start.offset,w.end.offset];A=k[0],T=k[1],S=k[2]}for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==p.CONTENTS){var b=this.textNode.data.split(p.CONTENTS).join("");this.next instanceof f.default?(A=this.next.domNode,this.next.insertAt(0,b),this.textNode.data=p.CONTENTS):(this.textNode.data=b,this.parent.insertBefore(u.default.create(this.textNode),this),this.textNode=document.createTextNode(p.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),T!=null){var I=[T,S].map(function(R){return Math.max(0,Math.min(A.data.length,R-1))}),O=o(I,2);return T=O[0],S=O[1],{startNode:A,startOffset:T,endNode:A,endOffset:S}}}}},{key:"update",value:function(g,w){var A=this;if(g.some(function(S){return S.type==="characterData"&&S.target===A.textNode})){var T=this.restore();T&&(w.range=T)}}},{key:"value",value:function(){return""}}]),p}(u.default.Embed);E.blotName="cursor",E.className="ql-cursor",E.tagName="span",E.CONTENTS="\uFEFF",r.default=E},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(0),s=u(o),a=i(4),l=u(a);function u(_){return _&&_.__esModule?_:{default:_}}function h(_,y){if(!(_ instanceof y))throw new TypeError("Cannot call a class as a function")}function f(_,y){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:_}function c(_,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);_.prototype=Object.create(y&&y.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(_,y):_.__proto__=y)}var d=function(_){c(y,_);function y(){return h(this,y),f(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return y}(s.default.Container);d.allowedChildren=[l.default,a.BlockEmbed,d],r.default=d},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.ColorStyle=r.ColorClass=r.ColorAttributor=void 0;var o=function(){function E(m,p){for(var v=0;v<p.length;v++){var g=p[v];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(m,g.key,g)}}return function(m,p,v){return p&&E(m.prototype,p),v&&E(m,v),m}}(),s=function E(m,p,v){m===null&&(m=Function.prototype);var g=Object.getOwnPropertyDescriptor(m,p);if(g===void 0){var w=Object.getPrototypeOf(m);return w===null?void 0:E(w,p,v)}else{if("value"in g)return g.value;var A=g.get;return A===void 0?void 0:A.call(v)}},a=i(0),l=u(a);function u(E){return E&&E.__esModule?E:{default:E}}function h(E,m){if(!(E instanceof m))throw new TypeError("Cannot call a class as a function")}function f(E,m){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:E}function c(E,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);E.prototype=Object.create(m&&m.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(E,m):E.__proto__=m)}var d=function(E){c(m,E);function m(){return h(this,m),f(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return o(m,[{key:"value",value:function(v){var g=s(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"value",this).call(this,v);return g.startsWith("rgb(")?(g=g.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+g.split(",").map(function(w){return("00"+parseInt(w).toString(16)).slice(-2)}).join("")):g}}]),m}(l.default.Attributor.Style),_=new l.default.Attributor.Class("color","ql-color",{scope:l.default.Scope.INLINE}),y=new d("color","color",{scope:l.default.Scope.INLINE});r.ColorAttributor=d,r.ColorClass=_,r.ColorStyle=y},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.sanitize=r.default=void 0;var o=function(){function y(E,m){for(var p=0;p<m.length;p++){var v=m[p];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(E,v.key,v)}}return function(E,m,p){return m&&y(E.prototype,m),p&&y(E,p),E}}(),s=function y(E,m,p){E===null&&(E=Function.prototype);var v=Object.getOwnPropertyDescriptor(E,m);if(v===void 0){var g=Object.getPrototypeOf(E);return g===null?void 0:y(g,m,p)}else{if("value"in v)return v.value;var w=v.get;return w===void 0?void 0:w.call(p)}},a=i(6),l=u(a);function u(y){return y&&y.__esModule?y:{default:y}}function h(y,E){if(!(y instanceof E))throw new TypeError("Cannot call a class as a function")}function f(y,E){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:y}function c(y,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);y.prototype=Object.create(E&&E.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(y,E):y.__proto__=E)}var d=function(y){c(E,y);function E(){return h(this,E),f(this,(E.__proto__||Object.getPrototypeOf(E)).apply(this,arguments))}return o(E,[{key:"format",value:function(p,v){if(p!==this.statics.blotName||!v)return s(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"format",this).call(this,p,v);v=this.constructor.sanitize(v),this.domNode.setAttribute("href",v)}}],[{key:"create",value:function(p){var v=s(E.__proto__||Object.getPrototypeOf(E),"create",this).call(this,p);return p=this.sanitize(p),v.setAttribute("href",p),v.setAttribute("rel","noopener noreferrer"),v.setAttribute("target","_blank"),v}},{key:"formats",value:function(p){return p.getAttribute("href")}},{key:"sanitize",value:function(p){return _(p,this.PROTOCOL_WHITELIST)?p:this.SANITIZED_URL}}]),E}(l.default);d.blotName="link",d.tagName="A",d.SANITIZED_URL="about:blank",d.PROTOCOL_WHITELIST=["http","https","mailto","tel"];function _(y,E){var m=document.createElement("a");m.href=y;var p=m.href.slice(0,m.href.indexOf(":"));return E.indexOf(p)>-1}r.default=d,r.sanitize=_},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(E){return typeof E}:function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E},s=function(){function E(m,p){for(var v=0;v<p.length;v++){var g=p[v];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(m,g.key,g)}}return function(m,p,v){return p&&E(m.prototype,p),v&&E(m,v),m}}(),a=i(23),l=f(a),u=i(107),h=f(u);function f(E){return E&&E.__esModule?E:{default:E}}function c(E,m){if(!(E instanceof m))throw new TypeError("Cannot call a class as a function")}var d=0;function _(E,m){E.setAttribute(m,E.getAttribute(m)!=="true")}var y=function(){function E(m){var p=this;c(this,E),this.select=m,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){p.togglePicker()}),this.label.addEventListener("keydown",function(v){switch(v.keyCode){case l.default.keys.ENTER:p.togglePicker();break;case l.default.keys.ESCAPE:p.escape(),v.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}return s(E,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),_(this.label,"aria-expanded"),_(this.options,"aria-hidden")}},{key:"buildItem",value:function(p){var v=this,g=document.createElement("span");return g.tabIndex="0",g.setAttribute("role","button"),g.classList.add("ql-picker-item"),p.hasAttribute("value")&&g.setAttribute("data-value",p.getAttribute("value")),p.textContent&&g.setAttribute("data-label",p.textContent),g.addEventListener("click",function(){v.selectItem(g,!0)}),g.addEventListener("keydown",function(w){switch(w.keyCode){case l.default.keys.ENTER:v.selectItem(g,!0),w.preventDefault();break;case l.default.keys.ESCAPE:v.escape(),w.preventDefault();break}}),g}},{key:"buildLabel",value:function(){var p=document.createElement("span");return p.classList.add("ql-picker-label"),p.innerHTML=h.default,p.tabIndex="0",p.setAttribute("role","button"),p.setAttribute("aria-expanded","false"),this.container.appendChild(p),p}},{key:"buildOptions",value:function(){var p=this,v=document.createElement("span");v.classList.add("ql-picker-options"),v.setAttribute("aria-hidden","true"),v.tabIndex="-1",v.id="ql-picker-options-"+d,d+=1,this.label.setAttribute("aria-controls",v.id),this.options=v,[].slice.call(this.select.options).forEach(function(g){var w=p.buildItem(g);v.appendChild(w),g.selected===!0&&p.selectItem(w)}),this.container.appendChild(v)}},{key:"buildPicker",value:function(){var p=this;[].slice.call(this.select.attributes).forEach(function(v){p.container.setAttribute(v.name,v.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var p=this;this.close(),setTimeout(function(){return p.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(p){var v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,g=this.container.querySelector(".ql-selected");if(p!==g&&(g!=null&&g.classList.remove("ql-selected"),p!=null&&(p.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(p.parentNode.children,p),p.hasAttribute("data-value")?this.label.setAttribute("data-value",p.getAttribute("data-value")):this.label.removeAttribute("data-value"),p.hasAttribute("data-label")?this.label.setAttribute("data-label",p.getAttribute("data-label")):this.label.removeAttribute("data-label"),v))){if(typeof Event=="function")this.select.dispatchEvent(new Event("change"));else if((typeof Event>"u"?"undefined":o(Event))==="object"){var w=document.createEvent("Event");w.initEvent("change",!0,!0),this.select.dispatchEvent(w)}this.close()}}},{key:"update",value:function(){var p=void 0;if(this.select.selectedIndex>-1){var v=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];p=this.select.options[this.select.selectedIndex],this.selectItem(v)}else this.selectItem(null);var g=p!=null&&p!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",g)}}]),E}();r.default=y},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(0),s=M(o),a=i(5),l=M(a),u=i(4),h=M(u),f=i(16),c=M(f),d=i(25),_=M(d),y=i(24),E=M(y),m=i(35),p=M(m),v=i(6),g=M(v),w=i(22),A=M(w),T=i(7),S=M(T),k=i(55),b=M(k),I=i(42),O=M(I),R=i(23),C=M(R);function M($){return $&&$.__esModule?$:{default:$}}l.default.register({"blots/block":h.default,"blots/block/embed":u.BlockEmbed,"blots/break":c.default,"blots/container":_.default,"blots/cursor":E.default,"blots/embed":p.default,"blots/inline":g.default,"blots/scroll":A.default,"blots/text":S.default,"modules/clipboard":b.default,"modules/history":O.default,"modules/keyboard":C.default}),s.default.register(h.default,c.default,E.default,g.default,A.default,S.default),r.default=l.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(1),s=function(){function a(l){this.domNode=l,this.domNode[o.DATA_KEY]={blot:this}}return Object.defineProperty(a.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),a.create=function(l){if(this.tagName==null)throw new o.ParchmentError("Blot definition missing tagName");var u;return Array.isArray(this.tagName)?(typeof l=="string"&&(l=l.toUpperCase(),parseInt(l).toString()===l&&(l=parseInt(l))),typeof l=="number"?u=document.createElement(this.tagName[l-1]):this.tagName.indexOf(l)>-1?u=document.createElement(l):u=document.createElement(this.tagName[0])):u=document.createElement(this.tagName),this.className&&u.classList.add(this.className),u},a.prototype.attach=function(){this.parent!=null&&(this.scroll=this.parent.scroll)},a.prototype.clone=function(){var l=this.domNode.cloneNode(!1);return o.create(l)},a.prototype.detach=function(){this.parent!=null&&this.parent.removeChild(this),delete this.domNode[o.DATA_KEY]},a.prototype.deleteAt=function(l,u){var h=this.isolate(l,u);h.remove()},a.prototype.formatAt=function(l,u,h,f){var c=this.isolate(l,u);if(o.query(h,o.Scope.BLOT)!=null&&f)c.wrap(h,f);else if(o.query(h,o.Scope.ATTRIBUTE)!=null){var d=o.create(this.statics.scope);c.wrap(d),d.format(h,f)}},a.prototype.insertAt=function(l,u,h){var f=h==null?o.create("text",u):o.create(u,h),c=this.split(l);this.parent.insertBefore(f,c)},a.prototype.insertInto=function(l,u){u===void 0&&(u=null),this.parent!=null&&this.parent.children.remove(this);var h=null;l.children.insertBefore(this,u),u!=null&&(h=u.domNode),(this.domNode.parentNode!=l.domNode||this.domNode.nextSibling!=h)&&l.domNode.insertBefore(this.domNode,h),this.parent=l,this.attach()},a.prototype.isolate=function(l,u){var h=this.split(l);return h.split(u),h},a.prototype.length=function(){return 1},a.prototype.offset=function(l){return l===void 0&&(l=this.parent),this.parent==null||this==l?0:this.parent.children.offset(this)+this.parent.offset(l)},a.prototype.optimize=function(l){this.domNode[o.DATA_KEY]!=null&&delete this.domNode[o.DATA_KEY].mutations},a.prototype.remove=function(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},a.prototype.replace=function(l){l.parent!=null&&(l.parent.insertBefore(this,l.next),l.remove())},a.prototype.replaceWith=function(l,u){var h=typeof l=="string"?o.create(l,u):l;return h.replace(this),h},a.prototype.split=function(l,u){return l===0?this:this.next},a.prototype.update=function(l,u){},a.prototype.wrap=function(l,u){var h=typeof l=="string"?o.create(l,u):l;return this.parent!=null&&this.parent.insertBefore(h,this.next),h.appendChild(this),h},a.blotName="abstract",a}();r.default=s},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(12),s=i(32),a=i(33),l=i(1),u=function(){function h(f){this.attributes={},this.domNode=f,this.build()}return h.prototype.attribute=function(f,c){c?f.add(this.domNode,c)&&(f.value(this.domNode)!=null?this.attributes[f.attrName]=f:delete this.attributes[f.attrName]):(f.remove(this.domNode),delete this.attributes[f.attrName])},h.prototype.build=function(){var f=this;this.attributes={};var c=o.default.keys(this.domNode),d=s.default.keys(this.domNode),_=a.default.keys(this.domNode);c.concat(d).concat(_).forEach(function(y){var E=l.query(y,l.Scope.ATTRIBUTE);E instanceof o.default&&(f.attributes[E.attrName]=E)})},h.prototype.copy=function(f){var c=this;Object.keys(this.attributes).forEach(function(d){var _=c.attributes[d].value(c.domNode);f.format(d,_)})},h.prototype.move=function(f){var c=this;this.copy(f),Object.keys(this.attributes).forEach(function(d){c.attributes[d].remove(c.domNode)}),this.attributes={}},h.prototype.values=function(){var f=this;return Object.keys(this.attributes).reduce(function(c,d){return c[d]=f.attributes[d].value(f.domNode),c},{})},h}();r.default=u},function(n,r,i){var o=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,f){h.__proto__=f}||function(h,f){for(var c in f)f.hasOwnProperty(c)&&(h[c]=f[c])};return function(h,f){u(h,f);function c(){this.constructor=h}h.prototype=f===null?Object.create(f):(c.prototype=f.prototype,new c)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(12);function a(u,h){var f=u.getAttribute("class")||"";return f.split(/\s+/).filter(function(c){return c.indexOf(h+"-")===0})}var l=function(u){o(h,u);function h(){return u!==null&&u.apply(this,arguments)||this}return h.keys=function(f){return(f.getAttribute("class")||"").split(/\s+/).map(function(c){return c.split("-").slice(0,-1).join("-")})},h.prototype.add=function(f,c){return this.canAdd(f,c)?(this.remove(f),f.classList.add(this.keyName+"-"+c),!0):!1},h.prototype.remove=function(f){var c=a(f,this.keyName);c.forEach(function(d){f.classList.remove(d)}),f.classList.length===0&&f.removeAttribute("class")},h.prototype.value=function(f){var c=a(f,this.keyName)[0]||"",d=c.slice(this.keyName.length+1);return this.canAdd(f,d)?d:""},h}(s.default);r.default=l},function(n,r,i){var o=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,f){h.__proto__=f}||function(h,f){for(var c in f)f.hasOwnProperty(c)&&(h[c]=f[c])};return function(h,f){u(h,f);function c(){this.constructor=h}h.prototype=f===null?Object.create(f):(c.prototype=f.prototype,new c)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(12);function a(u){var h=u.split("-"),f=h.slice(1).map(function(c){return c[0].toUpperCase()+c.slice(1)}).join("");return h[0]+f}var l=function(u){o(h,u);function h(){return u!==null&&u.apply(this,arguments)||this}return h.keys=function(f){return(f.getAttribute("style")||"").split(";").map(function(c){var d=c.split(":");return d[0].trim()})},h.prototype.add=function(f,c){return this.canAdd(f,c)?(f.style[a(this.keyName)]=c,!0):!1},h.prototype.remove=function(f){f.style[a(this.keyName)]="",f.getAttribute("style")||f.removeAttribute("style")},h.prototype.value=function(f){var c=f.style[a(this.keyName)];return this.canAdd(f,c)?c:""},h}(s.default);r.default=l},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function l(u,h){for(var f=0;f<h.length;f++){var c=h[f];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(u,c.key,c)}}return function(u,h,f){return h&&l(u.prototype,h),f&&l(u,f),u}}();function s(l,u){if(!(l instanceof u))throw new TypeError("Cannot call a class as a function")}var a=function(){function l(u,h){s(this,l),this.quill=u,this.options=h,this.modules={}}return o(l,[{key:"init",value:function(){var h=this;Object.keys(this.options.modules).forEach(function(f){h.modules[f]==null&&h.addModule(f)})}},{key:"addModule",value:function(h){var f=this.quill.constructor.import("modules/"+h);return this.modules[h]=new f(this.quill,this.options.modules[h]||{}),this.modules[h]}}]),l}();a.DEFAULTS={modules:{}},a.themes={default:a},r.default=a},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function m(p,v){for(var g=0;g<v.length;g++){var w=v[g];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(p,w.key,w)}}return function(p,v,g){return v&&m(p.prototype,v),g&&m(p,g),p}}(),s=function m(p,v,g){p===null&&(p=Function.prototype);var w=Object.getOwnPropertyDescriptor(p,v);if(w===void 0){var A=Object.getPrototypeOf(p);return A===null?void 0:m(A,v,g)}else{if("value"in w)return w.value;var T=w.get;return T===void 0?void 0:T.call(g)}},a=i(0),l=f(a),u=i(7),h=f(u);function f(m){return m&&m.__esModule?m:{default:m}}function c(m,p){if(!(m instanceof p))throw new TypeError("Cannot call a class as a function")}function d(m,p){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:m}function _(m,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);m.prototype=Object.create(p&&p.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(m,p):m.__proto__=p)}var y="\uFEFF",E=function(m){_(p,m);function p(v){c(this,p);var g=d(this,(p.__proto__||Object.getPrototypeOf(p)).call(this,v));return g.contentNode=document.createElement("span"),g.contentNode.setAttribute("contenteditable",!1),[].slice.call(g.domNode.childNodes).forEach(function(w){g.contentNode.appendChild(w)}),g.leftGuard=document.createTextNode(y),g.rightGuard=document.createTextNode(y),g.domNode.appendChild(g.leftGuard),g.domNode.appendChild(g.contentNode),g.domNode.appendChild(g.rightGuard),g}return o(p,[{key:"index",value:function(g,w){return g===this.leftGuard?0:g===this.rightGuard?1:s(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"index",this).call(this,g,w)}},{key:"restore",value:function(g){var w=void 0,A=void 0,T=g.data.split(y).join("");if(g===this.leftGuard)if(this.prev instanceof h.default){var S=this.prev.length();this.prev.insertAt(S,T),w={startNode:this.prev.domNode,startOffset:S+T.length}}else A=document.createTextNode(T),this.parent.insertBefore(l.default.create(A),this),w={startNode:A,startOffset:T.length};else g===this.rightGuard&&(this.next instanceof h.default?(this.next.insertAt(0,T),w={startNode:this.next.domNode,startOffset:T.length}):(A=document.createTextNode(T),this.parent.insertBefore(l.default.create(A),this.next),w={startNode:A,startOffset:T.length}));return g.data=y,w}},{key:"update",value:function(g,w){var A=this;g.forEach(function(T){if(T.type==="characterData"&&(T.target===A.leftGuard||T.target===A.rightGuard)){var S=A.restore(T.target);S&&(w.range=S)}})}}]),p}(l.default.Embed);r.default=E},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.AlignStyle=r.AlignClass=r.AlignAttribute=void 0;var o=i(0),s=a(o);function a(c){return c&&c.__esModule?c:{default:c}}var l={scope:s.default.Scope.BLOCK,whitelist:["right","center","justify"]},u=new s.default.Attributor.Attribute("align","align",l),h=new s.default.Attributor.Class("align","ql-align",l),f=new s.default.Attributor.Style("align","text-align",l);r.AlignAttribute=u,r.AlignClass=h,r.AlignStyle=f},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.BackgroundStyle=r.BackgroundClass=void 0;var o=i(0),s=l(o),a=i(26);function l(f){return f&&f.__esModule?f:{default:f}}var u=new s.default.Attributor.Class("background","ql-bg",{scope:s.default.Scope.INLINE}),h=new a.ColorAttributor("background","background-color",{scope:s.default.Scope.INLINE});r.BackgroundClass=u,r.BackgroundStyle=h},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.DirectionStyle=r.DirectionClass=r.DirectionAttribute=void 0;var o=i(0),s=a(o);function a(c){return c&&c.__esModule?c:{default:c}}var l={scope:s.default.Scope.BLOCK,whitelist:["rtl"]},u=new s.default.Attributor.Attribute("direction","dir",l),h=new s.default.Attributor.Class("direction","ql-direction",l),f=new s.default.Attributor.Style("direction","direction",l);r.DirectionAttribute=u,r.DirectionClass=h,r.DirectionStyle=f},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.FontClass=r.FontStyle=void 0;var o=function(){function m(p,v){for(var g=0;g<v.length;g++){var w=v[g];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(p,w.key,w)}}return function(p,v,g){return v&&m(p.prototype,v),g&&m(p,g),p}}(),s=function m(p,v,g){p===null&&(p=Function.prototype);var w=Object.getOwnPropertyDescriptor(p,v);if(w===void 0){var A=Object.getPrototypeOf(p);return A===null?void 0:m(A,v,g)}else{if("value"in w)return w.value;var T=w.get;return T===void 0?void 0:T.call(g)}},a=i(0),l=u(a);function u(m){return m&&m.__esModule?m:{default:m}}function h(m,p){if(!(m instanceof p))throw new TypeError("Cannot call a class as a function")}function f(m,p){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:m}function c(m,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);m.prototype=Object.create(p&&p.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(m,p):m.__proto__=p)}var d={scope:l.default.Scope.INLINE,whitelist:["serif","monospace"]},_=new l.default.Attributor.Class("font","ql-font",d),y=function(m){c(p,m);function p(){return h(this,p),f(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return o(p,[{key:"value",value:function(g){return s(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"value",this).call(this,g).replace(/["']/g,"")}}]),p}(l.default.Attributor.Style),E=new y("font","font-family",d);r.FontStyle=E,r.FontClass=_},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.SizeStyle=r.SizeClass=void 0;var o=i(0),s=a(o);function a(h){return h&&h.__esModule?h:{default:h}}var l=new s.default.Attributor.Class("size","ql-size",{scope:s.default.Scope.INLINE,whitelist:["small","large","huge"]}),u=new s.default.Attributor.Style("size","font-size",{scope:s.default.Scope.INLINE,whitelist:["10px","18px","32px"]});r.SizeClass=l,r.SizeStyle=u},function(n,r,i){n.exports={align:{"":i(76),center:i(77),right:i(78),justify:i(79)},background:i(80),blockquote:i(81),bold:i(82),clean:i(83),code:i(58),"code-block":i(58),color:i(84),direction:{"":i(85),rtl:i(86)},float:{center:i(87),full:i(88),left:i(89),right:i(90)},formula:i(91),header:{1:i(92),2:i(93)},italic:i(94),image:i(95),indent:{"+1":i(96),"-1":i(97)},link:i(98),list:{ordered:i(99),bullet:i(100),check:i(101)},script:{sub:i(102),super:i(103)},strike:i(104),underline:i(105),video:i(106)}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.getLastChangeIndex=r.default=void 0;var o=function(){function v(g,w){for(var A=0;A<w.length;A++){var T=w[A];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(g,T.key,T)}}return function(g,w,A){return w&&v(g.prototype,w),A&&v(g,A),g}}(),s=i(0),a=c(s),l=i(5),u=c(l),h=i(9),f=c(h);function c(v){return v&&v.__esModule?v:{default:v}}function d(v,g){if(!(v instanceof g))throw new TypeError("Cannot call a class as a function")}function _(v,g){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:v}function y(v,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);v.prototype=Object.create(g&&g.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(v,g):v.__proto__=g)}var E=function(v){y(g,v);function g(w,A){d(this,g);var T=_(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,w,A));return T.lastRecorded=0,T.ignoreChange=!1,T.clear(),T.quill.on(u.default.events.EDITOR_CHANGE,function(S,k,b,I){S!==u.default.events.TEXT_CHANGE||T.ignoreChange||(!T.options.userOnly||I===u.default.sources.USER?T.record(k,b):T.transform(k))}),T.quill.keyboard.addBinding({key:"Z",shortKey:!0},T.undo.bind(T)),T.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},T.redo.bind(T)),/Win/i.test(navigator.platform)&&T.quill.keyboard.addBinding({key:"Y",shortKey:!0},T.redo.bind(T)),T}return o(g,[{key:"change",value:function(A,T){if(this.stack[A].length!==0){var S=this.stack[A].pop();this.stack[T].push(S),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(S[A],u.default.sources.USER),this.ignoreChange=!1;var k=p(S[A]);this.quill.setSelection(k)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(A,T){if(A.ops.length!==0){this.stack.redo=[];var S=this.quill.getContents().diff(T),k=Date.now();if(this.lastRecorded+this.options.delay>k&&this.stack.undo.length>0){var b=this.stack.undo.pop();S=S.compose(b.undo),A=b.redo.compose(A)}else this.lastRecorded=k;this.stack.undo.push({redo:A,undo:S}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(A){this.stack.undo.forEach(function(T){T.undo=A.transform(T.undo,!0),T.redo=A.transform(T.redo,!0)}),this.stack.redo.forEach(function(T){T.undo=A.transform(T.undo,!0),T.redo=A.transform(T.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),g}(f.default);E.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};function m(v){var g=v.ops[v.ops.length-1];return g==null?!1:g.insert!=null?typeof g.insert=="string"&&g.insert.endsWith(`
`):g.attributes!=null?Object.keys(g.attributes).some(function(w){return a.default.query(w,a.default.Scope.BLOCK)!=null}):!1}function p(v){var g=v.reduce(function(A,T){return A+=T.delete||0,A},0),w=v.length()-g;return m(v)&&(w-=1),w}r.default=E,r.getLastChangeIndex=p},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BaseTooltip=void 0;var o=function(){function x(V,q){for(var B=0;B<q.length;B++){var L=q[B];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(V,L.key,L)}}return function(V,q,B){return q&&x(V.prototype,q),B&&x(V,B),V}}(),s=function x(V,q,B){V===null&&(V=Function.prototype);var L=Object.getOwnPropertyDescriptor(V,q);if(L===void 0){var U=Object.getPrototypeOf(V);return U===null?void 0:x(U,q,B)}else{if("value"in L)return L.value;var z=L.get;return z===void 0?void 0:z.call(B)}},a=i(3),l=k(a),u=i(2),h=k(u),f=i(8),c=k(f),d=i(23),_=k(d),y=i(34),E=k(y),m=i(59),p=k(m),v=i(60),g=k(v),w=i(28),A=k(w),T=i(61),S=k(T);function k(x){return x&&x.__esModule?x:{default:x}}function b(x,V){if(!(x instanceof V))throw new TypeError("Cannot call a class as a function")}function I(x,V){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return V&&(typeof V=="object"||typeof V=="function")?V:x}function O(x,V){if(typeof V!="function"&&V!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof V);x.prototype=Object.create(V&&V.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),V&&(Object.setPrototypeOf?Object.setPrototypeOf(x,V):x.__proto__=V)}var R=[!1,"center","right","justify"],C=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],M=[!1,"serif","monospace"],$=["1","2","3",!1],D=["small",!1,"large","huge"],j=function(x){O(V,x);function V(q,B){b(this,V);var L=I(this,(V.__proto__||Object.getPrototypeOf(V)).call(this,q,B)),U=function z(H){if(!document.body.contains(q.root))return document.body.removeEventListener("click",z);L.tooltip!=null&&!L.tooltip.root.contains(H.target)&&document.activeElement!==L.tooltip.textbox&&!L.quill.hasFocus()&&L.tooltip.hide(),L.pickers!=null&&L.pickers.forEach(function(Q){Q.container.contains(H.target)||Q.close()})};return q.emitter.listenDOM("click",document.body,U),L}return o(V,[{key:"addModule",value:function(B){var L=s(V.prototype.__proto__||Object.getPrototypeOf(V.prototype),"addModule",this).call(this,B);return B==="toolbar"&&this.extendToolbar(L),L}},{key:"buildButtons",value:function(B,L){B.forEach(function(U){var z=U.getAttribute("class")||"";z.split(/\s+/).forEach(function(H){if(H.startsWith("ql-")&&(H=H.slice(3),L[H]!=null))if(H==="direction")U.innerHTML=L[H][""]+L[H].rtl;else if(typeof L[H]=="string")U.innerHTML=L[H];else{var Q=U.value||"";Q!=null&&L[H][Q]&&(U.innerHTML=L[H][Q])}})})}},{key:"buildPickers",value:function(B,L){var U=this;this.pickers=B.map(function(H){if(H.classList.contains("ql-align"))return H.querySelector("option")==null&&P(H,R),new g.default(H,L.align);if(H.classList.contains("ql-background")||H.classList.contains("ql-color")){var Q=H.classList.contains("ql-background")?"background":"color";return H.querySelector("option")==null&&P(H,C,Q==="background"?"#ffffff":"#000000"),new p.default(H,L[Q])}else return H.querySelector("option")==null&&(H.classList.contains("ql-font")?P(H,M):H.classList.contains("ql-header")?P(H,$):H.classList.contains("ql-size")&&P(H,D)),new A.default(H)});var z=function(){U.pickers.forEach(function(Q){Q.update()})};this.quill.on(c.default.events.EDITOR_CHANGE,z)}}]),V}(E.default);j.DEFAULTS=(0,l.default)(!0,{},E.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var V=this,q=this.container.querySelector("input.ql-image[type=file]");q==null&&(q=document.createElement("input"),q.setAttribute("type","file"),q.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),q.classList.add("ql-image"),q.addEventListener("change",function(){if(q.files!=null&&q.files[0]!=null){var B=new FileReader;B.onload=function(L){var U=V.quill.getSelection(!0);V.quill.updateContents(new h.default().retain(U.index).delete(U.length).insert({image:L.target.result}),c.default.sources.USER),V.quill.setSelection(U.index+1,c.default.sources.SILENT),q.value=""},B.readAsDataURL(q.files[0])}}),this.container.appendChild(q)),q.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var F=function(x){O(V,x);function V(q,B){b(this,V);var L=I(this,(V.__proto__||Object.getPrototypeOf(V)).call(this,q,B));return L.textbox=L.root.querySelector('input[type="text"]'),L.listen(),L}return o(V,[{key:"listen",value:function(){var B=this;this.textbox.addEventListener("keydown",function(L){_.default.match(L,"enter")?(B.save(),L.preventDefault()):_.default.match(L,"escape")&&(B.cancel(),L.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),L!=null?this.textbox.value=L:B!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+B)||""),this.root.setAttribute("data-mode",B)}},{key:"restoreFocus",value:function(){var B=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=B}},{key:"save",value:function(){var B=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":{var L=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",B,c.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",B,c.default.sources.USER)),this.quill.root.scrollTop=L;break}case"video":B=N(B);case"formula":{if(!B)break;var U=this.quill.getSelection(!0);if(U!=null){var z=U.index+U.length;this.quill.insertEmbed(z,this.root.getAttribute("data-mode"),B,c.default.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(z+1," ",c.default.sources.USER),this.quill.setSelection(z+2,c.default.sources.USER)}break}}this.textbox.value="",this.hide()}}]),V}(S.default);function N(x){var V=x.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||x.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return V?(V[1]||"https")+"://www.youtube.com/embed/"+V[2]+"?showinfo=0":(V=x.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(V[1]||"https")+"://player.vimeo.com/video/"+V[2]+"/":x}function P(x,V){var q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;V.forEach(function(B){var L=document.createElement("option");B===q?L.setAttribute("selected","selected"):L.setAttribute("value",B),x.appendChild(L)})}r.BaseTooltip=F,r.default=j},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function s(){this.head=this.tail=null,this.length=0}return s.prototype.append=function(){for(var a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];this.insertBefore(a[0],null),a.length>1&&this.append.apply(this,a.slice(1))},s.prototype.contains=function(a){for(var l,u=this.iterator();l=u();)if(l===a)return!0;return!1},s.prototype.insertBefore=function(a,l){a&&(a.next=l,l!=null?(a.prev=l.prev,l.prev!=null&&(l.prev.next=a),l.prev=a,l===this.head&&(this.head=a)):this.tail!=null?(this.tail.next=a,a.prev=this.tail,this.tail=a):(a.prev=null,this.head=this.tail=a),this.length+=1)},s.prototype.offset=function(a){for(var l=0,u=this.head;u!=null;){if(u===a)return l;l+=u.length(),u=u.next}return-1},s.prototype.remove=function(a){this.contains(a)&&(a.prev!=null&&(a.prev.next=a.next),a.next!=null&&(a.next.prev=a.prev),a===this.head&&(this.head=a.next),a===this.tail&&(this.tail=a.prev),this.length-=1)},s.prototype.iterator=function(a){return a===void 0&&(a=this.head),function(){var l=a;return a!=null&&(a=a.next),l}},s.prototype.find=function(a,l){l===void 0&&(l=!1);for(var u,h=this.iterator();u=h();){var f=u.length();if(a<f||l&&a===f&&(u.next==null||u.next.length()!==0))return[u,a];a-=f}return[null,0]},s.prototype.forEach=function(a){for(var l,u=this.iterator();l=u();)a(l)},s.prototype.forEachAt=function(a,l,u){if(!(l<=0))for(var h=this.find(a),f=h[0],c=h[1],d,_=a-c,y=this.iterator(f);(d=y())&&_<a+l;){var E=d.length();a>_?u(d,a-_,Math.min(l,_+E-a)):u(d,0,Math.min(E,a+l-_)),_+=E}},s.prototype.map=function(a){return this.reduce(function(l,u){return l.push(a(u)),l},[])},s.prototype.reduce=function(a,l){for(var u,h=this.iterator();u=h();)l=a(l,u);return l},s}();r.default=o},function(n,r,i){var o=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,d){c.__proto__=d}||function(c,d){for(var _ in d)d.hasOwnProperty(_)&&(c[_]=d[_])};return function(c,d){f(c,d);function _(){this.constructor=c}c.prototype=d===null?Object.create(d):(_.prototype=d.prototype,new _)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(17),a=i(1),l={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},u=100,h=function(f){o(c,f);function c(d){var _=f.call(this,d)||this;return _.scroll=_,_.observer=new MutationObserver(function(y){_.update(y)}),_.observer.observe(_.domNode,l),_.attach(),_}return c.prototype.detach=function(){f.prototype.detach.call(this),this.observer.disconnect()},c.prototype.deleteAt=function(d,_){this.update(),d===0&&_===this.length()?this.children.forEach(function(y){y.remove()}):f.prototype.deleteAt.call(this,d,_)},c.prototype.formatAt=function(d,_,y,E){this.update(),f.prototype.formatAt.call(this,d,_,y,E)},c.prototype.insertAt=function(d,_,y){this.update(),f.prototype.insertAt.call(this,d,_,y)},c.prototype.optimize=function(d,_){var y=this;d===void 0&&(d=[]),_===void 0&&(_={}),f.prototype.optimize.call(this,_);for(var E=[].slice.call(this.observer.takeRecords());E.length>0;)d.push(E.pop());for(var m=function(w,A){A===void 0&&(A=!0),!(w==null||w===y)&&w.domNode.parentNode!=null&&(w.domNode[a.DATA_KEY].mutations==null&&(w.domNode[a.DATA_KEY].mutations=[]),A&&m(w.parent))},p=function(w){w.domNode[a.DATA_KEY]==null||w.domNode[a.DATA_KEY].mutations==null||(w instanceof s.default&&w.children.forEach(p),w.optimize(_))},v=d,g=0;v.length>0;g+=1){if(g>=u)throw new Error("[Parchment] Maximum optimize iterations reached");for(v.forEach(function(w){var A=a.find(w.target,!0);A!=null&&(A.domNode===w.target&&(w.type==="childList"?(m(a.find(w.previousSibling,!1)),[].forEach.call(w.addedNodes,function(T){var S=a.find(T,!1);m(S,!1),S instanceof s.default&&S.children.forEach(function(k){m(k,!1)})})):w.type==="attributes"&&m(A.prev)),m(A))}),this.children.forEach(p),v=[].slice.call(this.observer.takeRecords()),E=v.slice();E.length>0;)d.push(E.pop())}},c.prototype.update=function(d,_){var y=this;_===void 0&&(_={}),d=d||this.observer.takeRecords(),d.map(function(E){var m=a.find(E.target,!0);return m==null?null:m.domNode[a.DATA_KEY].mutations==null?(m.domNode[a.DATA_KEY].mutations=[E],m):(m.domNode[a.DATA_KEY].mutations.push(E),null)}).forEach(function(E){E==null||E===y||E.domNode[a.DATA_KEY]==null||E.update(E.domNode[a.DATA_KEY].mutations||[],_)}),this.domNode[a.DATA_KEY].mutations!=null&&f.prototype.update.call(this,this.domNode[a.DATA_KEY].mutations,_),this.optimize(d,_)},c.blotName="scroll",c.defaultChild="block",c.scope=a.Scope.BLOCK_BLOT,c.tagName="DIV",c}(s.default);r.default=h},function(n,r,i){var o=this&&this.__extends||function(){var h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,c){f.__proto__=c}||function(f,c){for(var d in c)c.hasOwnProperty(d)&&(f[d]=c[d])};return function(f,c){h(f,c);function d(){this.constructor=f}f.prototype=c===null?Object.create(c):(d.prototype=c.prototype,new d)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(18),a=i(1);function l(h,f){if(Object.keys(h).length!==Object.keys(f).length)return!1;for(var c in h)if(h[c]!==f[c])return!1;return!0}var u=function(h){o(f,h);function f(){return h!==null&&h.apply(this,arguments)||this}return f.formats=function(c){if(c.tagName!==f.tagName)return h.formats.call(this,c)},f.prototype.format=function(c,d){var _=this;c===this.statics.blotName&&!d?(this.children.forEach(function(y){y instanceof s.default||(y=y.wrap(f.blotName,!0)),_.attributes.copy(y)}),this.unwrap()):h.prototype.format.call(this,c,d)},f.prototype.formatAt=function(c,d,_,y){if(this.formats()[_]!=null||a.query(_,a.Scope.ATTRIBUTE)){var E=this.isolate(c,d);E.format(_,y)}else h.prototype.formatAt.call(this,c,d,_,y)},f.prototype.optimize=function(c){h.prototype.optimize.call(this,c);var d=this.formats();if(Object.keys(d).length===0)return this.unwrap();var _=this.next;_ instanceof f&&_.prev===this&&l(d,_.formats())&&(_.moveChildren(this),_.remove())},f.blotName="inline",f.scope=a.Scope.INLINE_BLOT,f.tagName="SPAN",f}(s.default);r.default=u},function(n,r,i){var o=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,f){h.__proto__=f}||function(h,f){for(var c in f)f.hasOwnProperty(c)&&(h[c]=f[c])};return function(h,f){u(h,f);function c(){this.constructor=h}h.prototype=f===null?Object.create(f):(c.prototype=f.prototype,new c)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(18),a=i(1),l=function(u){o(h,u);function h(){return u!==null&&u.apply(this,arguments)||this}return h.formats=function(f){var c=a.query(h.blotName).tagName;if(f.tagName!==c)return u.formats.call(this,f)},h.prototype.format=function(f,c){a.query(f,a.Scope.BLOCK)!=null&&(f===this.statics.blotName&&!c?this.replaceWith(h.blotName):u.prototype.format.call(this,f,c))},h.prototype.formatAt=function(f,c,d,_){a.query(d,a.Scope.BLOCK)!=null?this.format(d,_):u.prototype.formatAt.call(this,f,c,d,_)},h.prototype.insertAt=function(f,c,d){if(d==null||a.query(c,a.Scope.INLINE)!=null)u.prototype.insertAt.call(this,f,c,d);else{var _=this.split(f),y=a.create(c,d);_.parent.insertBefore(y,_)}},h.prototype.update=function(f,c){navigator.userAgent.match(/Trident/)?this.build():u.prototype.update.call(this,f,c)},h.blotName="block",h.scope=a.Scope.BLOCK_BLOT,h.tagName="P",h}(s.default);r.default=l},function(n,r,i){var o=this&&this.__extends||function(){var l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,h){u.__proto__=h}||function(u,h){for(var f in h)h.hasOwnProperty(f)&&(u[f]=h[f])};return function(u,h){l(u,h);function f(){this.constructor=u}u.prototype=h===null?Object.create(h):(f.prototype=h.prototype,new f)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(19),a=function(l){o(u,l);function u(){return l!==null&&l.apply(this,arguments)||this}return u.formats=function(h){},u.prototype.format=function(h,f){l.prototype.formatAt.call(this,0,this.length(),h,f)},u.prototype.formatAt=function(h,f,c,d){h===0&&f===this.length()?this.format(c,d):l.prototype.formatAt.call(this,h,f,c,d)},u.prototype.formats=function(){return this.statics.formats(this.domNode)},u}(s.default);r.default=a},function(n,r,i){var o=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,f){h.__proto__=f}||function(h,f){for(var c in f)f.hasOwnProperty(c)&&(h[c]=f[c])};return function(h,f){u(h,f);function c(){this.constructor=h}h.prototype=f===null?Object.create(f):(c.prototype=f.prototype,new c)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(19),a=i(1),l=function(u){o(h,u);function h(f){var c=u.call(this,f)||this;return c.text=c.statics.value(c.domNode),c}return h.create=function(f){return document.createTextNode(f)},h.value=function(f){var c=f.data;return c.normalize&&(c=c.normalize()),c},h.prototype.deleteAt=function(f,c){this.domNode.data=this.text=this.text.slice(0,f)+this.text.slice(f+c)},h.prototype.index=function(f,c){return this.domNode===f?c:-1},h.prototype.insertAt=function(f,c,d){d==null?(this.text=this.text.slice(0,f)+c+this.text.slice(f),this.domNode.data=this.text):u.prototype.insertAt.call(this,f,c,d)},h.prototype.length=function(){return this.text.length},h.prototype.optimize=function(f){u.prototype.optimize.call(this,f),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof h&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},h.prototype.position=function(f,c){return[this.domNode,f]},h.prototype.split=function(f,c){if(c===void 0&&(c=!1),!c){if(f===0)return this;if(f===this.length())return this.next}var d=a.create(this.domNode.splitText(f));return this.parent.insertBefore(d,this.next),this.text=this.statics.value(this.domNode),d},h.prototype.update=function(f,c){var d=this;f.some(function(_){return _.type==="characterData"&&_.target===d.domNode})&&(this.text=this.statics.value(this.domNode))},h.prototype.value=function(){return this.text},h.blotName="text",h.scope=a.Scope.INLINE_BLOT,h}(s.default);r.default=l},function(n,r,i){var o=document.createElement("div");if(o.classList.toggle("test-class",!1),o.classList.contains("test-class")){var s=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(a,l){return arguments.length>1&&!this.contains(a)==!l?l:s.call(this,a)}}String.prototype.startsWith||(String.prototype.startsWith=function(a,l){return l=l||0,this.substr(l,a.length)===a}),String.prototype.endsWith||(String.prototype.endsWith=function(a,l){var u=this.toString();(typeof l!="number"||!isFinite(l)||Math.floor(l)!==l||l>u.length)&&(l=u.length),l-=a.length;var h=u.indexOf(a,l);return h!==-1&&h===l}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(l){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof l!="function")throw new TypeError("predicate must be a function");for(var u=Object(this),h=u.length>>>0,f=arguments[1],c,d=0;d<h;d++)if(c=u[d],l.call(f,c,d,u))return c}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})},function(n,r){var i=-1,o=1,s=0;function a(g,w,A){if(g==w)return g?[[s,g]]:[];(A<0||g.length<A)&&(A=null);var T=f(g,w),S=g.substring(0,T);g=g.substring(T),w=w.substring(T),T=c(g,w);var k=g.substring(g.length-T);g=g.substring(0,g.length-T),w=w.substring(0,w.length-T);var b=l(g,w);return S&&b.unshift([s,S]),k&&b.push([s,k]),_(b),A!=null&&(b=m(b,A)),b=p(b),b}function l(g,w){var A;if(!g)return[[o,w]];if(!w)return[[i,g]];var T=g.length>w.length?g:w,S=g.length>w.length?w:g,k=T.indexOf(S);if(k!=-1)return A=[[o,T.substring(0,k)],[s,S],[o,T.substring(k+S.length)]],g.length>w.length&&(A[0][0]=A[2][0]=i),A;if(S.length==1)return[[i,g],[o,w]];var b=d(g,w);if(b){var I=b[0],O=b[1],R=b[2],C=b[3],M=b[4],$=a(I,R),D=a(O,C);return $.concat([[s,M]],D)}return u(g,w)}function u(g,w){for(var A=g.length,T=w.length,S=Math.ceil((A+T)/2),k=S,b=2*S,I=new Array(b),O=new Array(b),R=0;R<b;R++)I[R]=-1,O[R]=-1;I[k+1]=0,O[k+1]=0;for(var C=A-T,M=C%2!=0,$=0,D=0,j=0,F=0,N=0;N<S;N++){for(var P=-N+$;P<=N-D;P+=2){var x=k+P,V;P==-N||P!=N&&I[x-1]<I[x+1]?V=I[x+1]:V=I[x-1]+1;for(var q=V-P;V<A&&q<T&&g.charAt(V)==w.charAt(q);)V++,q++;if(I[x]=V,V>A)D+=2;else if(q>T)$+=2;else if(M){var B=k+C-P;if(B>=0&&B<b&&O[B]!=-1){var L=A-O[B];if(V>=L)return h(g,w,V,q)}}}for(var U=-N+j;U<=N-F;U+=2){var B=k+U,L;U==-N||U!=N&&O[B-1]<O[B+1]?L=O[B+1]:L=O[B-1]+1;for(var z=L-U;L<A&&z<T&&g.charAt(A-L-1)==w.charAt(T-z-1);)L++,z++;if(O[B]=L,L>A)F+=2;else if(z>T)j+=2;else if(!M){var x=k+C-U;if(x>=0&&x<b&&I[x]!=-1){var V=I[x],q=k+V-x;if(L=A-L,V>=L)return h(g,w,V,q)}}}}return[[i,g],[o,w]]}function h(g,w,A,T){var S=g.substring(0,A),k=w.substring(0,T),b=g.substring(A),I=w.substring(T),O=a(S,k),R=a(b,I);return O.concat(R)}function f(g,w){if(!g||!w||g.charAt(0)!=w.charAt(0))return 0;for(var A=0,T=Math.min(g.length,w.length),S=T,k=0;A<S;)g.substring(k,S)==w.substring(k,S)?(A=S,k=A):T=S,S=Math.floor((T-A)/2+A);return S}function c(g,w){if(!g||!w||g.charAt(g.length-1)!=w.charAt(w.length-1))return 0;for(var A=0,T=Math.min(g.length,w.length),S=T,k=0;A<S;)g.substring(g.length-S,g.length-k)==w.substring(w.length-S,w.length-k)?(A=S,k=A):T=S,S=Math.floor((T-A)/2+A);return S}function d(g,w){var A=g.length>w.length?g:w,T=g.length>w.length?w:g;if(A.length<4||T.length*2<A.length)return null;function S(D,j,F){for(var N=D.substring(F,F+Math.floor(D.length/4)),P=-1,x="",V,q,B,L;(P=j.indexOf(N,P+1))!=-1;){var U=f(D.substring(F),j.substring(P)),z=c(D.substring(0,F),j.substring(0,P));x.length<z+U&&(x=j.substring(P-z,P)+j.substring(P,P+U),V=D.substring(0,F-z),q=D.substring(F+U),B=j.substring(0,P-z),L=j.substring(P+U))}return x.length*2>=D.length?[V,q,B,L,x]:null}var k=S(A,T,Math.ceil(A.length/4)),b=S(A,T,Math.ceil(A.length/2)),I;if(!k&&!b)return null;b?k?I=k[4].length>b[4].length?k:b:I=b:I=k;var O,R,C,M;g.length>w.length?(O=I[0],R=I[1],C=I[2],M=I[3]):(C=I[0],M=I[1],O=I[2],R=I[3]);var $=I[4];return[O,R,C,M,$]}function _(g){g.push([s,""]);for(var w=0,A=0,T=0,S="",k="",b;w<g.length;)switch(g[w][0]){case o:T++,k+=g[w][1],w++;break;case i:A++,S+=g[w][1],w++;break;case s:A+T>1?(A!==0&&T!==0&&(b=f(k,S),b!==0&&(w-A-T>0&&g[w-A-T-1][0]==s?g[w-A-T-1][1]+=k.substring(0,b):(g.splice(0,0,[s,k.substring(0,b)]),w++),k=k.substring(b),S=S.substring(b)),b=c(k,S),b!==0&&(g[w][1]=k.substring(k.length-b)+g[w][1],k=k.substring(0,k.length-b),S=S.substring(0,S.length-b))),A===0?g.splice(w-T,A+T,[o,k]):T===0?g.splice(w-A,A+T,[i,S]):g.splice(w-A-T,A+T,[i,S],[o,k]),w=w-A-T+(A?1:0)+(T?1:0)+1):w!==0&&g[w-1][0]==s?(g[w-1][1]+=g[w][1],g.splice(w,1)):w++,T=0,A=0,S="",k="";break}g[g.length-1][1]===""&&g.pop();var I=!1;for(w=1;w<g.length-1;)g[w-1][0]==s&&g[w+1][0]==s&&(g[w][1].substring(g[w][1].length-g[w-1][1].length)==g[w-1][1]?(g[w][1]=g[w-1][1]+g[w][1].substring(0,g[w][1].length-g[w-1][1].length),g[w+1][1]=g[w-1][1]+g[w+1][1],g.splice(w-1,1),I=!0):g[w][1].substring(0,g[w+1][1].length)==g[w+1][1]&&(g[w-1][1]+=g[w+1][1],g[w][1]=g[w][1].substring(g[w+1][1].length)+g[w+1][1],g.splice(w+1,1),I=!0)),w++;I&&_(g)}var y=a;y.INSERT=o,y.DELETE=i,y.EQUAL=s,n.exports=y;function E(g,w){if(w===0)return[s,g];for(var A=0,T=0;T<g.length;T++){var S=g[T];if(S[0]===i||S[0]===s){var k=A+S[1].length;if(w===k)return[T+1,g];if(w<k){g=g.slice();var b=w-A,I=[S[0],S[1].slice(0,b)],O=[S[0],S[1].slice(b)];return g.splice(T,1,I,O),[T+1,g]}else A=k}}throw new Error("cursor_pos is out of bounds!")}function m(g,w){var A=E(g,w),T=A[1],S=A[0],k=T[S],b=T[S+1];if(k==null)return g;if(k[0]!==s)return g;if(b!=null&&k[1]+b[1]===b[1]+k[1])return T.splice(S,2,b,k),v(T,S,2);if(b!=null&&b[1].indexOf(k[1])===0){T.splice(S,2,[b[0],k[1]],[0,k[1]]);var I=b[1].slice(k[1].length);return I.length>0&&T.splice(S+2,0,[b[0],I]),v(T,S,3)}else return g}function p(g){for(var w=!1,A=function(b){return b.charCodeAt(0)>=56320&&b.charCodeAt(0)<=57343},T=function(b){return b.charCodeAt(b.length-1)>=55296&&b.charCodeAt(b.length-1)<=56319},S=2;S<g.length;S+=1)g[S-2][0]===s&&T(g[S-2][1])&&g[S-1][0]===i&&A(g[S-1][1])&&g[S][0]===o&&A(g[S][1])&&(w=!0,g[S-1][1]=g[S-2][1].slice(-1)+g[S-1][1],g[S][1]=g[S-2][1].slice(-1)+g[S][1],g[S-2][1]=g[S-2][1].slice(0,-1));if(!w)return g;for(var k=[],S=0;S<g.length;S+=1)g[S][1].length>0&&k.push(g[S]);return k}function v(g,w,A){for(var T=w+A-1;T>=0&&T>=w-1;T--)if(T+1<g.length){var S=g[T],k=g[T+1];S[0]===k[1]&&g.splice(T,2,[S[0],S[1]+k[1]])}return g}},function(n,r){r=n.exports=typeof Object.keys=="function"?Object.keys:i,r.shim=i;function i(o){var s=[];for(var a in o)s.push(a);return s}},function(n,r){var i=function(){return Object.prototype.toString.call(arguments)}()=="[object Arguments]";r=n.exports=i?o:s,r.supported=o;function o(a){return Object.prototype.toString.call(a)=="[object Arguments]"}r.unsupported=s;function s(a){return a&&typeof a=="object"&&typeof a.length=="number"&&Object.prototype.hasOwnProperty.call(a,"callee")&&!Object.prototype.propertyIsEnumerable.call(a,"callee")||!1}},function(n,r){var i=Object.prototype.hasOwnProperty,o="~";function s(){}Object.create&&(s.prototype=Object.create(null),new s().__proto__||(o=!1));function a(u,h,f){this.fn=u,this.context=h,this.once=f||!1}function l(){this._events=new s,this._eventsCount=0}l.prototype.eventNames=function(){var h=[],f,c;if(this._eventsCount===0)return h;for(c in f=this._events)i.call(f,c)&&h.push(o?c.slice(1):c);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(f)):h},l.prototype.listeners=function(h,f){var c=o?o+h:h,d=this._events[c];if(f)return!!d;if(!d)return[];if(d.fn)return[d.fn];for(var _=0,y=d.length,E=new Array(y);_<y;_++)E[_]=d[_].fn;return E},l.prototype.emit=function(h,f,c,d,_,y){var E=o?o+h:h;if(!this._events[E])return!1;var m=this._events[E],p=arguments.length,v,g;if(m.fn){switch(m.once&&this.removeListener(h,m.fn,void 0,!0),p){case 1:return m.fn.call(m.context),!0;case 2:return m.fn.call(m.context,f),!0;case 3:return m.fn.call(m.context,f,c),!0;case 4:return m.fn.call(m.context,f,c,d),!0;case 5:return m.fn.call(m.context,f,c,d,_),!0;case 6:return m.fn.call(m.context,f,c,d,_,y),!0}for(g=1,v=new Array(p-1);g<p;g++)v[g-1]=arguments[g];m.fn.apply(m.context,v)}else{var w=m.length,A;for(g=0;g<w;g++)switch(m[g].once&&this.removeListener(h,m[g].fn,void 0,!0),p){case 1:m[g].fn.call(m[g].context);break;case 2:m[g].fn.call(m[g].context,f);break;case 3:m[g].fn.call(m[g].context,f,c);break;case 4:m[g].fn.call(m[g].context,f,c,d);break;default:if(!v)for(A=1,v=new Array(p-1);A<p;A++)v[A-1]=arguments[A];m[g].fn.apply(m[g].context,v)}}return!0},l.prototype.on=function(h,f,c){var d=new a(f,c||this),_=o?o+h:h;return this._events[_]?this._events[_].fn?this._events[_]=[this._events[_],d]:this._events[_].push(d):(this._events[_]=d,this._eventsCount++),this},l.prototype.once=function(h,f,c){var d=new a(f,c||this,!0),_=o?o+h:h;return this._events[_]?this._events[_].fn?this._events[_]=[this._events[_],d]:this._events[_].push(d):(this._events[_]=d,this._eventsCount++),this},l.prototype.removeListener=function(h,f,c,d){var _=o?o+h:h;if(!this._events[_])return this;if(!f)return--this._eventsCount===0?this._events=new s:delete this._events[_],this;var y=this._events[_];if(y.fn)y.fn===f&&(!d||y.once)&&(!c||y.context===c)&&(--this._eventsCount===0?this._events=new s:delete this._events[_]);else{for(var E=0,m=[],p=y.length;E<p;E++)(y[E].fn!==f||d&&!y[E].once||c&&y[E].context!==c)&&m.push(y[E]);m.length?this._events[_]=m.length===1?m[0]:m:--this._eventsCount===0?this._events=new s:delete this._events[_]}return this},l.prototype.removeAllListeners=function(h){var f;return h?(f=o?o+h:h,this._events[f]&&(--this._eventsCount===0?this._events=new s:delete this._events[f])):(this._events=new s,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prototype.setMaxListeners=function(){return this},l.prefixed=o,l.EventEmitter=l,typeof n<"u"&&(n.exports=l)},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.matchText=r.matchSpacing=r.matchNewline=r.matchBlot=r.matchAttributor=r.default=void 0;var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(W){return typeof W}:function(W){return W&&typeof Symbol=="function"&&W.constructor===Symbol&&W!==Symbol.prototype?"symbol":typeof W},s=function(){function W(G,ne){var re=[],X=!0,ye=!1,_e=void 0;try{for(var we=G[Symbol.iterator](),Jt;!(X=(Jt=we.next()).done)&&(re.push(Jt.value),!(ne&&re.length===ne));X=!0);}catch(Hn){ye=!0,_e=Hn}finally{try{!X&&we.return&&we.return()}finally{if(ye)throw _e}}return re}return function(G,ne){if(Array.isArray(G))return G;if(Symbol.iterator in Object(G))return W(G,ne);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function W(G,ne){for(var re=0;re<ne.length;re++){var X=ne[re];X.enumerable=X.enumerable||!1,X.configurable=!0,"value"in X&&(X.writable=!0),Object.defineProperty(G,X.key,X)}}return function(G,ne,re){return ne&&W(G.prototype,ne),re&&W(G,re),G}}(),l=i(3),u=O(l),h=i(2),f=O(h),c=i(0),d=O(c),_=i(5),y=O(_),E=i(10),m=O(E),p=i(9),v=O(p),g=i(36),w=i(37),A=i(13),T=O(A),S=i(26),k=i(38),b=i(39),I=i(40);function O(W){return W&&W.__esModule?W:{default:W}}function R(W,G,ne){return G in W?Object.defineProperty(W,G,{value:ne,enumerable:!0,configurable:!0,writable:!0}):W[G]=ne,W}function C(W,G){if(!(W instanceof G))throw new TypeError("Cannot call a class as a function")}function M(W,G){if(!W)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return G&&(typeof G=="object"||typeof G=="function")?G:W}function $(W,G){if(typeof G!="function"&&G!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof G);W.prototype=Object.create(G&&G.prototype,{constructor:{value:W,enumerable:!1,writable:!0,configurable:!0}}),G&&(Object.setPrototypeOf?Object.setPrototypeOf(W,G):W.__proto__=G)}var D=(0,m.default)("quill:clipboard"),j="__ql-matcher",F=[[Node.TEXT_NODE,et],[Node.TEXT_NODE,Ie],["br",oe],[Node.ELEMENT_NODE,Ie],[Node.ELEMENT_NODE,Q],[Node.ELEMENT_NODE,Re],[Node.ELEMENT_NODE,H],[Node.ELEMENT_NODE,Ft],["li",ge],["b",z.bind(z,"bold")],["i",z.bind(z,"italic")],["style",fe]],N=[g.AlignAttribute,k.DirectionAttribute].reduce(function(W,G){return W[G.keyName]=G,W},{}),P=[g.AlignStyle,w.BackgroundStyle,S.ColorStyle,k.DirectionStyle,b.FontStyle,I.SizeStyle].reduce(function(W,G){return W[G.keyName]=G,W},{}),x=function(W){$(G,W);function G(ne,re){C(this,G);var X=M(this,(G.__proto__||Object.getPrototypeOf(G)).call(this,ne,re));return X.quill.root.addEventListener("paste",X.onPaste.bind(X)),X.container=X.quill.addContainer("ql-clipboard"),X.container.setAttribute("contenteditable",!0),X.container.setAttribute("tabindex",-1),X.matchers=[],F.concat(X.options.matchers).forEach(function(ye){var _e=s(ye,2),we=_e[0],Jt=_e[1];!re.matchVisual&&Jt===Re||X.addMatcher(we,Jt)}),X}return a(G,[{key:"addMatcher",value:function(re,X){this.matchers.push([re,X])}},{key:"convert",value:function(re){if(typeof re=="string")return this.container.innerHTML=re.replace(/\>\r?\n +\</g,"><"),this.convert();var X=this.quill.getFormat(this.quill.selection.savedRange.index);if(X[T.default.blotName]){var ye=this.container.innerText;return this.container.innerHTML="",new f.default().insert(ye,R({},T.default.blotName,X[T.default.blotName]))}var _e=this.prepareMatching(),we=s(_e,2),Jt=we[0],Hn=we[1],$e=U(this.container,Jt,Hn);return B($e,`
`)&&$e.ops[$e.ops.length-1].attributes==null&&($e=$e.compose(new f.default().retain($e.length()-1).delete(1))),D.log("convert",this.container.innerHTML,$e),this.container.innerHTML="",$e}},{key:"dangerouslyPasteHTML",value:function(re,X){var ye=arguments.length>2&&arguments[2]!==void 0?arguments[2]:y.default.sources.API;if(typeof re=="string")this.quill.setContents(this.convert(re),X),this.quill.setSelection(0,y.default.sources.SILENT);else{var _e=this.convert(X);this.quill.updateContents(new f.default().retain(re).concat(_e),ye),this.quill.setSelection(re+_e.length(),y.default.sources.SILENT)}}},{key:"onPaste",value:function(re){var X=this;if(!(re.defaultPrevented||!this.quill.isEnabled())){var ye=this.quill.getSelection(),_e=new f.default().retain(ye.index),we=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(y.default.sources.SILENT),setTimeout(function(){_e=_e.concat(X.convert()).delete(ye.length),X.quill.updateContents(_e,y.default.sources.USER),X.quill.setSelection(_e.length()-ye.length,y.default.sources.SILENT),X.quill.scrollingContainer.scrollTop=we,X.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var re=this,X=[],ye=[];return this.matchers.forEach(function(_e){var we=s(_e,2),Jt=we[0],Hn=we[1];switch(Jt){case Node.TEXT_NODE:ye.push(Hn);break;case Node.ELEMENT_NODE:X.push(Hn);break;default:[].forEach.call(re.container.querySelectorAll(Jt),function($e){$e[j]=$e[j]||[],$e[j].push(Hn)});break}}),[X,ye]}}]),G}(v.default);x.DEFAULTS={matchers:[],matchVisual:!0};function V(W,G,ne){return(typeof G>"u"?"undefined":o(G))==="object"?Object.keys(G).reduce(function(re,X){return V(re,X,G[X])},W):W.reduce(function(re,X){return X.attributes&&X.attributes[G]?re.push(X):re.insert(X.insert,(0,u.default)({},R({},G,ne),X.attributes))},new f.default)}function q(W){if(W.nodeType!==Node.ELEMENT_NODE)return{};var G="__ql-computed-style";return W[G]||(W[G]=window.getComputedStyle(W))}function B(W,G){for(var ne="",re=W.ops.length-1;re>=0&&ne.length<G.length;--re){var X=W.ops[re];if(typeof X.insert!="string")break;ne=X.insert+ne}return ne.slice(-1*G.length)===G}function L(W){if(W.childNodes.length===0)return!1;var G=q(W);return["block","list-item"].indexOf(G.display)>-1}function U(W,G,ne){return W.nodeType===W.TEXT_NODE?ne.reduce(function(re,X){return X(W,re)},new f.default):W.nodeType===W.ELEMENT_NODE?[].reduce.call(W.childNodes||[],function(re,X){var ye=U(X,G,ne);return X.nodeType===W.ELEMENT_NODE&&(ye=G.reduce(function(_e,we){return we(X,_e)},ye),ye=(X[j]||[]).reduce(function(_e,we){return we(X,_e)},ye)),re.concat(ye)},new f.default):new f.default}function z(W,G,ne){return V(ne,W,!0)}function H(W,G){var ne=d.default.Attributor.Attribute.keys(W),re=d.default.Attributor.Class.keys(W),X=d.default.Attributor.Style.keys(W),ye={};return ne.concat(re).concat(X).forEach(function(_e){var we=d.default.query(_e,d.default.Scope.ATTRIBUTE);we!=null&&(ye[we.attrName]=we.value(W),ye[we.attrName])||(we=N[_e],we!=null&&(we.attrName===_e||we.keyName===_e)&&(ye[we.attrName]=we.value(W)||void 0),we=P[_e],we!=null&&(we.attrName===_e||we.keyName===_e)&&(we=P[_e],ye[we.attrName]=we.value(W)||void 0))}),Object.keys(ye).length>0&&(G=V(G,ye)),G}function Q(W,G){var ne=d.default.query(W);if(ne==null)return G;if(ne.prototype instanceof d.default.Embed){var re={},X=ne.value(W);X!=null&&(re[ne.blotName]=X,G=new f.default().insert(re,ne.formats(W)))}else typeof ne.formats=="function"&&(G=V(G,ne.blotName,ne.formats(W)));return G}function oe(W,G){return B(G,`
`)||G.insert(`
`),G}function fe(){return new f.default}function ge(W,G){var ne=d.default.query(W);if(ne==null||ne.blotName!=="list-item"||!B(G,`
`))return G;for(var re=-1,X=W.parentNode;!X.classList.contains("ql-clipboard");)(d.default.query(X)||{}).blotName==="list"&&(re+=1),X=X.parentNode;return re<=0?G:G.compose(new f.default().retain(G.length()-1).retain(1,{indent:re}))}function Ie(W,G){return B(G,`
`)||(L(W)||G.length()>0&&W.nextSibling&&L(W.nextSibling))&&G.insert(`
`),G}function Re(W,G){if(L(W)&&W.nextElementSibling!=null&&!B(G,`

`)){var ne=W.offsetHeight+parseFloat(q(W).marginTop)+parseFloat(q(W).marginBottom);W.nextElementSibling.offsetTop>W.offsetTop+ne*1.5&&G.insert(`
`)}return G}function Ft(W,G){var ne={},re=W.style||{};return re.fontStyle&&q(W).fontStyle==="italic"&&(ne.italic=!0),re.fontWeight&&(q(W).fontWeight.startsWith("bold")||parseInt(q(W).fontWeight)>=700)&&(ne.bold=!0),Object.keys(ne).length>0&&(G=V(G,ne)),parseFloat(re.textIndent||0)>0&&(G=new f.default().insert("	").concat(G)),G}function et(W,G){var ne=W.data;if(W.parentNode.tagName==="O:P")return G.insert(ne.trim());if(ne.trim().length===0&&W.parentNode.classList.contains("ql-clipboard"))return G;if(!q(W.parentNode).whiteSpace.startsWith("pre")){var re=function(ye,_e){return _e=_e.replace(/[^\u00a0]/g,""),_e.length<1&&ye?" ":_e};ne=ne.replace(/\r\n/g," ").replace(/\n/g," "),ne=ne.replace(/\s\s+/g,re.bind(re,!0)),(W.previousSibling==null&&L(W.parentNode)||W.previousSibling!=null&&L(W.previousSibling))&&(ne=ne.replace(/^\s+/,re.bind(re,!1))),(W.nextSibling==null&&L(W.parentNode)||W.nextSibling!=null&&L(W.nextSibling))&&(ne=ne.replace(/\s+$/,re.bind(re,!1)))}return G.insert(ne)}r.default=x,r.matchAttributor=H,r.matchBlot=Q,r.matchNewline=Ie,r.matchSpacing=Re,r.matchText=et},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function _(y,E){for(var m=0;m<E.length;m++){var p=E[m];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(y,p.key,p)}}return function(y,E,m){return E&&_(y.prototype,E),m&&_(y,m),y}}(),s=function _(y,E,m){y===null&&(y=Function.prototype);var p=Object.getOwnPropertyDescriptor(y,E);if(p===void 0){var v=Object.getPrototypeOf(y);return v===null?void 0:_(v,E,m)}else{if("value"in p)return p.value;var g=p.get;return g===void 0?void 0:g.call(m)}},a=i(6),l=u(a);function u(_){return _&&_.__esModule?_:{default:_}}function h(_,y){if(!(_ instanceof y))throw new TypeError("Cannot call a class as a function")}function f(_,y){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:_}function c(_,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);_.prototype=Object.create(y&&y.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(_,y):_.__proto__=y)}var d=function(_){c(y,_);function y(){return h(this,y),f(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return o(y,[{key:"optimize",value:function(m){s(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"optimize",this).call(this,m),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return s(y.__proto__||Object.getPrototypeOf(y),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),y}(l.default);d.blotName="bold",d.tagName=["STRONG","B"],r.default=d},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.addControls=r.default=void 0;var o=function(){function I(O,R){var C=[],M=!0,$=!1,D=void 0;try{for(var j=O[Symbol.iterator](),F;!(M=(F=j.next()).done)&&(C.push(F.value),!(R&&C.length===R));M=!0);}catch(N){$=!0,D=N}finally{try{!M&&j.return&&j.return()}finally{if($)throw D}}return C}return function(O,R){if(Array.isArray(O))return O;if(Symbol.iterator in Object(O))return I(O,R);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function I(O,R){for(var C=0;C<R.length;C++){var M=R[C];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(O,M.key,M)}}return function(O,R,C){return R&&I(O.prototype,R),C&&I(O,C),O}}(),a=i(2),l=m(a),u=i(0),h=m(u),f=i(5),c=m(f),d=i(10),_=m(d),y=i(9),E=m(y);function m(I){return I&&I.__esModule?I:{default:I}}function p(I,O,R){return O in I?Object.defineProperty(I,O,{value:R,enumerable:!0,configurable:!0,writable:!0}):I[O]=R,I}function v(I,O){if(!(I instanceof O))throw new TypeError("Cannot call a class as a function")}function g(I,O){if(!I)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O&&(typeof O=="object"||typeof O=="function")?O:I}function w(I,O){if(typeof O!="function"&&O!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof O);I.prototype=Object.create(O&&O.prototype,{constructor:{value:I,enumerable:!1,writable:!0,configurable:!0}}),O&&(Object.setPrototypeOf?Object.setPrototypeOf(I,O):I.__proto__=O)}var A=(0,_.default)("quill:toolbar"),T=function(I){w(O,I);function O(R,C){v(this,O);var M=g(this,(O.__proto__||Object.getPrototypeOf(O)).call(this,R,C));if(Array.isArray(M.options.container)){var $=document.createElement("div");k($,M.options.container),R.container.parentNode.insertBefore($,R.container),M.container=$}else typeof M.options.container=="string"?M.container=document.querySelector(M.options.container):M.container=M.options.container;if(!(M.container instanceof HTMLElement)){var D;return D=A.error("Container required for toolbar",M.options),g(M,D)}return M.container.classList.add("ql-toolbar"),M.controls=[],M.handlers={},Object.keys(M.options.handlers).forEach(function(j){M.addHandler(j,M.options.handlers[j])}),[].forEach.call(M.container.querySelectorAll("button, select"),function(j){M.attach(j)}),M.quill.on(c.default.events.EDITOR_CHANGE,function(j,F){j===c.default.events.SELECTION_CHANGE&&M.update(F)}),M.quill.on(c.default.events.SCROLL_OPTIMIZE,function(){var j=M.quill.selection.getRange(),F=o(j,1),N=F[0];M.update(N)}),M}return s(O,[{key:"addHandler",value:function(C,M){this.handlers[C]=M}},{key:"attach",value:function(C){var M=this,$=[].find.call(C.classList,function(j){return j.indexOf("ql-")===0});if($){if($=$.slice(3),C.tagName==="BUTTON"&&C.setAttribute("type","button"),this.handlers[$]==null){if(this.quill.scroll.whitelist!=null&&this.quill.scroll.whitelist[$]==null){A.warn("ignoring attaching to disabled format",$,C);return}if(h.default.query($)==null){A.warn("ignoring attaching to nonexistent format",$,C);return}}var D=C.tagName==="SELECT"?"change":"click";C.addEventListener(D,function(j){var F=void 0;if(C.tagName==="SELECT"){if(C.selectedIndex<0)return;var N=C.options[C.selectedIndex];N.hasAttribute("selected")?F=!1:F=N.value||!1}else C.classList.contains("ql-active")?F=!1:F=C.value||!C.hasAttribute("value"),j.preventDefault();M.quill.focus();var P=M.quill.selection.getRange(),x=o(P,1),V=x[0];if(M.handlers[$]!=null)M.handlers[$].call(M,F);else if(h.default.query($).prototype instanceof h.default.Embed){if(F=prompt("Enter "+$),!F)return;M.quill.updateContents(new l.default().retain(V.index).delete(V.length).insert(p({},$,F)),c.default.sources.USER)}else M.quill.format($,F,c.default.sources.USER);M.update(V)}),this.controls.push([$,C])}}},{key:"update",value:function(C){var M=C==null?{}:this.quill.getFormat(C);this.controls.forEach(function($){var D=o($,2),j=D[0],F=D[1];if(F.tagName==="SELECT"){var N=void 0;if(C==null)N=null;else if(M[j]==null)N=F.querySelector("option[selected]");else if(!Array.isArray(M[j])){var P=M[j];typeof P=="string"&&(P=P.replace(/\"/g,'\\"')),N=F.querySelector('option[value="'+P+'"]')}N==null?(F.value="",F.selectedIndex=-1):N.selected=!0}else if(C==null)F.classList.remove("ql-active");else if(F.hasAttribute("value")){var x=M[j]===F.getAttribute("value")||M[j]!=null&&M[j].toString()===F.getAttribute("value")||M[j]==null&&!F.getAttribute("value");F.classList.toggle("ql-active",x)}else F.classList.toggle("ql-active",M[j]!=null)})}}]),O}(E.default);T.DEFAULTS={};function S(I,O,R){var C=document.createElement("button");C.setAttribute("type","button"),C.classList.add("ql-"+O),R!=null&&(C.value=R),I.appendChild(C)}function k(I,O){Array.isArray(O[0])||(O=[O]),O.forEach(function(R){var C=document.createElement("span");C.classList.add("ql-formats"),R.forEach(function(M){if(typeof M=="string")S(C,M);else{var $=Object.keys(M)[0],D=M[$];Array.isArray(D)?b(C,$,D):S(C,$,D)}}),I.appendChild(C)})}function b(I,O,R){var C=document.createElement("select");C.classList.add("ql-"+O),R.forEach(function(M){var $=document.createElement("option");M!==!1?$.setAttribute("value",M):$.setAttribute("selected","selected"),C.appendChild($)}),I.appendChild(C)}T.DEFAULTS={container:null,handlers:{clean:function(){var O=this,R=this.quill.getSelection();if(R!=null)if(R.length==0){var C=this.quill.getFormat();Object.keys(C).forEach(function(M){h.default.query(M,h.default.Scope.INLINE)!=null&&O.quill.format(M,!1)})}else this.quill.removeFormat(R,c.default.sources.USER)},direction:function(O){var R=this.quill.getFormat().align;O==="rtl"&&R==null?this.quill.format("align","right",c.default.sources.USER):!O&&R==="right"&&this.quill.format("align",!1,c.default.sources.USER),this.quill.format("direction",O,c.default.sources.USER)},indent:function(O){var R=this.quill.getSelection(),C=this.quill.getFormat(R),M=parseInt(C.indent||0);if(O==="+1"||O==="-1"){var $=O==="+1"?1:-1;C.direction==="rtl"&&($*=-1),this.quill.format("indent",M+$,c.default.sources.USER)}},link:function(O){O===!0&&(O=prompt("Enter link URL:")),this.quill.format("link",O,c.default.sources.USER)},list:function(O){var R=this.quill.getSelection(),C=this.quill.getFormat(R);O==="check"?C.list==="checked"||C.list==="unchecked"?this.quill.format("list",!1,c.default.sources.USER):this.quill.format("list","unchecked",c.default.sources.USER):this.quill.format("list",O,c.default.sources.USER)}}},r.default=T,r.addControls=k},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function _(y,E){for(var m=0;m<E.length;m++){var p=E[m];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(y,p.key,p)}}return function(y,E,m){return E&&_(y.prototype,E),m&&_(y,m),y}}(),s=function _(y,E,m){y===null&&(y=Function.prototype);var p=Object.getOwnPropertyDescriptor(y,E);if(p===void 0){var v=Object.getPrototypeOf(y);return v===null?void 0:_(v,E,m)}else{if("value"in p)return p.value;var g=p.get;return g===void 0?void 0:g.call(m)}},a=i(28),l=u(a);function u(_){return _&&_.__esModule?_:{default:_}}function h(_,y){if(!(_ instanceof y))throw new TypeError("Cannot call a class as a function")}function f(_,y){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:_}function c(_,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);_.prototype=Object.create(y&&y.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(_,y):_.__proto__=y)}var d=function(_){c(y,_);function y(E,m){h(this,y);var p=f(this,(y.__proto__||Object.getPrototypeOf(y)).call(this,E));return p.label.innerHTML=m,p.container.classList.add("ql-color-picker"),[].slice.call(p.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(v){v.classList.add("ql-primary")}),p}return o(y,[{key:"buildItem",value:function(m){var p=s(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"buildItem",this).call(this,m);return p.style.backgroundColor=m.getAttribute("value")||"",p}},{key:"selectItem",value:function(m,p){s(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"selectItem",this).call(this,m,p);var v=this.label.querySelector(".ql-color-label"),g=m&&m.getAttribute("data-value")||"";v&&(v.tagName==="line"?v.style.stroke=g:v.style.fill=g)}}]),y}(l.default);r.default=d},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function _(y,E){for(var m=0;m<E.length;m++){var p=E[m];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(y,p.key,p)}}return function(y,E,m){return E&&_(y.prototype,E),m&&_(y,m),y}}(),s=function _(y,E,m){y===null&&(y=Function.prototype);var p=Object.getOwnPropertyDescriptor(y,E);if(p===void 0){var v=Object.getPrototypeOf(y);return v===null?void 0:_(v,E,m)}else{if("value"in p)return p.value;var g=p.get;return g===void 0?void 0:g.call(m)}},a=i(28),l=u(a);function u(_){return _&&_.__esModule?_:{default:_}}function h(_,y){if(!(_ instanceof y))throw new TypeError("Cannot call a class as a function")}function f(_,y){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:_}function c(_,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);_.prototype=Object.create(y&&y.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(_,y):_.__proto__=y)}var d=function(_){c(y,_);function y(E,m){h(this,y);var p=f(this,(y.__proto__||Object.getPrototypeOf(y)).call(this,E));return p.container.classList.add("ql-icon-picker"),[].forEach.call(p.container.querySelectorAll(".ql-picker-item"),function(v){v.innerHTML=m[v.getAttribute("data-value")||""]}),p.defaultItem=p.container.querySelector(".ql-selected"),p.selectItem(p.defaultItem),p}return o(y,[{key:"selectItem",value:function(m,p){s(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"selectItem",this).call(this,m,p),m=m||this.defaultItem,this.label.innerHTML=m.innerHTML}}]),y}(l.default);r.default=d},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function l(u,h){for(var f=0;f<h.length;f++){var c=h[f];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(u,c.key,c)}}return function(u,h,f){return h&&l(u.prototype,h),f&&l(u,f),u}}();function s(l,u){if(!(l instanceof u))throw new TypeError("Cannot call a class as a function")}var a=function(){function l(u,h){var f=this;s(this,l),this.quill=u,this.boundsContainer=h||document.body,this.root=u.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){f.root.style.marginTop=-1*f.quill.root.scrollTop+"px"}),this.hide()}return o(l,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(h){var f=h.left+h.width/2-this.root.offsetWidth/2,c=h.bottom+this.quill.root.scrollTop;this.root.style.left=f+"px",this.root.style.top=c+"px",this.root.classList.remove("ql-flip");var d=this.boundsContainer.getBoundingClientRect(),_=this.root.getBoundingClientRect(),y=0;if(_.right>d.right&&(y=d.right-_.right,this.root.style.left=f+y+"px"),_.left<d.left&&(y=d.left-_.left,this.root.style.left=f+y+"px"),_.bottom>d.bottom){var E=_.bottom-_.top,m=h.bottom-h.top+E;this.root.style.top=c-m+"px",this.root.classList.add("ql-flip")}return y}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),l}();r.default=a},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function b(I,O){var R=[],C=!0,M=!1,$=void 0;try{for(var D=I[Symbol.iterator](),j;!(C=(j=D.next()).done)&&(R.push(j.value),!(O&&R.length===O));C=!0);}catch(F){M=!0,$=F}finally{try{!C&&D.return&&D.return()}finally{if(M)throw $}}return R}return function(I,O){if(Array.isArray(I))return I;if(Symbol.iterator in Object(I))return b(I,O);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function b(I,O,R){I===null&&(I=Function.prototype);var C=Object.getOwnPropertyDescriptor(I,O);if(C===void 0){var M=Object.getPrototypeOf(I);return M===null?void 0:b(M,O,R)}else{if("value"in C)return C.value;var $=C.get;return $===void 0?void 0:$.call(R)}},a=function(){function b(I,O){for(var R=0;R<O.length;R++){var C=O[R];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(I,C.key,C)}}return function(I,O,R){return O&&b(I.prototype,O),R&&b(I,R),I}}(),l=i(3),u=v(l),h=i(8),f=v(h),c=i(43),d=v(c),_=i(27),y=v(_),E=i(15),m=i(41),p=v(m);function v(b){return b&&b.__esModule?b:{default:b}}function g(b,I){if(!(b instanceof I))throw new TypeError("Cannot call a class as a function")}function w(b,I){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return I&&(typeof I=="object"||typeof I=="function")?I:b}function A(b,I){if(typeof I!="function"&&I!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof I);b.prototype=Object.create(I&&I.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),I&&(Object.setPrototypeOf?Object.setPrototypeOf(b,I):b.__proto__=I)}var T=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],S=function(b){A(I,b);function I(O,R){g(this,I),R.modules.toolbar!=null&&R.modules.toolbar.container==null&&(R.modules.toolbar.container=T);var C=w(this,(I.__proto__||Object.getPrototypeOf(I)).call(this,O,R));return C.quill.container.classList.add("ql-snow"),C}return a(I,[{key:"extendToolbar",value:function(R){R.container.classList.add("ql-snow"),this.buildButtons([].slice.call(R.container.querySelectorAll("button")),p.default),this.buildPickers([].slice.call(R.container.querySelectorAll("select")),p.default),this.tooltip=new k(this.quill,this.options.bounds),R.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(C,M){R.handlers.link.call(R,!M.format.link)})}}]),I}(d.default);S.DEFAULTS=(0,u.default)(!0,{},d.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(I){if(I){var O=this.quill.getSelection();if(O==null||O.length==0)return;var R=this.quill.getText(O);/^\S+@\S+\.\S+$/.test(R)&&R.indexOf("mailto:")!==0&&(R="mailto:"+R);var C=this.quill.theme.tooltip;C.edit("link",R)}else this.quill.format("link",!1)}}}}});var k=function(b){A(I,b);function I(O,R){g(this,I);var C=w(this,(I.__proto__||Object.getPrototypeOf(I)).call(this,O,R));return C.preview=C.root.querySelector("a.ql-preview"),C}return a(I,[{key:"listen",value:function(){var R=this;s(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(C){R.root.classList.contains("ql-editing")?R.save():R.edit("link",R.preview.textContent),C.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(C){if(R.linkRange!=null){var M=R.linkRange;R.restoreFocus(),R.quill.formatText(M,"link",!1,f.default.sources.USER),delete R.linkRange}C.preventDefault(),R.hide()}),this.quill.on(f.default.events.SELECTION_CHANGE,function(C,M,$){if(C!=null){if(C.length===0&&$===f.default.sources.USER){var D=R.quill.scroll.descendant(y.default,C.index),j=o(D,2),F=j[0],N=j[1];if(F!=null){R.linkRange=new E.Range(C.index-N,F.length());var P=y.default.formats(F.domNode);R.preview.textContent=P,R.preview.setAttribute("href",P),R.show(),R.position(R.quill.getBounds(R.linkRange));return}}else delete R.linkRange;R.hide()}})}},{key:"show",value:function(){s(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),I}(c.BaseTooltip);k.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),r.default=S},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(29),s=X(o),a=i(36),l=i(38),u=i(64),h=i(65),f=X(h),c=i(66),d=X(c),_=i(67),y=X(_),E=i(37),m=i(26),p=i(39),v=i(40),g=i(56),w=X(g),A=i(68),T=X(A),S=i(27),k=X(S),b=i(69),I=X(b),O=i(70),R=X(O),C=i(71),M=X(C),$=i(72),D=X($),j=i(73),F=X(j),N=i(13),P=X(N),x=i(74),V=X(x),q=i(75),B=X(q),L=i(57),U=X(L),z=i(41),H=X(z),Q=i(28),oe=X(Q),fe=i(59),ge=X(fe),Ie=i(60),Re=X(Ie),Ft=i(61),et=X(Ft),W=i(108),G=X(W),ne=i(62),re=X(ne);function X(ye){return ye&&ye.__esModule?ye:{default:ye}}s.default.register({"attributors/attribute/direction":l.DirectionAttribute,"attributors/class/align":a.AlignClass,"attributors/class/background":E.BackgroundClass,"attributors/class/color":m.ColorClass,"attributors/class/direction":l.DirectionClass,"attributors/class/font":p.FontClass,"attributors/class/size":v.SizeClass,"attributors/style/align":a.AlignStyle,"attributors/style/background":E.BackgroundStyle,"attributors/style/color":m.ColorStyle,"attributors/style/direction":l.DirectionStyle,"attributors/style/font":p.FontStyle,"attributors/style/size":v.SizeStyle},!0),s.default.register({"formats/align":a.AlignClass,"formats/direction":l.DirectionClass,"formats/indent":u.IndentClass,"formats/background":E.BackgroundStyle,"formats/color":m.ColorStyle,"formats/font":p.FontClass,"formats/size":v.SizeClass,"formats/blockquote":f.default,"formats/code-block":P.default,"formats/header":d.default,"formats/list":y.default,"formats/bold":w.default,"formats/code":N.Code,"formats/italic":T.default,"formats/link":k.default,"formats/script":I.default,"formats/strike":R.default,"formats/underline":M.default,"formats/image":D.default,"formats/video":F.default,"formats/list/item":_.ListItem,"modules/formula":V.default,"modules/syntax":B.default,"modules/toolbar":U.default,"themes/bubble":G.default,"themes/snow":re.default,"ui/icons":H.default,"ui/picker":oe.default,"ui/icon-picker":Re.default,"ui/color-picker":ge.default,"ui/tooltip":et.default},!0),r.default=s.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.IndentClass=void 0;var o=function(){function y(E,m){for(var p=0;p<m.length;p++){var v=m[p];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(E,v.key,v)}}return function(E,m,p){return m&&y(E.prototype,m),p&&y(E,p),E}}(),s=function y(E,m,p){E===null&&(E=Function.prototype);var v=Object.getOwnPropertyDescriptor(E,m);if(v===void 0){var g=Object.getPrototypeOf(E);return g===null?void 0:y(g,m,p)}else{if("value"in v)return v.value;var w=v.get;return w===void 0?void 0:w.call(p)}},a=i(0),l=u(a);function u(y){return y&&y.__esModule?y:{default:y}}function h(y,E){if(!(y instanceof E))throw new TypeError("Cannot call a class as a function")}function f(y,E){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:y}function c(y,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);y.prototype=Object.create(E&&E.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(y,E):y.__proto__=E)}var d=function(y){c(E,y);function E(){return h(this,E),f(this,(E.__proto__||Object.getPrototypeOf(E)).apply(this,arguments))}return o(E,[{key:"add",value:function(p,v){if(v==="+1"||v==="-1"){var g=this.value(p)||0;v=v==="+1"?g+1:g-1}return v===0?(this.remove(p),!0):s(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"add",this).call(this,p,v)}},{key:"canAdd",value:function(p,v){return s(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"canAdd",this).call(this,p,v)||s(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"canAdd",this).call(this,p,parseInt(v))}},{key:"value",value:function(p){return parseInt(s(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"value",this).call(this,p))||void 0}}]),E}(l.default.Attributor.Class),_=new d("indent","ql-indent",{scope:l.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});r.IndentClass=_},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(4),s=a(o);function a(c){return c&&c.__esModule?c:{default:c}}function l(c,d){if(!(c instanceof d))throw new TypeError("Cannot call a class as a function")}function u(c,d){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d&&(typeof d=="object"||typeof d=="function")?d:c}function h(c,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof d);c.prototype=Object.create(d&&d.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(c,d):c.__proto__=d)}var f=function(c){h(d,c);function d(){return l(this,d),u(this,(d.__proto__||Object.getPrototypeOf(d)).apply(this,arguments))}return d}(s.default);f.blotName="blockquote",f.tagName="blockquote",r.default=f},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function d(_,y){for(var E=0;E<y.length;E++){var m=y[E];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(_,m.key,m)}}return function(_,y,E){return y&&d(_.prototype,y),E&&d(_,E),_}}(),s=i(4),a=l(s);function l(d){return d&&d.__esModule?d:{default:d}}function u(d,_){if(!(d instanceof _))throw new TypeError("Cannot call a class as a function")}function h(d,_){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:d}function f(d,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);d.prototype=Object.create(_&&_.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(d,_):d.__proto__=_)}var c=function(d){f(_,d);function _(){return u(this,_),h(this,(_.__proto__||Object.getPrototypeOf(_)).apply(this,arguments))}return o(_,null,[{key:"formats",value:function(E){return this.tagName.indexOf(E.tagName)+1}}]),_}(a.default);c.blotName="header",c.tagName=["H1","H2","H3","H4","H5","H6"],r.default=c},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.ListItem=void 0;var o=function(){function g(w,A){for(var T=0;T<A.length;T++){var S=A[T];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(w,S.key,S)}}return function(w,A,T){return A&&g(w.prototype,A),T&&g(w,T),w}}(),s=function g(w,A,T){w===null&&(w=Function.prototype);var S=Object.getOwnPropertyDescriptor(w,A);if(S===void 0){var k=Object.getPrototypeOf(w);return k===null?void 0:g(k,A,T)}else{if("value"in S)return S.value;var b=S.get;return b===void 0?void 0:b.call(T)}},a=i(0),l=d(a),u=i(4),h=d(u),f=i(25),c=d(f);function d(g){return g&&g.__esModule?g:{default:g}}function _(g,w,A){return w in g?Object.defineProperty(g,w,{value:A,enumerable:!0,configurable:!0,writable:!0}):g[w]=A,g}function y(g,w){if(!(g instanceof w))throw new TypeError("Cannot call a class as a function")}function E(g,w){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:g}function m(g,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);g.prototype=Object.create(w&&w.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(g,w):g.__proto__=w)}var p=function(g){m(w,g);function w(){return y(this,w),E(this,(w.__proto__||Object.getPrototypeOf(w)).apply(this,arguments))}return o(w,[{key:"format",value:function(T,S){T===v.blotName&&!S?this.replaceWith(l.default.create(this.statics.scope)):s(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"format",this).call(this,T,S)}},{key:"remove",value:function(){this.prev==null&&this.next==null?this.parent.remove():s(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(T,S){return this.parent.isolate(this.offset(this.parent),this.length()),T===this.parent.statics.blotName?(this.parent.replaceWith(T,S),this):(this.parent.unwrap(),s(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"replaceWith",this).call(this,T,S))}}],[{key:"formats",value:function(T){return T.tagName===this.tagName?void 0:s(w.__proto__||Object.getPrototypeOf(w),"formats",this).call(this,T)}}]),w}(h.default);p.blotName="list-item",p.tagName="LI";var v=function(g){m(w,g),o(w,null,[{key:"create",value:function(T){var S=T==="ordered"?"OL":"UL",k=s(w.__proto__||Object.getPrototypeOf(w),"create",this).call(this,S);return(T==="checked"||T==="unchecked")&&k.setAttribute("data-checked",T==="checked"),k}},{key:"formats",value:function(T){if(T.tagName==="OL")return"ordered";if(T.tagName==="UL")return T.hasAttribute("data-checked")?T.getAttribute("data-checked")==="true"?"checked":"unchecked":"bullet"}}]);function w(A){y(this,w);var T=E(this,(w.__proto__||Object.getPrototypeOf(w)).call(this,A)),S=function(b){if(b.target.parentNode===A){var I=T.statics.formats(A),O=l.default.find(b.target);I==="checked"?O.format("list","unchecked"):I==="unchecked"&&O.format("list","checked")}};return A.addEventListener("touchstart",S),A.addEventListener("mousedown",S),T}return o(w,[{key:"format",value:function(T,S){this.children.length>0&&this.children.tail.format(T,S)}},{key:"formats",value:function(){return _({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(T,S){if(T instanceof p)s(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"insertBefore",this).call(this,T,S);else{var k=S==null?this.length():S.offset(this),b=this.split(k);b.parent.insertBefore(T,b)}}},{key:"optimize",value:function(T){s(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"optimize",this).call(this,T);var S=this.next;S!=null&&S.prev===this&&S.statics.blotName===this.statics.blotName&&S.domNode.tagName===this.domNode.tagName&&S.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(S.moveChildren(this),S.remove())}},{key:"replace",value:function(T){if(T.statics.blotName!==this.statics.blotName){var S=l.default.create(this.statics.defaultChild);T.moveChildren(S),this.appendChild(S)}s(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"replace",this).call(this,T)}}]),w}(c.default);v.blotName="list",v.scope=l.default.Scope.BLOCK_BLOT,v.tagName=["OL","UL"],v.defaultChild="list-item",v.allowedChildren=[p],r.ListItem=p,r.default=v},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(56),s=a(o);function a(c){return c&&c.__esModule?c:{default:c}}function l(c,d){if(!(c instanceof d))throw new TypeError("Cannot call a class as a function")}function u(c,d){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d&&(typeof d=="object"||typeof d=="function")?d:c}function h(c,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof d);c.prototype=Object.create(d&&d.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(c,d):c.__proto__=d)}var f=function(c){h(d,c);function d(){return l(this,d),u(this,(d.__proto__||Object.getPrototypeOf(d)).apply(this,arguments))}return d}(s.default);f.blotName="italic",f.tagName=["EM","I"],r.default=f},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function _(y,E){for(var m=0;m<E.length;m++){var p=E[m];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(y,p.key,p)}}return function(y,E,m){return E&&_(y.prototype,E),m&&_(y,m),y}}(),s=function _(y,E,m){y===null&&(y=Function.prototype);var p=Object.getOwnPropertyDescriptor(y,E);if(p===void 0){var v=Object.getPrototypeOf(y);return v===null?void 0:_(v,E,m)}else{if("value"in p)return p.value;var g=p.get;return g===void 0?void 0:g.call(m)}},a=i(6),l=u(a);function u(_){return _&&_.__esModule?_:{default:_}}function h(_,y){if(!(_ instanceof y))throw new TypeError("Cannot call a class as a function")}function f(_,y){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:_}function c(_,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);_.prototype=Object.create(y&&y.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(_,y):_.__proto__=y)}var d=function(_){c(y,_);function y(){return h(this,y),f(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return o(y,null,[{key:"create",value:function(m){return m==="super"?document.createElement("sup"):m==="sub"?document.createElement("sub"):s(y.__proto__||Object.getPrototypeOf(y),"create",this).call(this,m)}},{key:"formats",value:function(m){if(m.tagName==="SUB")return"sub";if(m.tagName==="SUP")return"super"}}]),y}(l.default);d.blotName="script",d.tagName=["SUB","SUP"],r.default=d},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(6),s=a(o);function a(c){return c&&c.__esModule?c:{default:c}}function l(c,d){if(!(c instanceof d))throw new TypeError("Cannot call a class as a function")}function u(c,d){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d&&(typeof d=="object"||typeof d=="function")?d:c}function h(c,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof d);c.prototype=Object.create(d&&d.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(c,d):c.__proto__=d)}var f=function(c){h(d,c);function d(){return l(this,d),u(this,(d.__proto__||Object.getPrototypeOf(d)).apply(this,arguments))}return d}(s.default);f.blotName="strike",f.tagName="S",r.default=f},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(6),s=a(o);function a(c){return c&&c.__esModule?c:{default:c}}function l(c,d){if(!(c instanceof d))throw new TypeError("Cannot call a class as a function")}function u(c,d){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d&&(typeof d=="object"||typeof d=="function")?d:c}function h(c,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof d);c.prototype=Object.create(d&&d.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(c,d):c.__proto__=d)}var f=function(c){h(d,c);function d(){return l(this,d),u(this,(d.__proto__||Object.getPrototypeOf(d)).apply(this,arguments))}return d}(s.default);f.blotName="underline",f.tagName="U",r.default=f},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function E(m,p){for(var v=0;v<p.length;v++){var g=p[v];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(m,g.key,g)}}return function(m,p,v){return p&&E(m.prototype,p),v&&E(m,v),m}}(),s=function E(m,p,v){m===null&&(m=Function.prototype);var g=Object.getOwnPropertyDescriptor(m,p);if(g===void 0){var w=Object.getPrototypeOf(m);return w===null?void 0:E(w,p,v)}else{if("value"in g)return g.value;var A=g.get;return A===void 0?void 0:A.call(v)}},a=i(0),l=h(a),u=i(27);function h(E){return E&&E.__esModule?E:{default:E}}function f(E,m){if(!(E instanceof m))throw new TypeError("Cannot call a class as a function")}function c(E,m){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:E}function d(E,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);E.prototype=Object.create(m&&m.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(E,m):E.__proto__=m)}var _=["alt","height","width"],y=function(E){d(m,E);function m(){return f(this,m),c(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return o(m,[{key:"format",value:function(v,g){_.indexOf(v)>-1?g?this.domNode.setAttribute(v,g):this.domNode.removeAttribute(v):s(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"format",this).call(this,v,g)}}],[{key:"create",value:function(v){var g=s(m.__proto__||Object.getPrototypeOf(m),"create",this).call(this,v);return typeof v=="string"&&g.setAttribute("src",this.sanitize(v)),g}},{key:"formats",value:function(v){return _.reduce(function(g,w){return v.hasAttribute(w)&&(g[w]=v.getAttribute(w)),g},{})}},{key:"match",value:function(v){return/\.(jpe?g|gif|png)$/.test(v)||/^data:image\/.+;base64/.test(v)}},{key:"sanitize",value:function(v){return(0,u.sanitize)(v,["http","https","data"])?v:"//:0"}},{key:"value",value:function(v){return v.getAttribute("src")}}]),m}(l.default.Embed);y.blotName="image",y.tagName="IMG",r.default=y},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function E(m,p){for(var v=0;v<p.length;v++){var g=p[v];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(m,g.key,g)}}return function(m,p,v){return p&&E(m.prototype,p),v&&E(m,v),m}}(),s=function E(m,p,v){m===null&&(m=Function.prototype);var g=Object.getOwnPropertyDescriptor(m,p);if(g===void 0){var w=Object.getPrototypeOf(m);return w===null?void 0:E(w,p,v)}else{if("value"in g)return g.value;var A=g.get;return A===void 0?void 0:A.call(v)}},a=i(4),l=i(27),u=h(l);function h(E){return E&&E.__esModule?E:{default:E}}function f(E,m){if(!(E instanceof m))throw new TypeError("Cannot call a class as a function")}function c(E,m){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:E}function d(E,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);E.prototype=Object.create(m&&m.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(E,m):E.__proto__=m)}var _=["height","width"],y=function(E){d(m,E);function m(){return f(this,m),c(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return o(m,[{key:"format",value:function(v,g){_.indexOf(v)>-1?g?this.domNode.setAttribute(v,g):this.domNode.removeAttribute(v):s(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"format",this).call(this,v,g)}}],[{key:"create",value:function(v){var g=s(m.__proto__||Object.getPrototypeOf(m),"create",this).call(this,v);return g.setAttribute("frameborder","0"),g.setAttribute("allowfullscreen",!0),g.setAttribute("src",this.sanitize(v)),g}},{key:"formats",value:function(v){return _.reduce(function(g,w){return v.hasAttribute(w)&&(g[w]=v.getAttribute(w)),g},{})}},{key:"sanitize",value:function(v){return u.default.sanitize(v)}},{key:"value",value:function(v){return v.getAttribute("src")}}]),m}(a.BlockEmbed);y.blotName="video",y.className="ql-video",y.tagName="IFRAME",r.default=y},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.FormulaBlot=void 0;var o=function(){function v(g,w){for(var A=0;A<w.length;A++){var T=w[A];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(g,T.key,T)}}return function(g,w,A){return w&&v(g.prototype,w),A&&v(g,A),g}}(),s=function v(g,w,A){g===null&&(g=Function.prototype);var T=Object.getOwnPropertyDescriptor(g,w);if(T===void 0){var S=Object.getPrototypeOf(g);return S===null?void 0:v(S,w,A)}else{if("value"in T)return T.value;var k=T.get;return k===void 0?void 0:k.call(A)}},a=i(35),l=d(a),u=i(5),h=d(u),f=i(9),c=d(f);function d(v){return v&&v.__esModule?v:{default:v}}function _(v,g){if(!(v instanceof g))throw new TypeError("Cannot call a class as a function")}function y(v,g){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:v}function E(v,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);v.prototype=Object.create(g&&g.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(v,g):v.__proto__=g)}var m=function(v){E(g,v);function g(){return _(this,g),y(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return o(g,null,[{key:"create",value:function(A){var T=s(g.__proto__||Object.getPrototypeOf(g),"create",this).call(this,A);return typeof A=="string"&&(window.katex.render(A,T,{throwOnError:!1,errorColor:"#f00"}),T.setAttribute("data-value",A)),T}},{key:"value",value:function(A){return A.getAttribute("data-value")}}]),g}(l.default);m.blotName="formula",m.className="ql-formula",m.tagName="SPAN";var p=function(v){E(g,v),o(g,null,[{key:"register",value:function(){h.default.register(m,!0)}}]);function g(){_(this,g);var w=y(this,(g.__proto__||Object.getPrototypeOf(g)).call(this));if(window.katex==null)throw new Error("Formula module requires KaTeX.");return w}return g}(c.default);r.FormulaBlot=m,r.default=p},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.CodeToken=r.CodeBlock=void 0;var o=function(){function A(T,S){for(var k=0;k<S.length;k++){var b=S[k];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(T,b.key,b)}}return function(T,S,k){return S&&A(T.prototype,S),k&&A(T,k),T}}(),s=function A(T,S,k){T===null&&(T=Function.prototype);var b=Object.getOwnPropertyDescriptor(T,S);if(b===void 0){var I=Object.getPrototypeOf(T);return I===null?void 0:A(I,S,k)}else{if("value"in b)return b.value;var O=b.get;return O===void 0?void 0:O.call(k)}},a=i(0),l=y(a),u=i(5),h=y(u),f=i(9),c=y(f),d=i(13),_=y(d);function y(A){return A&&A.__esModule?A:{default:A}}function E(A,T){if(!(A instanceof T))throw new TypeError("Cannot call a class as a function")}function m(A,T){if(!A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T&&(typeof T=="object"||typeof T=="function")?T:A}function p(A,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof T);A.prototype=Object.create(T&&T.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(A,T):A.__proto__=T)}var v=function(A){p(T,A);function T(){return E(this,T),m(this,(T.__proto__||Object.getPrototypeOf(T)).apply(this,arguments))}return o(T,[{key:"replaceWith",value:function(k){this.domNode.textContent=this.domNode.textContent,this.attach(),s(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"replaceWith",this).call(this,k)}},{key:"highlight",value:function(k){var b=this.domNode.textContent;this.cachedText!==b&&((b.trim().length>0||this.cachedText==null)&&(this.domNode.innerHTML=k(b),this.domNode.normalize(),this.attach()),this.cachedText=b)}}]),T}(_.default);v.className="ql-syntax";var g=new l.default.Attributor.Class("token","hljs",{scope:l.default.Scope.INLINE}),w=function(A){p(T,A),o(T,null,[{key:"register",value:function(){h.default.register(g,!0),h.default.register(v,!0)}}]);function T(S,k){E(this,T);var b=m(this,(T.__proto__||Object.getPrototypeOf(T)).call(this,S,k));if(typeof b.options.highlight!="function")throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var I=null;return b.quill.on(h.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(I),I=setTimeout(function(){b.highlight(),I=null},b.options.interval)}),b.highlight(),b}return o(T,[{key:"highlight",value:function(){var k=this;if(!this.quill.selection.composing){this.quill.update(h.default.sources.USER);var b=this.quill.getSelection();this.quill.scroll.descendants(v).forEach(function(I){I.highlight(k.options.highlight)}),this.quill.update(h.default.sources.SILENT),b!=null&&this.quill.setSelection(b,h.default.sources.SILENT)}}}]),T}(c.default);w.DEFAULTS={highlight:function(){return window.hljs==null?null:function(A){var T=window.hljs.highlightAuto(A);return T.value}}(),interval:1e3},r.CodeBlock=v,r.CodeToken=g,r.default=w},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(n,r){n.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(n,r){n.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(n,r){n.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(n,r){n.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BubbleTooltip=void 0;var o=function T(S,k,b){S===null&&(S=Function.prototype);var I=Object.getOwnPropertyDescriptor(S,k);if(I===void 0){var O=Object.getPrototypeOf(S);return O===null?void 0:T(O,k,b)}else{if("value"in I)return I.value;var R=I.get;return R===void 0?void 0:R.call(b)}},s=function(){function T(S,k){for(var b=0;b<k.length;b++){var I=k[b];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(S,I.key,I)}}return function(S,k,b){return k&&T(S.prototype,k),b&&T(S,b),S}}(),a=i(3),l=E(a),u=i(8),h=E(u),f=i(43),c=E(f),d=i(15),_=i(41),y=E(_);function E(T){return T&&T.__esModule?T:{default:T}}function m(T,S){if(!(T instanceof S))throw new TypeError("Cannot call a class as a function")}function p(T,S){if(!T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S&&(typeof S=="object"||typeof S=="function")?S:T}function v(T,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof S);T.prototype=Object.create(S&&S.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(T,S):T.__proto__=S)}var g=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],w=function(T){v(S,T);function S(k,b){m(this,S),b.modules.toolbar!=null&&b.modules.toolbar.container==null&&(b.modules.toolbar.container=g);var I=p(this,(S.__proto__||Object.getPrototypeOf(S)).call(this,k,b));return I.quill.container.classList.add("ql-bubble"),I}return s(S,[{key:"extendToolbar",value:function(b){this.tooltip=new A(this.quill,this.options.bounds),this.tooltip.root.appendChild(b.container),this.buildButtons([].slice.call(b.container.querySelectorAll("button")),y.default),this.buildPickers([].slice.call(b.container.querySelectorAll("select")),y.default)}}]),S}(c.default);w.DEFAULTS=(0,l.default)(!0,{},c.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(S){S?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var A=function(T){v(S,T);function S(k,b){m(this,S);var I=p(this,(S.__proto__||Object.getPrototypeOf(S)).call(this,k,b));return I.quill.on(h.default.events.EDITOR_CHANGE,function(O,R,C,M){if(O===h.default.events.SELECTION_CHANGE)if(R!=null&&R.length>0&&M===h.default.sources.USER){I.show(),I.root.style.left="0px",I.root.style.width="",I.root.style.width=I.root.offsetWidth+"px";var $=I.quill.getLines(R.index,R.length);if($.length===1)I.position(I.quill.getBounds(R));else{var D=$[$.length-1],j=I.quill.getIndex(D),F=Math.min(D.length()-1,R.index+R.length-j),N=I.quill.getBounds(new d.Range(j,F));I.position(N)}}else document.activeElement!==I.textbox&&I.quill.hasFocus()&&I.hide()}),I}return s(S,[{key:"listen",value:function(){var b=this;o(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){b.root.classList.remove("ql-editing")}),this.quill.on(h.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!b.root.classList.contains("ql-hidden")){var I=b.quill.getSelection();I!=null&&b.position(b.quill.getBounds(I))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(b){var I=o(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"position",this).call(this,b),O=this.root.querySelector(".ql-tooltip-arrow");if(O.style.marginLeft="",I===0)return I;O.style.marginLeft=-1*I-O.offsetWidth/2+"px"}}]),S}(f.BaseTooltip);A.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),r.BubbleTooltip=A,r.default=w},function(n,r,i){n.exports=i(63)}]).default})})(DE);var vx=DE.exports,yx=xt&&xt.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),ju=xt&&xt.__assign||function(){return ju=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},ju.apply(this,arguments)},_x=xt&&xt.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r},Fc=xt&&xt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},Pn=Fc(ee),Ex=Fc(am),vs=Fc(gx),py=Fc(vx),wx=function(t){yx(e,t);function e(n){var r=t.call(this,n)||this;r.dirtyProps=["modules","formats","bounds","theme","children"],r.cleanProps=["id","className","style","placeholder","tabIndex","onChange","onChangeSelection","onFocus","onBlur","onKeyPress","onKeyDown","onKeyUp"],r.state={generation:0},r.selection=null,r.onEditorChange=function(o,s,a,l){var u,h,f,c;o==="text-change"?(h=(u=r).onEditorChangeText)===null||h===void 0||h.call(u,r.editor.root.innerHTML,s,l,r.unprivilegedEditor):o==="selection-change"&&((c=(f=r).onEditorChangeSelection)===null||c===void 0||c.call(f,s,l,r.unprivilegedEditor))};var i=r.isControlled()?n.value:n.defaultValue;return r.value=i??"",r}return e.prototype.validateProps=function(n){var r;if(Pn.default.Children.count(n.children)>1)throw new Error("The Quill editing area can only be composed of a single React element.");if(Pn.default.Children.count(n.children)){var i=Pn.default.Children.only(n.children);if(((r=i)===null||r===void 0?void 0:r.type)==="textarea")throw new Error("Quill does not support editing on a <textarea>. Use a <div> instead.")}if(this.lastDeltaChangeSet&&n.value===this.lastDeltaChangeSet)throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas")},e.prototype.shouldComponentUpdate=function(n,r){var i=this,o;if(this.validateProps(n),!this.editor||this.state.generation!==r.generation)return!0;if("value"in n){var s=this.getEditorContents(),a=(o=n.value,o??"");this.isEqualValue(a,s)||this.setEditorContents(this.editor,a)}return n.readOnly!==this.props.readOnly&&this.setEditorReadOnly(this.editor,n.readOnly),_x(this.cleanProps,this.dirtyProps).some(function(l){return!vs.default(n[l],i.props[l])})},e.prototype.shouldComponentRegenerate=function(n){var r=this;return this.dirtyProps.some(function(i){return!vs.default(n[i],r.props[i])})},e.prototype.componentDidMount=function(){this.instantiateEditor(),this.setEditorContents(this.editor,this.getEditorContents())},e.prototype.componentWillUnmount=function(){this.destroyEditor()},e.prototype.componentDidUpdate=function(n,r){var i=this;if(this.editor&&this.shouldComponentRegenerate(n)){var o=this.editor.getContents(),s=this.editor.getSelection();this.regenerationSnapshot={delta:o,selection:s},this.setState({generation:this.state.generation+1}),this.destroyEditor()}if(this.state.generation!==r.generation){var a=this.regenerationSnapshot,o=a.delta,l=a.selection;delete this.regenerationSnapshot,this.instantiateEditor();var u=this.editor;u.setContents(o),my(function(){return i.setEditorSelection(u,l)})}},e.prototype.instantiateEditor=function(){this.editor?this.hookEditor(this.editor):this.editor=this.createEditor(this.getEditingArea(),this.getEditorConfig())},e.prototype.destroyEditor=function(){this.editor&&this.unhookEditor(this.editor)},e.prototype.isControlled=function(){return"value"in this.props},e.prototype.getEditorConfig=function(){return{bounds:this.props.bounds,formats:this.props.formats,modules:this.props.modules,placeholder:this.props.placeholder,readOnly:this.props.readOnly,scrollingContainer:this.props.scrollingContainer,tabIndex:this.props.tabIndex,theme:this.props.theme}},e.prototype.getEditor=function(){if(!this.editor)throw new Error("Accessing non-instantiated editor");return this.editor},e.prototype.createEditor=function(n,r){var i=new py.default(n,r);return r.tabIndex!=null&&this.setEditorTabIndex(i,r.tabIndex),this.hookEditor(i),i},e.prototype.hookEditor=function(n){this.unprivilegedEditor=this.makeUnprivilegedEditor(n),n.on("editor-change",this.onEditorChange)},e.prototype.unhookEditor=function(n){n.off("editor-change",this.onEditorChange)},e.prototype.getEditorContents=function(){return this.value},e.prototype.getEditorSelection=function(){return this.selection},e.prototype.isDelta=function(n){return n&&n.ops},e.prototype.isEqualValue=function(n,r){return this.isDelta(n)&&this.isDelta(r)?vs.default(n.ops,r.ops):vs.default(n,r)},e.prototype.setEditorContents=function(n,r){var i=this;this.value=r;var o=this.getEditorSelection();typeof r=="string"?n.setContents(n.clipboard.convert(r)):n.setContents(r),my(function(){return i.setEditorSelection(n,o)})},e.prototype.setEditorSelection=function(n,r){if(this.selection=r,r){var i=n.getLength();r.index=Math.max(0,Math.min(r.index,i-1)),r.length=Math.max(0,Math.min(r.length,i-1-r.index)),n.setSelection(r)}},e.prototype.setEditorTabIndex=function(n,r){var i,o;!((o=(i=n)===null||i===void 0?void 0:i.scroll)===null||o===void 0)&&o.domNode&&(n.scroll.domNode.tabIndex=r)},e.prototype.setEditorReadOnly=function(n,r){r?n.disable():n.enable()},e.prototype.makeUnprivilegedEditor=function(n){var r=n;return{getHTML:function(){return r.root.innerHTML},getLength:r.getLength.bind(r),getText:r.getText.bind(r),getContents:r.getContents.bind(r),getSelection:r.getSelection.bind(r),getBounds:r.getBounds.bind(r)}},e.prototype.getEditingArea=function(){if(!this.editingArea)throw new Error("Instantiating on missing editing area");var n=Ex.default.findDOMNode(this.editingArea);if(!n)throw new Error("Cannot find element for editing area");if(n.nodeType===3)throw new Error("Editing area cannot be a text node");return n},e.prototype.renderEditingArea=function(){var n=this,r=this.props,i=r.children,o=r.preserveWhitespace,s=this.state.generation,a={key:s,ref:function(l){n.editingArea=l}};return Pn.default.Children.count(i)?Pn.default.cloneElement(Pn.default.Children.only(i),a):o?Pn.default.createElement("pre",ju({},a)):Pn.default.createElement("div",ju({},a))},e.prototype.render=function(){var n;return Pn.default.createElement("div",{id:this.props.id,style:this.props.style,key:this.state.generation,className:"quill "+(n=this.props.className,n??""),onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp},this.renderEditingArea())},e.prototype.onEditorChangeText=function(n,r,i,o){var s,a;if(this.editor){var l=this.isDelta(this.value)?o.getContents():o.getHTML();l!==this.getEditorContents()&&(this.lastDeltaChangeSet=r,this.value=l,(a=(s=this.props).onChange)===null||a===void 0||a.call(s,n,r,i,o))}},e.prototype.onEditorChangeSelection=function(n,r,i){var o,s,a,l,u,h;if(this.editor){var f=this.getEditorSelection(),c=!f&&n,d=f&&!n;vs.default(n,f)||(this.selection=n,(s=(o=this.props).onChangeSelection)===null||s===void 0||s.call(o,n,r,i),c?(l=(a=this.props).onFocus)===null||l===void 0||l.call(a,n,r,i):d&&((h=(u=this.props).onBlur)===null||h===void 0||h.call(u,f,r,i)))}},e.prototype.focus=function(){this.editor&&this.editor.focus()},e.prototype.blur=function(){this.editor&&(this.selection=null,this.editor.blur())},e.displayName="React Quill",e.Quill=py.default,e.defaultProps={theme:"snow",modules:{},readOnly:!1},e}(Pn.default.Component);function my(t){Promise.resolve().then(t)}var Tx=wx;const Sx=hp(Tx);var gy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ME=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Ix=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],s=t[n++],a=t[n++],l=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},VE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,a=s?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,h=o>>2,f=(o&3)<<4|a>>4;let c=(a&15)<<2|u>>6,d=u&63;l||(d=64,s||(c=64)),r.push(n[h],n[f],n[c],n[d])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(ME(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Ix(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||u==null||f==null)throw new bx;const c=o<<2|a>>4;if(r.push(c),u!==64){const d=a<<4&240|u>>2;if(r.push(d),f!==64){const _=u<<6&192|f;r.push(_)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class bx extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ax=function(t){const e=ME(t);return VE.encodeByteArray(e,!0)},Uu=function(t){return Ax(t).replace(/\./g,"")},FE=function(t){try{return VE.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ox(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Px=()=>Ox().__FIREBASE_DEFAULTS__,Rx=()=>{if(typeof process>"u"||typeof gy>"u")return;const t=gy.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},kx=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&FE(t[1]);return e&&JSON.parse(e)},jc=()=>{try{return Px()||Rx()||kx()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},jE=t=>{var e,n;return(n=(e=jc())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Cx=t=>{const e=jE(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},UE=()=>{var t;return(t=jc())===null||t===void 0?void 0:t.config},$E=t=>{var e;return(e=jc())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nx{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xx(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Uu(JSON.stringify(n)),Uu(JSON.stringify(s)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Lx(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(yt())}function Dx(){var t;const e=(t=jc())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Mx(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Vx(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Fx(){const t=yt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function jx(){return!Dx()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ux(){try{return typeof indexedDB=="object"}catch{return!1}}function $x(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bx="FirebaseError";class mr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Bx,Object.setPrototypeOf(this,mr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ba.prototype.create)}}class Ba{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?qx(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new mr(i,a,r)}}function qx(t,e){return t.replace(zx,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const zx=/\{\$([^}]+)}/g;function Hx(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function $u(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(vy(o)&&vy(s)){if(!$u(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function vy(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qa(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function bs(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function As(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function Wx(t,e){const n=new Kx(t,e);return n.subscribe.bind(n)}class Kx{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Gx(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=nh),i.error===void 0&&(i.error=nh),i.complete===void 0&&(i.complete=nh);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Gx(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function nh(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cn(t){return t&&t._delegate?t._delegate:t}class Oi{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ui="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qx{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Nx;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Xx(e))try{this.getOrInitializeService({instanceIdentifier:ui})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=ui){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ui){return this.instances.has(e)}getOptions(e=ui){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Yx(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ui){return this.component?this.component.multipleInstances?e:ui:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Yx(t){return t===ui?void 0:t}function Xx(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jx{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Qx(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var be;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(be||(be={}));const Zx={debug:be.DEBUG,verbose:be.VERBOSE,info:be.INFO,warn:be.WARN,error:be.ERROR,silent:be.SILENT},eL=be.INFO,tL={[be.DEBUG]:"log",[be.VERBOSE]:"log",[be.INFO]:"info",[be.WARN]:"warn",[be.ERROR]:"error"},nL=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=tL[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class dm{constructor(e){this.name=e,this._logLevel=eL,this._logHandler=nL,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in be))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Zx[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,be.DEBUG,...e),this._logHandler(this,be.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,be.VERBOSE,...e),this._logHandler(this,be.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,be.INFO,...e),this._logHandler(this,be.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,be.WARN,...e),this._logHandler(this,be.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,be.ERROR,...e),this._logHandler(this,be.ERROR,...e)}}const rL=(t,e)=>e.some(n=>t instanceof n);let yy,_y;function iL(){return yy||(yy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function oL(){return _y||(_y=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const BE=new WeakMap,Id=new WeakMap,qE=new WeakMap,rh=new WeakMap,pm=new WeakMap;function sL(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(Br(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&BE.set(n,t)}).catch(()=>{}),pm.set(e,t),e}function aL(t){if(Id.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});Id.set(t,e)}let bd={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Id.get(t);if(e==="objectStoreNames")return t.objectStoreNames||qE.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Br(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function lL(t){bd=t(bd)}function uL(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(ih(this),e,...n);return qE.set(r,e.sort?e.sort():[e]),Br(r)}:oL().includes(t)?function(...e){return t.apply(ih(this),e),Br(BE.get(this))}:function(...e){return Br(t.apply(ih(this),e))}}function cL(t){return typeof t=="function"?uL(t):(t instanceof IDBTransaction&&aL(t),rL(t,iL())?new Proxy(t,bd):t)}function Br(t){if(t instanceof IDBRequest)return sL(t);if(rh.has(t))return rh.get(t);const e=cL(t);return e!==t&&(rh.set(t,e),pm.set(e,t)),e}const ih=t=>pm.get(t);function fL(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=Br(s);return r&&s.addEventListener("upgradeneeded",l=>{r(Br(s.result),l.oldVersion,l.newVersion,Br(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const hL=["get","getKey","getAll","getAllKeys","count"],dL=["put","add","delete","clear"],oh=new Map;function Ey(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(oh.get(e))return oh.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=dL.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||hL.includes(n)))return;const o=async function(s,...a){const l=this.transaction(s,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return oh.set(e,o),o}lL(t=>({...t,get:(e,n,r)=>Ey(e,n)||t.get(e,n,r),has:(e,n)=>!!Ey(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pL{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(mL(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function mL(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Ad="@firebase/app",wy="0.10.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pi=new dm("@firebase/app"),gL="@firebase/app-compat",vL="@firebase/analytics-compat",yL="@firebase/analytics",_L="@firebase/app-check-compat",EL="@firebase/app-check",wL="@firebase/auth",TL="@firebase/auth-compat",SL="@firebase/database",IL="@firebase/database-compat",bL="@firebase/functions",AL="@firebase/functions-compat",OL="@firebase/installations",PL="@firebase/installations-compat",RL="@firebase/messaging",kL="@firebase/messaging-compat",CL="@firebase/performance",NL="@firebase/performance-compat",xL="@firebase/remote-config",LL="@firebase/remote-config-compat",DL="@firebase/storage",ML="@firebase/storage-compat",VL="@firebase/firestore",FL="@firebase/firestore-compat",jL="firebase",UL="10.11.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Od="[DEFAULT]",$L={[Ad]:"fire-core",[gL]:"fire-core-compat",[yL]:"fire-analytics",[vL]:"fire-analytics-compat",[EL]:"fire-app-check",[_L]:"fire-app-check-compat",[wL]:"fire-auth",[TL]:"fire-auth-compat",[SL]:"fire-rtdb",[IL]:"fire-rtdb-compat",[bL]:"fire-fn",[AL]:"fire-fn-compat",[OL]:"fire-iid",[PL]:"fire-iid-compat",[RL]:"fire-fcm",[kL]:"fire-fcm-compat",[CL]:"fire-perf",[NL]:"fire-perf-compat",[xL]:"fire-rc",[LL]:"fire-rc-compat",[DL]:"fire-gcs",[ML]:"fire-gcs-compat",[VL]:"fire-fst",[FL]:"fire-fst-compat","fire-js":"fire-js",[jL]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bu=new Map,BL=new Map,Pd=new Map;function Ty(t,e){try{t.container.addComponent(e)}catch(n){Pi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ko(t){const e=t.name;if(Pd.has(e))return Pi.debug(`There were multiple attempts to register component ${e}.`),!1;Pd.set(e,t);for(const n of Bu.values())Ty(n,t);for(const n of BL.values())Ty(n,t);return!0}function mm(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Nn(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},qr=new Ba("app","Firebase",qL);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zL{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Oi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw qr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xo=UL;function zE(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Od,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw qr.create("bad-app-name",{appName:String(i)});if(n||(n=UE()),!n)throw qr.create("no-options");const o=Bu.get(i);if(o){if($u(n,o.options)&&$u(r,o.config))return o;throw qr.create("duplicate-app",{appName:i})}const s=new Jx(i);for(const l of Pd.values())s.addComponent(l);const a=new zL(n,r,s);return Bu.set(i,a),a}function HE(t=Od){const e=Bu.get(t);if(!e&&t===Od&&UE())return zE();if(!e)throw qr.create("no-app",{appName:t});return e}function zr(t,e,n){var r;let i=(r=$L[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Pi.warn(a.join(" "));return}ko(new Oi(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HL="firebase-heartbeat-database",WL=1,va="firebase-heartbeat-store";let sh=null;function WE(){return sh||(sh=fL(HL,WL,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(va)}catch(n){console.warn(n)}}}}).catch(t=>{throw qr.create("idb-open",{originalErrorMessage:t.message})})),sh}async function KL(t){try{const n=(await WE()).transaction(va),r=await n.objectStore(va).get(KE(t));return await n.done,r}catch(e){if(e instanceof mr)Pi.warn(e.message);else{const n=qr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Pi.warn(n.message)}}}async function Sy(t,e){try{const r=(await WE()).transaction(va,"readwrite");await r.objectStore(va).put(e,KE(t)),await r.done}catch(n){if(n instanceof mr)Pi.warn(n.message);else{const r=qr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Pi.warn(r.message)}}}function KE(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GL=1024,QL=30*24*60*60*1e3;class YL{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new JL(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=Iy();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)))return this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const a=new Date(s.date).valueOf();return Date.now()-a<=QL}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Iy(),{heartbeatsToSend:r,unsentEntries:i}=XL(this._heartbeatsCache.heartbeats),o=Uu(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}}function Iy(){return new Date().toISOString().substring(0,10)}function XL(t,e=GL){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),by(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),by(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class JL{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Ux()?$x().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await KL(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Sy(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Sy(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function by(t){return Uu(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZL(t){ko(new Oi("platform-logger",e=>new pL(e),"PRIVATE")),ko(new Oi("heartbeat",e=>new YL(e),"PRIVATE")),zr(Ad,wy,t),zr(Ad,wy,"esm2017"),zr("fire-js","")}ZL("");var eD="firebase",tD="10.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */zr(eD,tD,"app");function gm(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function GE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const nD=GE,QE=new Ba("auth","Firebase",GE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qu=new dm("@firebase/auth");function rD(t,...e){qu.logLevel<=be.WARN&&qu.warn(`Auth (${Xo}): ${t}`,...e)}function nu(t,...e){qu.logLevel<=be.ERROR&&qu.error(`Auth (${Xo}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sn(t,...e){throw vm(t,...e)}function jn(t,...e){return vm(t,...e)}function YE(t,e,n){const r=Object.assign(Object.assign({},nD()),{[e]:n});return new Ba("auth","Firebase",r).create(e,{appName:t.name})}function nr(t){return YE(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function vm(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return QE.create(t,...e)}function ue(t,e,...n){if(!t)throw vm(e,...n)}function Xn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw nu(e),new Error(e)}function ur(t,e){t||Xn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rd(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function iD(){return Ay()==="http:"||Ay()==="https:"}function Ay(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oD(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(iD()||Mx()||"connection"in navigator)?navigator.onLine:!0}function sD(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class za{constructor(e,n){this.shortDelay=e,this.longDelay=n,ur(n>e,"Short delay should be less than long delay!"),this.isMobile=Lx()||Vx()}get(){return oD()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ym(t,e){ur(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XE{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Xn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Xn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Xn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aD={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lD=new za(3e4,6e4);function ti(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ni(t,e,n,r,i={}){return JE(t,i,async()=>{let o={},s={};r&&(e==="GET"?s=r:o={body:JSON.stringify(r)});const a=qa(Object.assign({key:t.config.apiKey},s)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),XE.fetch()(ZE(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},o))})}async function JE(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},aD),e);try{const i=new cD(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=await o.json();if("needConfirmation"in s)throw Cl(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Cl(t,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw Cl(t,"email-already-in-use",s);if(l==="USER_DISABLED")throw Cl(t,"user-disabled",s);const h=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw YE(t,h,u);Sn(t,h)}}catch(i){if(i instanceof mr)throw i;Sn(t,"network-request-failed",{message:String(i)})}}async function Ha(t,e,n,r,i={}){const o=await ni(t,e,n,r,i);return"mfaPendingCredential"in o&&Sn(t,"multi-factor-auth-required",{_serverResponse:o}),o}function ZE(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?ym(t.config,i):`${t.config.apiScheme}://${i}`}function uD(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class cD{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(jn(this.auth,"network-request-failed")),lD.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Cl(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=jn(t,e,r);return i.customData._tokenResponse=n,i}function Oy(t){return t!==void 0&&t.enterprise!==void 0}class fD{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return uD(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function hD(t,e){return ni(t,"GET","/v2/recaptchaConfig",ti(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dD(t,e){return ni(t,"POST","/v1/accounts:delete",e)}async function ew(t,e){return ni(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bs(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function pD(t,e=!1){const n=cn(t),r=await n.getIdToken(e),i=_m(r);ue(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,s=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:Bs(ah(i.auth_time)),issuedAtTime:Bs(ah(i.iat)),expirationTime:Bs(ah(i.exp)),signInProvider:s||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function ah(t){return Number(t)*1e3}function _m(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return nu("JWT malformed, contained fewer than 3 sections"),null;try{const i=FE(n);return i?JSON.parse(i):(nu("Failed to decode base64 JWT payload"),null)}catch(i){return nu("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function Py(t){const e=_m(t);return ue(e,"internal-error"),ue(typeof e.exp<"u","internal-error"),ue(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ya(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof mr&&mD(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function mD({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gD{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kd{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Bs(this.lastLoginAt),this.creationTime=Bs(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zu(t){var e;const n=t.auth,r=await t.getIdToken(),i=await ya(t,ew(n,{idToken:r}));ue(i==null?void 0:i.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?tw(o.providerUserInfo):[],a=yD(t.providerData,s),l=t.isAnonymous,u=!(t.email&&o.passwordHash)&&!(a!=null&&a.length),h=l?u:!1,f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new kd(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(t,f)}async function vD(t){const e=cn(t);await zu(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function yD(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function tw(t){return t.map(e=>{var{providerId:n}=e,r=gm(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _D(t,e){const n=await JE(t,{},async()=>{const r=qa({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=ZE(t,i,"/v1/token",`key=${o}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",XE.fetch()(s,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function ED(t,e){return ni(t,"POST","/v2/accounts:revokeToken",ti(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ue(e.idToken,"internal-error"),ue(typeof e.idToken<"u","internal-error"),ue(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Py(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ue(e.length!==0,"internal-error");const n=Py(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ue(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await _D(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new vo;return r&&(ue(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(ue(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(ue(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new vo,this.toJSON())}_performRefresh(){return Xn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yr(t,e){ue(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Jn{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=gm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new gD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new kd(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await ya(this,this.stsTokenManager.getToken(this.auth,e));return ue(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return pD(this,e)}reload(){return vD(this)}_assign(e){this!==e&&(ue(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Jn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ue(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await zu(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Nn(this.auth.app))return Promise.reject(nr(this.auth));const e=await this.getIdToken();return await ya(this,dD(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,l,u,h;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,c=(i=n.email)!==null&&i!==void 0?i:void 0,d=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,_=(s=n.photoURL)!==null&&s!==void 0?s:void 0,y=(a=n.tenantId)!==null&&a!==void 0?a:void 0,E=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,m=(u=n.createdAt)!==null&&u!==void 0?u:void 0,p=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:v,emailVerified:g,isAnonymous:w,providerData:A,stsTokenManager:T}=n;ue(v&&T,e,"internal-error");const S=vo.fromJSON(this.name,T);ue(typeof v=="string",e,"internal-error"),yr(f,e.name),yr(c,e.name),ue(typeof g=="boolean",e,"internal-error"),ue(typeof w=="boolean",e,"internal-error"),yr(d,e.name),yr(_,e.name),yr(y,e.name),yr(E,e.name),yr(m,e.name),yr(p,e.name);const k=new Jn({uid:v,auth:e,email:c,emailVerified:g,displayName:f,isAnonymous:w,photoURL:_,phoneNumber:d,tenantId:y,stsTokenManager:S,createdAt:m,lastLoginAt:p});return A&&Array.isArray(A)&&(k.providerData=A.map(b=>Object.assign({},b))),E&&(k._redirectEventId=E),k}static async _fromIdTokenResponse(e,n,r=!1){const i=new vo;i.updateFromServerResponse(n);const o=new Jn({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await zu(o),o}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];ue(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?tw(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),a=new vo;a.updateFromIdToken(r);const l=new Jn({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new kd(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ry=new Map;function Zn(t){ur(t instanceof Function,"Expected a class definition");let e=Ry.get(t);return e?(ur(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Ry.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nw{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}nw.type="NONE";const ky=nw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ru(t,e,n){return`firebase:${t}:${e}:${n}`}class yo{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=ru(this.userKey,i.apiKey,o),this.fullPersistenceKey=ru("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Jn._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new yo(Zn(ky),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let o=i[0]||Zn(ky);const s=ru(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const h=await u._get(s);if(h){const f=Jn._fromJSON(e,h);u!==o&&(a=f),o=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new yo(o,e,r):(o=l[0],a&&await o._set(s,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==o)try{await u._remove(s)}catch{}})),new yo(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cy(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(ow(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(rw(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(aw(e))return"Blackberry";if(lw(e))return"Webos";if(Em(e))return"Safari";if((e.includes("chrome/")||iw(e))&&!e.includes("edge/"))return"Chrome";if(sw(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function rw(t=yt()){return/firefox\//i.test(t)}function Em(t=yt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function iw(t=yt()){return/crios\//i.test(t)}function ow(t=yt()){return/iemobile/i.test(t)}function sw(t=yt()){return/android/i.test(t)}function aw(t=yt()){return/blackberry/i.test(t)}function lw(t=yt()){return/webos/i.test(t)}function Uc(t=yt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function wD(t=yt()){var e;return Uc(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function TD(){return Fx()&&document.documentMode===10}function uw(t=yt()){return Uc(t)||sw(t)||lw(t)||aw(t)||/windows phone/i.test(t)||ow(t)}function SD(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cw(t,e=[]){let n;switch(t){case"Browser":n=Cy(yt());break;case"Worker":n=`${Cy(yt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Xo}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ID{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((s,a)=>{try{const l=e(o);s(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bD(t,e={}){return ni(t,"GET","/v2/passwordPolicy",ti(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AD=6;class OD{constructor(e){var n,r,i,o;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:AD,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsUppercaseLetter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(s=l.containsNumericCharacter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PD{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ny(this),this.idTokenSubscription=new Ny(this),this.beforeStateQueue=new ID(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=QE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Zn(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await yo.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await ew(this,{idToken:e}),r=await Jn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Nn(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!s||s===a)&&(l!=null&&l.user)&&(i=l.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ue(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await zu(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=sD()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Nn(this.app))return Promise.reject(nr(this));const n=e?cn(e):null;return n&&ue(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ue(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Nn(this.app)?Promise.reject(nr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Nn(this.app)?Promise.reject(nr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Zn(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await bD(this),n=new OD(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ba("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await ED(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Zn(e)||this._popupRedirectResolver;ue(n,this,"argument-error"),this.redirectPersistenceManager=await yo.create(this,[Zn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ue(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{s=!0,l()}}else{const l=e.addObserver(n);return()=>{s=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ue(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=cw(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&rD(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Fi(t){return cn(t)}class Ny{constructor(e){this.auth=e,this.observer=null,this.addObserver=Wx(n=>this.observer=n)}get next(){return ue(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $c={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function RD(t){$c=t}function fw(t){return $c.loadJS(t)}function kD(){return $c.recaptchaEnterpriseScript}function CD(){return $c.gapiScript}function ND(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const xD="recaptcha-enterprise",LD="NO_RECAPTCHA";class DD{constructor(e){this.type=xD,this.auth=Fi(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(s,a)=>{hD(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new fD(l);return o.tenantId==null?o._agentRecaptchaConfig=u:o._tenantRecaptchaConfigs[o.tenantId]=u,s(u.siteKey)}}).catch(l=>{a(l)})})}function i(o,s,a){const l=window.grecaptcha;Oy(l)?l.enterprise.ready(()=>{l.enterprise.execute(o,{action:e}).then(u=>{s(u)}).catch(()=>{s(LD)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,s)=>{r(this.auth).then(a=>{if(!n&&Oy(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let l=kD();l.length!==0&&(l+=a),fw(l).then(()=>{i(a,o,s)}).catch(u=>{s(u)})}}).catch(a=>{s(a)})})}}async function xy(t,e,n,r=!1){const i=new DD(t);let o;try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const s=Object.assign({},e);return r?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}async function Cd(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await xy(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const s=await xy(t,e,n,n==="getOobCode");return r(t,s)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MD(t,e){const n=mm(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if($u(o,e??{}))return i;Sn(i,"already-initialized")}return n.initialize({options:e})}function VD(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Zn);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function FD(t,e,n){const r=Fi(t);ue(r._canInitEmulator,r,"emulator-config-failed"),ue(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,o=hw(e),{host:s,port:a}=jD(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${o}//${s}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),UD()}function hw(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function jD(t){const e=hw(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:Ly(r.substr(o.length+1))}}else{const[o,s]=r.split(":");return{host:o,port:Ly(s)}}}function Ly(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function UD(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wm{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Xn("not implemented")}_getIdTokenResponse(e){return Xn("not implemented")}_linkToIdToken(e,n){return Xn("not implemented")}_getReauthenticationResolver(e){return Xn("not implemented")}}async function $D(t,e){return ni(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BD(t,e){return Ha(t,"POST","/v1/accounts:signInWithPassword",ti(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qD(t,e){return Ha(t,"POST","/v1/accounts:signInWithEmailLink",ti(t,e))}async function zD(t,e){return Ha(t,"POST","/v1/accounts:signInWithEmailLink",ti(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a extends wm{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new _a(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new _a(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Cd(e,n,"signInWithPassword",BD);case"emailLink":return qD(e,{email:this._email,oobCode:this._password});default:Sn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Cd(e,r,"signUpPassword",$D);case"emailLink":return zD(e,{idToken:n,email:this._email,oobCode:this._password});default:Sn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _o(t,e){return Ha(t,"POST","/v1/accounts:signInWithIdp",ti(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HD="http://localhost";class Ri extends wm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ri(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Sn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,o=gm(n,["providerId","signInMethod"]);if(!r||!i)return null;const s=new Ri(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){const n=this.buildRequest();return _o(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,_o(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,_o(e,n)}buildRequest(){const e={requestUri:HD,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=qa(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WD(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function KD(t){const e=bs(As(t)).link,n=e?bs(As(e)).deep_link_id:null,r=bs(As(t)).deep_link_id;return(r?bs(As(r)).link:null)||r||n||e||t}class Tm{constructor(e){var n,r,i,o,s,a;const l=bs(As(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,h=(r=l.oobCode)!==null&&r!==void 0?r:null,f=WD((i=l.mode)!==null&&i!==void 0?i:null);ue(u&&h&&f,"argument-error"),this.apiKey=u,this.operation=f,this.code=h,this.continueUrl=(o=l.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=l.languageCode)!==null&&s!==void 0?s:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=KD(e);try{return new Tm(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(){this.providerId=Jo.PROVIDER_ID}static credential(e,n){return _a._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Tm.parseLink(n);return ue(r,"argument-error"),_a._fromEmailAndCode(e,r.code,r.tenantId)}}Jo.PROVIDER_ID="password";Jo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Jo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dw{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa extends dw{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir extends Wa{constructor(){super("facebook.com")}static credential(e){return Ri._fromParams({providerId:Ir.PROVIDER_ID,signInMethod:Ir.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ir.credentialFromTaggedObject(e)}static credentialFromError(e){return Ir.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ir.credential(e.oauthAccessToken)}catch{return null}}}Ir.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ir.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br extends Wa{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ri._fromParams({providerId:br.PROVIDER_ID,signInMethod:br.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return br.credentialFromTaggedObject(e)}static credentialFromError(e){return br.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return br.credential(n,r)}catch{return null}}}br.GOOGLE_SIGN_IN_METHOD="google.com";br.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar extends Wa{constructor(){super("github.com")}static credential(e){return Ri._fromParams({providerId:Ar.PROVIDER_ID,signInMethod:Ar.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ar.credentialFromTaggedObject(e)}static credentialFromError(e){return Ar.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ar.credential(e.oauthAccessToken)}catch{return null}}}Ar.GITHUB_SIGN_IN_METHOD="github.com";Ar.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or extends Wa{constructor(){super("twitter.com")}static credential(e,n){return Ri._fromParams({providerId:Or.PROVIDER_ID,signInMethod:Or.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Or.credentialFromTaggedObject(e)}static credentialFromError(e){return Or.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Or.credential(n,r)}catch{return null}}}Or.TWITTER_SIGN_IN_METHOD="twitter.com";Or.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GD(t,e){return Ha(t,"POST","/v1/accounts:signUp",ti(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await Jn._fromIdTokenResponse(e,r,i),s=Dy(r);return new ki({user:o,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=Dy(r);return new ki({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function Dy(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hu extends mr{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Hu.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Hu(e,n,r,i)}}function pw(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Hu._fromErrorAndOperation(t,o,e,r):o})}async function QD(t,e,n=!1){const r=await ya(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ki._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YD(t,e,n=!1){const{auth:r}=t;if(Nn(r.app))return Promise.reject(nr(r));const i="reauthenticate";try{const o=await ya(t,pw(r,i,e,t),n);ue(o.idToken,r,"internal-error");const s=_m(o.idToken);ue(s,r,"internal-error");const{sub:a}=s;return ue(t.uid===a,r,"user-mismatch"),ki._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&Sn(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mw(t,e,n=!1){if(Nn(t.app))return Promise.reject(nr(t));const r="signIn",i=await pw(t,r,e),o=await ki._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}async function XD(t,e){return mw(Fi(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gw(t){const e=Fi(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function JD(t,e,n){if(Nn(t.app))return Promise.reject(nr(t));const r=Fi(t),s=await Cd(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",GD).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&gw(t),l}),a=await ki._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(a.user),a}function ZD(t,e,n){return Nn(t.app)?Promise.reject(nr(t)):XD(cn(t),Jo.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&gw(t),r})}function eM(t,e,n,r){return cn(t).onIdTokenChanged(e,n,r)}function tM(t,e,n){return cn(t).beforeAuthStateChanged(e,n)}const Wu="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vw{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Wu,"1"),this.storage.removeItem(Wu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nM(){const t=yt();return Em(t)||Uc(t)}const rM=1e3,iM=10;class yw extends vw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=nM()&&SD(),this.fallbackToPolling=uw(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,a,l)=>{this.notifyListeners(s,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const s=this.storage.getItem(r);if(e.newValue!==s)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},o=this.storage.getItem(r);TD()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,iM):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},rM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}yw.type="LOCAL";const oM=yw;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _w extends vw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}_w.type="SESSION";const Ew=_w;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sM(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bc{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Bc(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(s).map(async u=>u(n.origin,o)),l=await sM(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Bc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sm(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aM{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,l)=>{const u=Sm("",20);i.port1.start();const h=setTimeout(()=>{l(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(f){const c=f;if(c.data.eventId===u)switch(c.data.status){case"ack":clearTimeout(h),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(c.data.response);break;default:clearTimeout(h),clearTimeout(o),l(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Un(){return window}function lM(t){Un().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ww(){return typeof Un().WorkerGlobalScope<"u"&&typeof Un().importScripts=="function"}async function uM(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function cM(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function fM(){return ww()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tw="firebaseLocalStorageDb",hM=1,Ku="firebaseLocalStorage",Sw="fbase_key";class Ka{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function qc(t,e){return t.transaction([Ku],e?"readwrite":"readonly").objectStore(Ku)}function dM(){const t=indexedDB.deleteDatabase(Tw);return new Ka(t).toPromise()}function Nd(){const t=indexedDB.open(Tw,hM);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Ku,{keyPath:Sw})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Ku)?e(r):(r.close(),await dM(),e(await Nd()))})})}async function My(t,e,n){const r=qc(t,!0).put({[Sw]:e,value:n});return new Ka(r).toPromise()}async function pM(t,e){const n=qc(t,!1).get(e),r=await new Ka(n).toPromise();return r===void 0?null:r.value}function Vy(t,e){const n=qc(t,!0).delete(e);return new Ka(n).toPromise()}const mM=800,gM=3;class Iw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Nd(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>gM)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ww()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Bc._getInstance(fM()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await uM(),!this.activeServiceWorker)return;this.sender=new aM(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||cM()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Nd();return await My(e,Wu,"1"),await Vy(e,Wu),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>My(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>pM(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Vy(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=qc(i,!1).getAll();return new Ka(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),mM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Iw.type="LOCAL";const vM=Iw;new za(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yM(t,e){return e?Zn(e):(ue(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Im extends wm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return _o(e,this._buildIdpRequest())}_linkToIdToken(e,n){return _o(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return _o(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function _M(t){return mw(t.auth,new Im(t),t.bypassAuthState)}function EM(t){const{auth:e,user:n}=t;return ue(n,e,"internal-error"),YD(n,new Im(t),t.bypassAuthState)}async function wM(t){const{auth:e,user:n}=t;return ue(n,e,"internal-error"),QD(n,new Im(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bw{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return _M;case"linkViaPopup":case"linkViaRedirect":return wM;case"reauthViaPopup":case"reauthViaRedirect":return EM;default:Sn(this.auth,"internal-error")}}resolve(e){ur(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ur(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TM=new za(2e3,1e4);class so extends bw{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,so.currentPopupAction&&so.currentPopupAction.cancel(),so.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ue(e,this.auth,"internal-error"),e}async onExecution(){ur(this.filter.length===1,"Popup operations only handle one event");const e=Sm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(jn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(jn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,so.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(jn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,TM.get())};e()}}so.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SM="pendingRedirect",iu=new Map;class IM extends bw{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=iu.get(this.auth._key());if(!e){try{const r=await bM(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}iu.set(this.auth._key(),e)}return this.bypassAuthState||iu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function bM(t,e){const n=PM(e),r=OM(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function AM(t,e){iu.set(t._key(),e)}function OM(t){return Zn(t._redirectPersistence)}function PM(t){return ru(SM,t.config.apiKey,t.name)}async function RM(t,e,n=!1){if(Nn(t.app))return Promise.reject(nr(t));const r=Fi(t),i=yM(r,e),s=await new IM(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kM=10*60*1e3;class CM{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!NM(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!Aw(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(jn(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=kM&&this.cachedEventUids.clear(),this.cachedEventUids.has(Fy(e))}saveEventToCache(e){this.cachedEventUids.add(Fy(e)),this.lastProcessedEventTime=Date.now()}}function Fy(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Aw({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function NM(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Aw(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xM(t,e={}){return ni(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LM=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,DM=/^https?/;async function MM(t){if(t.config.emulator)return;const{authorizedDomains:e}=await xM(t);for(const n of e)try{if(VM(n))return}catch{}Sn(t,"unauthorized-domain")}function VM(t){const e=Rd(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!DM.test(n))return!1;if(LM.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FM=new za(3e4,6e4);function jy(){const t=Un().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function jM(t){return new Promise((e,n)=>{var r,i,o;function s(){jy(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{jy(),n(jn(t,"network-request-failed"))},timeout:FM.get()})}if(!((i=(r=Un().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=Un().gapi)===null||o===void 0)&&o.load)s();else{const a=ND("iframefcb");return Un()[a]=()=>{gapi.load?s():n(jn(t,"network-request-failed"))},fw(`${CD()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw ou=null,e})}let ou=null;function UM(t){return ou=ou||jM(t),ou}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $M=new za(5e3,15e3),BM="__/auth/iframe",qM="emulator/auth/iframe",zM={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},HM=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function WM(t){const e=t.config;ue(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?ym(e,qM):`https://${t.config.authDomain}/${BM}`,r={apiKey:e.apiKey,appName:t.name,v:Xo},i=HM.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${qa(r).slice(1)}`}async function KM(t){const e=await UM(t),n=Un().gapi;return ue(n,t,"internal-error"),e.open({where:document.body,url:WM(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:zM,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const s=jn(t,"network-request-failed"),a=Un().setTimeout(()=>{o(s)},$M.get());function l(){Un().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{o(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GM={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},QM=500,YM=600,XM="_blank",JM="http://localhost";class Uy{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function ZM(t,e,n,r=QM,i=YM){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},GM),{width:r.toString(),height:i.toString(),top:o,left:s}),u=yt().toLowerCase();n&&(a=iw(u)?XM:n),rw(u)&&(e=e||JM,l.scrollbars="yes");const h=Object.entries(l).reduce((c,[d,_])=>`${c}${d}=${_},`,"");if(wD(u)&&a!=="_self")return e4(e||"",a),new Uy(null);const f=window.open(e||"",a,h);ue(f,t,"popup-blocked");try{f.focus()}catch{}return new Uy(f)}function e4(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t4="__/auth/handler",n4="emulator/auth/handler",r4=encodeURIComponent("fac");async function $y(t,e,n,r,i,o){ue(t.config.authDomain,t,"auth-domain-config-required"),ue(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Xo,eventId:i};if(e instanceof dw){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",Hx(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,f]of Object.entries({}))s[h]=f}if(e instanceof Wa){const h=e.getScopes().filter(f=>f!=="");h.length>0&&(s.scopes=h.join(","))}t.tenantId&&(s.tid=t.tenantId);const a=s;for(const h of Object.keys(a))a[h]===void 0&&delete a[h];const l=await t._getAppCheckToken(),u=l?`#${r4}=${encodeURIComponent(l)}`:"";return`${i4(t)}?${qa(a).slice(1)}${u}`}function i4({config:t}){return t.emulator?ym(t,n4):`https://${t.authDomain}/${t4}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lh="webStorageSupport";class o4{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ew,this._completeRedirectFn=RM,this._overrideRedirectResult=AM}async _openPopup(e,n,r,i){var o;ur((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const s=await $y(e,n,r,Rd(),i);return ZM(e,s,Sm())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await $y(e,n,r,Rd(),i);return lM(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(ur(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await KM(e),r=new CM(e);return n.register("authEvent",i=>(ue(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(lh,{type:lh},i=>{var o;const s=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[lh];s!==void 0&&n(!!s),Sn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=MM(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return uw()||Em()||Uc()}}const s4=o4;var By="@firebase/auth",qy="1.7.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a4{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ue(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l4(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function u4(t){ko(new Oi("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;ue(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:cw(t)},u=new PD(r,i,o,l);return VD(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ko(new Oi("auth-internal",e=>{const n=Fi(e.getProvider("auth").getImmediate());return(r=>new a4(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),zr(By,qy,l4(t)),zr(By,qy,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c4=5*60,f4=$E("authIdTokenMaxAge")||c4;let zy=null;const h4=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>f4)return;const i=n==null?void 0:n.token;zy!==i&&(zy=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function d4(t=HE()){const e=mm(t,"auth");if(e.isInitialized())return e.getImmediate();const n=MD(t,{popupRedirectResolver:s4,persistence:[vM,oM,Ew]}),r=$E("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const s=h4(o.toString());tM(n,s,()=>s(n.currentUser)),eM(n,a=>s(a))}}const i=jE("auth");return i&&FD(n,`http://${i}`),n}function p4(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}RD({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=jn("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",p4().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});u4("Browser");var m4=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},te,bm=bm||{},he=m4||self;function zc(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Hc(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function g4(t){return Object.prototype.hasOwnProperty.call(t,uh)&&t[uh]||(t[uh]=++v4)}var uh="closure_uid_"+(1e9*Math.random()>>>0),v4=0;function y4(t,e,n){return t.call.apply(t.bind,arguments)}function _4(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Ot(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Ot=y4:Ot=_4,Ot.apply(null,arguments)}function Nl(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function ut(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,o){for(var s=Array(arguments.length-2),a=2;a<arguments.length;a++)s[a-2]=arguments[a];return e.prototype[i].apply(r,s)}}function ri(){this.s=this.s,this.o=this.o}var E4=0;ri.prototype.s=!1;ri.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),E4!=0)&&g4(this)};ri.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Ow=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Am(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function Hy(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(zc(r)){const i=t.length||0,o=r.length||0;t.length=i+o;for(let s=0;s<o;s++)t[i+s]=r[s]}else t.push(r)}}function Pt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Pt.prototype.h=function(){this.defaultPrevented=!0};var w4=function(){if(!he.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{const n=()=>{};he.addEventListener("test",n,e),he.removeEventListener("test",n,e)}catch{}return t}();function Ea(t){return/^[\s\xa0]*$/.test(t)}function Wc(){var t=he.navigator;return t&&(t=t.userAgent)?t:""}function Cn(t){return Wc().indexOf(t)!=-1}function Om(t){return Om[" "](t),t}Om[" "]=function(){};function T4(t,e){var n=m3;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var S4=Cn("Opera"),Co=Cn("Trident")||Cn("MSIE"),Pw=Cn("Edge"),xd=Pw||Co,Rw=Cn("Gecko")&&!(Wc().toLowerCase().indexOf("webkit")!=-1&&!Cn("Edge"))&&!(Cn("Trident")||Cn("MSIE"))&&!Cn("Edge"),I4=Wc().toLowerCase().indexOf("webkit")!=-1&&!Cn("Edge");function kw(){var t=he.document;return t?t.documentMode:void 0}var Ld;e:{var ch="",fh=function(){var t=Wc();if(Rw)return/rv:([^\);]+)(\)|;)/.exec(t);if(Pw)return/Edge\/([\d\.]+)/.exec(t);if(Co)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(I4)return/WebKit\/(\S+)/.exec(t);if(S4)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(fh&&(ch=fh?fh[1]:""),Co){var hh=kw();if(hh!=null&&hh>parseFloat(ch)){Ld=String(hh);break e}}Ld=ch}var Dd;if(he.document&&Co){var Wy=kw();Dd=Wy||parseInt(Ld,10)||void 0}else Dd=void 0;var b4=Dd;function wa(t,e){if(Pt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(Rw){e:{try{Om(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:A4[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&wa.$.h.call(this)}}ut(wa,Pt);var A4={2:"touch",3:"pen",4:"mouse"};wa.prototype.h=function(){wa.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Kc="closure_listenable_"+(1e6*Math.random()|0),O4=0;function P4(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++O4,this.fa=this.ia=!1}function Gc(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function Pm(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function R4(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function Cw(t){const e={};for(const n in t)e[n]=t[n];return e}const Ky="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Nw(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let o=0;o<Ky.length;o++)n=Ky[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Qc(t){this.src=t,this.g={},this.h=0}Qc.prototype.add=function(t,e,n,r,i){var o=t.toString();t=this.g[o],t||(t=this.g[o]=[],this.h++);var s=Vd(t,e,r,i);return-1<s?(e=t[s],n||(e.ia=!1)):(e=new P4(e,this.src,o,!!r,i),e.ia=n,t.push(e)),e};function Md(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=Ow(r,e),o;(o=0<=i)&&Array.prototype.splice.call(r,i,1),o&&(Gc(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Vd(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.fa&&o.listener==e&&o.capture==!!n&&o.la==r)return i}return-1}var Rm="closure_lm_"+(1e6*Math.random()|0),dh={};function xw(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)xw(t,e[o],n,r,i);return null}return n=Mw(n),t&&t[Kc]?t.O(e,n,Hc(r)?!!r.capture:!!r,i):k4(t,e,n,!1,r,i)}function k4(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=Hc(i)?!!i.capture:!!i,a=Cm(t);if(a||(t[Rm]=a=new Qc(t)),n=a.add(e,n,r,s,o),n.proxy)return n;if(r=C4(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)w4||(i=s),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Dw(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function C4(){function t(n){return e.call(t.src,t.listener,n)}const e=N4;return t}function Lw(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)Lw(t,e[o],n,r,i);else r=Hc(r)?!!r.capture:!!r,n=Mw(n),t&&t[Kc]?(t=t.i,e=String(e).toString(),e in t.g&&(o=t.g[e],n=Vd(o,n,r,i),-1<n&&(Gc(o[n]),Array.prototype.splice.call(o,n,1),o.length==0&&(delete t.g[e],t.h--)))):t&&(t=Cm(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Vd(e,n,r,i)),(n=-1<t?e[t]:null)&&km(n))}function km(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[Kc])Md(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Dw(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Cm(e))?(Md(n,t),n.h==0&&(n.src=null,e[Rm]=null)):Gc(t)}}}function Dw(t){return t in dh?dh[t]:dh[t]="on"+t}function N4(t,e){if(t.fa)t=!0;else{e=new wa(e,this);var n=t.listener,r=t.la||t.src;t.ia&&km(t),t=n.call(r,e)}return t}function Cm(t){return t=t[Rm],t instanceof Qc?t:null}var ph="__closure_events_fn_"+(1e9*Math.random()>>>0);function Mw(t){return typeof t=="function"?t:(t[ph]||(t[ph]=function(e){return t.handleEvent(e)}),t[ph])}function lt(){ri.call(this),this.i=new Qc(this),this.S=this,this.J=null}ut(lt,ri);lt.prototype[Kc]=!0;lt.prototype.removeEventListener=function(t,e,n,r){Lw(this,t,e,n,r)};function mt(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new Pt(e,t);else if(e instanceof Pt)e.target=e.target||t;else{var i=e;e=new Pt(r,t),Nw(e,i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.g=n[o];i=xl(s,r,!0,e)&&i}if(s=e.g=t,i=xl(s,r,!0,e)&&i,i=xl(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)s=e.g=n[o],i=xl(s,r,!1,e)&&i}lt.prototype.N=function(){if(lt.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Gc(n[r]);delete t.g[e],t.h--}}this.J=null};lt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};lt.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function xl(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.fa&&s.capture==n){var a=s.listener,l=s.la||s.src;s.ia&&Md(t.i,s),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var Nm=he.JSON.stringify;class x4{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function L4(){var t=xm;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class D4{constructor(){this.h=this.g=null}add(e,n){const r=Vw.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var Vw=new x4(()=>new M4,t=>t.reset());class M4{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function V4(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function F4(t){he.setTimeout(()=>{throw t},0)}let Ta,Sa=!1,xm=new D4,Fw=()=>{const t=he.Promise.resolve(void 0);Ta=()=>{t.then(j4)}};var j4=()=>{for(var t;t=L4();){try{t.h.call(t.g)}catch(n){F4(n)}var e=Vw;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Sa=!1};function Yc(t,e){lt.call(this),this.h=t||1,this.g=e||he,this.j=Ot(this.qb,this),this.l=Date.now()}ut(Yc,lt);te=Yc.prototype;te.ga=!1;te.T=null;te.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),mt(this,"tick"),this.ga&&(Lm(this),this.start()))}};te.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Lm(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}te.N=function(){Yc.$.N.call(this),Lm(this),delete this.g};function Dm(t,e,n){if(typeof t=="function")n&&(t=Ot(t,n));else if(t&&typeof t.handleEvent=="function")t=Ot(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:he.setTimeout(t,e||0)}function jw(t){t.g=Dm(()=>{t.g=null,t.i&&(t.i=!1,jw(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class U4 extends ri{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:jw(this)}N(){super.N(),this.g&&(he.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ia(t){ri.call(this),this.h=t,this.g={}}ut(Ia,ri);var Gy=[];function Uw(t,e,n,r){Array.isArray(n)||(n&&(Gy[0]=n.toString()),n=Gy);for(var i=0;i<n.length;i++){var o=xw(e,n[i],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function $w(t){Pm(t.g,function(e,n){this.g.hasOwnProperty(n)&&km(e)},t),t.g={}}Ia.prototype.N=function(){Ia.$.N.call(this),$w(this)};Ia.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Xc(){this.g=!0}Xc.prototype.Ea=function(){this.g=!1};function $4(t,e,n,r,i,o){t.info(function(){if(t.g)if(o)for(var s="",a=o.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var h=u[0];u=u[1];var f=h.split("_");s=2<=f.length&&f[1]=="type"?s+(h+"="+u+"&"):s+(h+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+s})}function B4(t,e,n,r,i,o,s){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+o+" "+s})}function ao(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+z4(t,n)+(r?" "+r:"")})}function q4(t,e){t.info(function(){return"TIMEOUT: "+e})}Xc.prototype.info=function(){};function z4(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if(o!="noop"&&o!="stop"&&o!="close")for(var s=1;s<i.length;s++)i[s]=""}}}}return Nm(n)}catch{return e}}var ji={},Qy=null;function Jc(){return Qy=Qy||new lt}ji.Ta="serverreachability";function Bw(t){Pt.call(this,ji.Ta,t)}ut(Bw,Pt);function ba(t){const e=Jc();mt(e,new Bw(e))}ji.STAT_EVENT="statevent";function qw(t,e){Pt.call(this,ji.STAT_EVENT,t),this.stat=e}ut(qw,Pt);function Lt(t){const e=Jc();mt(e,new qw(e,t))}ji.Ua="timingevent";function zw(t,e){Pt.call(this,ji.Ua,t),this.size=e}ut(zw,Pt);function Ga(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return he.setTimeout(function(){t()},e)}var Zc={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Hw={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Mm(){}Mm.prototype.h=null;function Yy(t){return t.h||(t.h=t.i())}function Ww(){}var Qa={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Vm(){Pt.call(this,"d")}ut(Vm,Pt);function Fm(){Pt.call(this,"c")}ut(Fm,Pt);var Fd;function ef(){}ut(ef,Mm);ef.prototype.g=function(){return new XMLHttpRequest};ef.prototype.i=function(){return{}};Fd=new ef;function Ya(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Ia(this),this.P=H4,t=xd?125:void 0,this.V=new Yc(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Kw}function Kw(){this.i=null,this.g="",this.h=!1}var H4=45e3,Gw={},jd={};te=Ya.prototype;te.setTimeout=function(t){this.P=t};function Ud(t,e,n){t.L=1,t.A=nf(cr(e)),t.u=n,t.S=!0,Qw(t,null)}function Qw(t,e){t.G=Date.now(),Xa(t),t.B=cr(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),rT(n.i,"t",r),t.o=0,n=t.l.J,t.h=new Kw,t.g=IT(t.l,n?e:null,!t.u),0<t.O&&(t.M=new U4(Ot(t.Pa,t,t.g),t.O)),Uw(t.U,t.g,"readystatechange",t.nb),e=t.I?Cw(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),ba(),$4(t.j,t.v,t.B,t.m,t.W,t.u)}te.nb=function(t){t=t.target;const e=this.M;e&&xn(t)==3?e.l():this.Pa(t)};te.Pa=function(t){try{if(t==this.g)e:{const h=xn(this.g);var e=this.g.Ia();const f=this.g.da();if(!(3>h)&&(h!=3||xd||this.g&&(this.h.h||this.g.ja()||e_(this.g)))){this.J||h!=4||e==7||(e==8||0>=f?ba(3):ba(2)),tf(this);var n=this.g.da();this.ca=n;t:if(Yw(this)){var r=e_(this.g);t="";var i=r.length,o=xn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){mi(this),qs(this);var s="";break t}this.h.i=new he.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:o&&e==i-1});r.length=0,this.h.g+=t,this.o=0,s=this.h.g}else s=this.g.ja();if(this.i=n==200,B4(this.j,this.v,this.B,this.m,this.W,h,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ea(a)){var u=a;break t}}u=null}if(n=u)ao(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,$d(this,n);else{this.i=!1,this.s=3,Lt(12),mi(this),qs(this);break e}}this.S?(Xw(this,h,s),xd&&this.i&&h==3&&(Uw(this.U,this.V,"tick",this.mb),this.V.start())):(ao(this.j,this.m,s,null),$d(this,s)),h==4&&mi(this),this.i&&!this.J&&(h==4?ET(this.l,this):(this.i=!1,Xa(this)))}else h3(this.g),n==400&&0<s.indexOf("Unknown SID")?(this.s=3,Lt(12)):(this.s=0,Lt(13)),mi(this),qs(this)}}}catch{}finally{}};function Yw(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function Xw(t,e,n){let r=!0,i;for(;!t.J&&t.o<n.length;)if(i=W4(t,n),i==jd){e==4&&(t.s=4,Lt(14),r=!1),ao(t.j,t.m,null,"[Incomplete Response]");break}else if(i==Gw){t.s=4,Lt(15),ao(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else ao(t.j,t.m,i,null),$d(t,i);Yw(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,Lt(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),zm(e),e.M=!0,Lt(11))):(ao(t.j,t.m,n,"[Invalid Chunked Response]"),mi(t),qs(t))}te.mb=function(){if(this.g){var t=xn(this.g),e=this.g.ja();this.o<e.length&&(tf(this),Xw(this,t,e),this.i&&t!=4&&Xa(this))}};function W4(t,e){var n=t.o,r=e.indexOf(`
`,n);return r==-1?jd:(n=Number(e.substring(n,r)),isNaN(n)?Gw:(r+=1,r+n>e.length?jd:(e=e.slice(r,r+n),t.o=r+n,e)))}te.cancel=function(){this.J=!0,mi(this)};function Xa(t){t.Y=Date.now()+t.P,Jw(t,t.P)}function Jw(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=Ga(Ot(t.lb,t),e)}function tf(t){t.C&&(he.clearTimeout(t.C),t.C=null)}te.lb=function(){this.C=null;const t=Date.now();0<=t-this.Y?(q4(this.j,this.B),this.L!=2&&(ba(),Lt(17)),mi(this),this.s=2,qs(this)):Jw(this,this.Y-t)};function qs(t){t.l.H==0||t.J||ET(t.l,t)}function mi(t){tf(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,Lm(t.V),$w(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function $d(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||Bd(n.i,t))){if(!t.K&&Bd(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)Yu(n),sf(n);else break e;qm(n),Lt(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=Ga(Ot(n.ib,n),6e3));if(1>=sT(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else gi(n,11)}else if((t.K||n.g==t)&&Yu(n),!Ea(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];const h=u[3];h!=null&&(n.ra=h,n.l.info("VER="+n.ra));const f=u[4];f!=null&&(n.Ga=f,n.l.info("SVER="+n.Ga));const c=u[5];c!=null&&typeof c=="number"&&0<c&&(r=1.5*c,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=t.g;if(d){const _=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(_){var o=r.i;o.g||_.indexOf("spdy")==-1&&_.indexOf("quic")==-1&&_.indexOf("h2")==-1||(o.j=o.l,o.g=new Set,o.h&&(jm(o,o.h),o.h=null))}if(r.F){const y=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;y&&(r.Da=y,Ve(r.I,r.F,y))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var s=t;if(r.wa=ST(r,r.J?r.pa:null,r.Y),s.K){aT(r.i,s);var a=s,l=r.L;l&&a.setTimeout(l),a.C&&(tf(a),Xa(a)),r.g=s}else yT(r);0<n.j.length&&af(n)}else u[0]!="stop"&&u[0]!="close"||gi(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?gi(n,7):Bm(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}ba(4)}catch{}}function K4(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(zc(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function G4(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(zc(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function Zw(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(zc(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=G4(t),r=K4(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}var eT=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Q4(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Ei(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Ei){this.h=t.h,Gu(this,t.j),this.s=t.s,this.g=t.g,Qu(this,t.m),this.l=t.l;var e=t.i,n=new Aa;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),Xy(this,n),this.o=t.o}else t&&(e=String(t).match(eT))?(this.h=!1,Gu(this,e[1]||"",!0),this.s=Os(e[2]||""),this.g=Os(e[3]||"",!0),Qu(this,e[4]),this.l=Os(e[5]||"",!0),Xy(this,e[6]||"",!0),this.o=Os(e[7]||"")):(this.h=!1,this.i=new Aa(null,this.h))}Ei.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Ps(e,Jy,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Ps(e,Jy,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(Ps(n,n.charAt(0)=="/"?J4:X4,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Ps(n,e3)),t.join("")};function cr(t){return new Ei(t)}function Gu(t,e,n){t.j=n?Os(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Qu(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function Xy(t,e,n){e instanceof Aa?(t.i=e,t3(t.i,t.h)):(n||(e=Ps(e,Z4)),t.i=new Aa(e,t.h))}function Ve(t,e,n){t.i.set(e,n)}function nf(t){return Ve(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Os(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Ps(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,Y4),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Y4(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var Jy=/[#\/\?@]/g,X4=/[#\?:]/g,J4=/[#\?]/g,Z4=/[#\?@]/g,e3=/#/g;function Aa(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function ii(t){t.g||(t.g=new Map,t.h=0,t.i&&Q4(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}te=Aa.prototype;te.add=function(t,e){ii(this),this.i=null,t=Zo(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function tT(t,e){ii(t),e=Zo(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function nT(t,e){return ii(t),e=Zo(t,e),t.g.has(e)}te.forEach=function(t,e){ii(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};te.ta=function(){ii(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let o=0;o<i.length;o++)n.push(e[r])}return n};te.Z=function(t){ii(this);let e=[];if(typeof t=="string")nT(this,t)&&(e=e.concat(this.g.get(Zo(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};te.set=function(t,e){return ii(this),this.i=null,t=Zo(this,t),nT(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};te.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function rT(t,e,n){tT(t,e),0<n.length&&(t.i=null,t.g.set(Zo(t,e),Am(n)),t.h+=n.length)}te.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const o=encodeURIComponent(String(r)),s=this.Z(r);for(r=0;r<s.length;r++){var i=o;s[r]!==""&&(i+="="+encodeURIComponent(String(s[r]))),t.push(i)}}return this.i=t.join("&")};function Zo(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function t3(t,e){e&&!t.j&&(ii(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(tT(this,r),rT(this,i,n))},t)),t.j=e}var n3=class{constructor(t,e){this.g=t,this.map=e}};function iT(t){this.l=t||r3,he.PerformanceNavigationTiming?(t=he.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(he.g&&he.g.Ka&&he.g.Ka()&&he.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var r3=10;function oT(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function sT(t){return t.h?1:t.g?t.g.size:0}function Bd(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function jm(t,e){t.g?t.g.add(e):t.h=e}function aT(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}iT.prototype.cancel=function(){if(this.i=lT(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function lT(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return Am(t.i)}var i3=class{stringify(t){return he.JSON.stringify(t,void 0)}parse(t){return he.JSON.parse(t,void 0)}};function o3(){this.g=new i3}function s3(t,e,n){const r=n||"";try{Zw(t,function(i,o){let s=i;Hc(i)&&(s=Nm(i)),e.push(r+o+"="+encodeURIComponent(s))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function a3(t,e){const n=new Xc;if(he.Image){const r=new Image;r.onload=Nl(Ll,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Nl(Ll,n,r,"TestLoadImage: error",!1,e),r.onabort=Nl(Ll,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Nl(Ll,n,r,"TestLoadImage: timeout",!1,e),he.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Ll(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Ja(t){this.l=t.ec||null,this.j=t.ob||!1}ut(Ja,Mm);Ja.prototype.g=function(){return new rf(this.l,this.j)};Ja.prototype.i=function(t){return function(){return t}}({});function rf(t,e){lt.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=Um,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ut(rf,lt);var Um=0;te=rf.prototype;te.open=function(t,e){if(this.readyState!=Um)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Oa(this)};te.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||he).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};te.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Za(this)),this.readyState=Um};te.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Oa(this)),this.g&&(this.readyState=3,Oa(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof he.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;uT(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function uT(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}te.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Za(this):Oa(this),this.readyState==3&&uT(this)}};te.Za=function(t){this.g&&(this.response=this.responseText=t,Za(this))};te.Ya=function(t){this.g&&(this.response=t,Za(this))};te.ka=function(){this.g&&Za(this)};function Za(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Oa(t)}te.setRequestHeader=function(t,e){this.v.append(t,e)};te.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};te.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Oa(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(rf.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var l3=he.JSON.parse;function Ke(t){lt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=cT,this.L=this.M=!1}ut(Ke,lt);var cT="",u3=/^https?$/i,c3=["POST","PUT"];te=Ke.prototype;te.Oa=function(t){this.M=t};te.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Fd.g(),this.C=this.u?Yy(this.u):Yy(Fd),this.g.onreadystatechange=Ot(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(o){Zy(this,o);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const o of r.keys())n.set(o,r.get(o));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(o=>o.toLowerCase()=="content-type"),i=he.FormData&&t instanceof he.FormData,!(0<=Ow(c3,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,s]of n)this.g.setRequestHeader(o,s);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{dT(this),0<this.B&&((this.L=f3(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ot(this.ua,this)):this.A=Dm(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){Zy(this,o)}};function f3(t){return Co&&typeof t.timeout=="number"&&t.ontimeout!==void 0}te.ua=function(){typeof bm<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,mt(this,"timeout"),this.abort(8))};function Zy(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,fT(t),of(t)}function fT(t){t.F||(t.F=!0,mt(t,"complete"),mt(t,"error"))}te.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,mt(this,"complete"),mt(this,"abort"),of(this))};te.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),of(this,!0)),Ke.$.N.call(this)};te.La=function(){this.s||(this.G||this.v||this.l?hT(this):this.kb())};te.kb=function(){hT(this)};function hT(t){if(t.h&&typeof bm<"u"&&(!t.C[1]||xn(t)!=4||t.da()!=2)){if(t.v&&xn(t)==4)Dm(t.La,0,t);else if(mt(t,"readystatechange"),xn(t)==4){t.h=!1;try{const s=t.da();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=s===0){var i=String(t.I).match(eT)[1]||null;!i&&he.self&&he.self.location&&(i=he.self.location.protocol.slice(0,-1)),r=!u3.test(i?i.toLowerCase():"")}n=r}if(n)mt(t,"complete"),mt(t,"success");else{t.m=6;try{var o=2<xn(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.da()+"]",fT(t)}}finally{of(t)}}}}function of(t,e){if(t.g){dT(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||mt(t,"ready");try{n.onreadystatechange=r}catch{}}}function dT(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(he.clearTimeout(t.A),t.A=null)}te.isActive=function(){return!!this.g};function xn(t){return t.g?t.g.readyState:0}te.da=function(){try{return 2<xn(this)?this.g.status:-1}catch{return-1}};te.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};te.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),l3(e)}};function e_(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case cT:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function h3(t){const e={};t=(t.g&&2<=xn(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(Ea(t[r]))continue;var n=V4(t[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const o=e[i]||[];e[i]=o,o.push(n)}R4(e,function(r){return r.join(", ")})}te.Ia=function(){return this.m};te.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function pT(t){let e="";return Pm(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function $m(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=pT(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Ve(t,e,n))}function ys(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function mT(t){this.Ga=0,this.j=[],this.l=new Xc,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=ys("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=ys("baseRetryDelayMs",5e3,t),this.hb=ys("retryDelaySeedMs",1e4,t),this.eb=ys("forwardChannelMaxRetries",2,t),this.xa=ys("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new iT(t&&t.concurrentRequestLimit),this.Ja=new o3,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}te=mT.prototype;te.ra=8;te.H=1;function Bm(t){if(gT(t),t.H==3){var e=t.W++,n=cr(t.I);if(Ve(n,"SID",t.K),Ve(n,"RID",e),Ve(n,"TYPE","terminate"),el(t,n),e=new Ya(t,t.l,e),e.L=2,e.A=nf(cr(n)),n=!1,he.navigator&&he.navigator.sendBeacon)try{n=he.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&he.Image&&(new Image().src=e.A,n=!0),n||(e.g=IT(e.l,null),e.g.ha(e.A)),e.G=Date.now(),Xa(e)}TT(t)}function sf(t){t.g&&(zm(t),t.g.cancel(),t.g=null)}function gT(t){sf(t),t.u&&(he.clearTimeout(t.u),t.u=null),Yu(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&he.clearTimeout(t.m),t.m=null)}function af(t){if(!oT(t.i)&&!t.m){t.m=!0;var e=t.Na;Ta||Fw(),Sa||(Ta(),Sa=!0),xm.add(e,t),t.C=0}}function d3(t,e){return sT(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=Ga(Ot(t.Na,t,e),wT(t,t.C)),t.C++,!0)}te.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new Ya(this,this.l,t);let o=this.s;if(this.U&&(o?(o=Cw(o),Nw(o,this.U)):o=this.U),this.o!==null||this.O||(i.I=o,o=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=vT(this,i,e),n=cr(this.I),Ve(n,"RID",t),Ve(n,"CVER",22),this.F&&Ve(n,"X-HTTP-Session-Id",this.F),el(this,n),o&&(this.O?e="headers="+encodeURIComponent(String(pT(o)))+"&"+e:this.o&&$m(n,this.o,o)),jm(this.i,i),this.bb&&Ve(n,"TYPE","init"),this.P?(Ve(n,"$req",e),Ve(n,"SID","null"),i.aa=!0,Ud(i,n,null)):Ud(i,n,e),this.H=2}}else this.H==3&&(t?t_(this,t):this.j.length==0||oT(this.i)||t_(this))};function t_(t,e){var n;e?n=e.m:n=t.W++;const r=cr(t.I);Ve(r,"SID",t.K),Ve(r,"RID",n),Ve(r,"AID",t.V),el(t,r),t.o&&t.s&&$m(r,t.o,t.s),n=new Ya(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=vT(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),jm(t.i,n),Ud(n,r,e)}function el(t,e){t.na&&Pm(t.na,function(n,r){Ve(e,r,n)}),t.h&&Zw({},function(n,r){Ve(e,r,n)})}function vT(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Ot(t.h.Va,t.h,t):null;e:{var i=t.j;let o=-1;for(;;){const s=["count="+n];o==-1?0<n?(o=i[0].g,s.push("ofs="+o)):o=0:s.push("ofs="+o);let a=!0;for(let l=0;l<n;l++){let u=i[l].g;const h=i[l].map;if(u-=o,0>u)o=Math.max(0,i[l].g-100),a=!1;else try{s3(h,s,"req"+u+"_")}catch{r&&r(h)}}if(a){r=s.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function yT(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Ta||Fw(),Sa||(Ta(),Sa=!0),xm.add(e,t),t.A=0}}function qm(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=Ga(Ot(t.Ma,t),wT(t,t.A)),t.A++,!0)}te.Ma=function(){if(this.u=null,_T(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Ga(Ot(this.jb,this),t)}};te.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Lt(10),sf(this),_T(this))};function zm(t){t.B!=null&&(he.clearTimeout(t.B),t.B=null)}function _T(t){t.g=new Ya(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=cr(t.wa);Ve(e,"RID","rpc"),Ve(e,"SID",t.K),Ve(e,"AID",t.V),Ve(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Ve(e,"TO",t.qa),Ve(e,"TYPE","xmlhttp"),el(t,e),t.o&&t.s&&$m(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=nf(cr(e)),n.u=null,n.S=!0,Qw(n,t)}te.ib=function(){this.v!=null&&(this.v=null,sf(this),qm(this),Lt(19))};function Yu(t){t.v!=null&&(he.clearTimeout(t.v),t.v=null)}function ET(t,e){var n=null;if(t.g==e){Yu(t),zm(t),t.g=null;var r=2}else if(Bd(t.i,e))n=e.F,aT(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var i=t.C;r=Jc(),mt(r,new zw(r,n)),af(t)}else yT(t);else if(i=e.s,i==3||i==0&&0<e.ca||!(r==1&&d3(t,e)||r==2&&qm(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:gi(t,5);break;case 4:gi(t,10);break;case 3:gi(t,6);break;default:gi(t,2)}}}function wT(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function gi(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=Ot(t.pb,t);n||(n=new Ei("//www.google.com/images/cleardot.gif"),he.location&&he.location.protocol=="http"||Gu(n,"https"),nf(n)),a3(n.toString(),r)}else Lt(2);t.H=0,t.h&&t.h.za(e),TT(t),gT(t)}te.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Lt(2)):(this.l.info("Failed to ping google.com"),Lt(1))};function TT(t){if(t.H=0,t.ma=[],t.h){const e=lT(t.i);(e.length!=0||t.j.length!=0)&&(Hy(t.ma,e),Hy(t.ma,t.j),t.i.i.length=0,Am(t.j),t.j.length=0),t.h.ya()}}function ST(t,e,n){var r=n instanceof Ei?cr(n):new Ei(n);if(r.g!="")e&&(r.g=e+"."+r.g),Qu(r,r.m);else{var i=he.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var o=new Ei(null);r&&Gu(o,r),e&&(o.g=e),i&&Qu(o,i),n&&(o.l=n),r=o}return n=t.F,e=t.Da,n&&e&&Ve(r,n,e),Ve(r,"VER",t.ra),el(t,r),r}function IT(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new Ke(new Ja({ob:n})):new Ke(t.va),e.Oa(t.J),e}te.isActive=function(){return!!this.h&&this.h.isActive(this)};function bT(){}te=bT.prototype;te.Ba=function(){};te.Aa=function(){};te.za=function(){};te.ya=function(){};te.isActive=function(){return!0};te.Va=function(){};function Xu(){if(Co&&!(10<=Number(b4)))throw Error("Environmental error: no available transport.")}Xu.prototype.g=function(t,e){return new Qt(t,e)};function Qt(t,e){lt.call(this),this.g=new mT(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Ea(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Ea(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new es(this)}ut(Qt,lt);Qt.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Lt(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=ST(t,null,t.Y),af(t)};Qt.prototype.close=function(){Bm(this.g)};Qt.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=Nm(t),t=n);e.j.push(new n3(e.fb++,t)),e.H==3&&af(e)};Qt.prototype.N=function(){this.g.h=null,delete this.j,Bm(this.g),delete this.g,Qt.$.N.call(this)};function AT(t){Vm.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}ut(AT,Vm);function OT(){Fm.call(this),this.status=1}ut(OT,Fm);function es(t){this.g=t}ut(es,bT);es.prototype.Ba=function(){mt(this.g,"a")};es.prototype.Aa=function(t){mt(this.g,new AT(t))};es.prototype.za=function(t){mt(this.g,new OT)};es.prototype.ya=function(){mt(this.g,"b")};function p3(){this.blockSize=-1}function In(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}ut(In,p3);In.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function mh(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var o=t.g[3],s=e+(o^n&(i^o))+r[0]+3614090360&4294967295;e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[1]+3905402710&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[2]+606105819&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[3]+3250441966&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[4]+4118548399&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[5]+1200080426&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[6]+2821735955&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[7]+4249261313&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[8]+1770035416&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[9]+2336552879&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[10]+4294925233&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[11]+2304563134&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[12]+1804603682&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[13]+4254626195&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[14]+2792965006&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[15]+1236535329&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(i^o&(n^i))+r[1]+4129170786&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[6]+3225465664&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[11]+643717713&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[0]+3921069994&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[5]+3593408605&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[10]+38016083&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[15]+3634488961&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[4]+3889429448&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[9]+568446438&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[14]+3275163606&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[3]+4107603335&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[8]+1163531501&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[13]+2850285829&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[2]+4243563512&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[7]+1735328473&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[12]+2368359562&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(n^i^o)+r[5]+4294588738&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[8]+2272392833&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[11]+1839030562&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[14]+4259657740&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[1]+2763975236&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[4]+1272893353&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[7]+4139469664&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[10]+3200236656&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[13]+681279174&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[0]+3936430074&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[3]+3572445317&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[6]+76029189&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[9]+3654602809&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[12]+3873151461&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[15]+530742520&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[2]+3299628645&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(i^(n|~o))+r[0]+4096336452&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[7]+1126891415&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[14]+2878612391&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[5]+4237533241&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[12]+1700485571&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[3]+2399980690&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[10]+4293915773&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[1]+2240044497&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[8]+1873313359&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[15]+4264355552&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[6]+2734768916&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[13]+1309151649&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[4]+4149444226&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[11]+3174756917&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[2]+718787259&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+o&4294967295}In.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,o=0;o<e;){if(i==0)for(;o<=n;)mh(this,t,o),o+=this.blockSize;if(typeof t=="string"){for(;o<e;)if(r[i++]=t.charCodeAt(o++),i==this.blockSize){mh(this,r),i=0;break}}else for(;o<e;)if(r[i++]=t[o++],i==this.blockSize){mh(this,r),i=0;break}}this.h=i,this.i+=e};In.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function Ne(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var o=t[i]|0;r&&o==e||(n[i]=o,r=!1)}this.g=n}var m3={};function Hm(t){return-128<=t&&128>t?T4(t,function(e){return new Ne([e|0],0>e?-1:0)}):new Ne([t|0],0>t?-1:0)}function Ln(t){if(isNaN(t)||!isFinite(t))return Eo;if(0>t)return ht(Ln(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=qd;return new Ne(e,0)}function PT(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return ht(PT(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Ln(Math.pow(e,8)),r=Eo,i=0;i<t.length;i+=8){var o=Math.min(8,t.length-i),s=parseInt(t.substring(i,i+o),e);8>o?(o=Ln(Math.pow(e,o)),r=r.R(o).add(Ln(s))):(r=r.R(n),r=r.add(Ln(s)))}return r}var qd=4294967296,Eo=Hm(0),zd=Hm(1),n_=Hm(16777216);te=Ne.prototype;te.ea=function(){if(nn(this))return-ht(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:qd+r)*e,e*=qd}return t};te.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(er(this))return"0";if(nn(this))return"-"+ht(this).toString(t);for(var e=Ln(Math.pow(t,6)),n=this,r="";;){var i=Zu(n,e).g;n=Ju(n,i.R(e));var o=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,er(n))return o+r;for(;6>o.length;)o="0"+o;r=o+r}};te.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function er(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function nn(t){return t.h==-1}te.X=function(t){return t=Ju(this,t),nn(t)?-1:er(t)?0:1};function ht(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Ne(n,~t.h).add(zd)}te.abs=function(){return nn(this)?ht(this):this};te.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var o=r+(this.D(i)&65535)+(t.D(i)&65535),s=(o>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=s>>>16,o&=65535,s&=65535,n[i]=s<<16|o}return new Ne(n,n[n.length-1]&-2147483648?-1:0)};function Ju(t,e){return t.add(ht(e))}te.R=function(t){if(er(this)||er(t))return Eo;if(nn(this))return nn(t)?ht(this).R(ht(t)):ht(ht(this).R(t));if(nn(t))return ht(this.R(ht(t)));if(0>this.X(n_)&&0>t.X(n_))return Ln(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var o=this.D(r)>>>16,s=this.D(r)&65535,a=t.D(i)>>>16,l=t.D(i)&65535;n[2*r+2*i]+=s*l,Dl(n,2*r+2*i),n[2*r+2*i+1]+=o*l,Dl(n,2*r+2*i+1),n[2*r+2*i+1]+=s*a,Dl(n,2*r+2*i+1),n[2*r+2*i+2]+=o*a,Dl(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Ne(n,0)};function Dl(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function _s(t,e){this.g=t,this.h=e}function Zu(t,e){if(er(e))throw Error("division by zero");if(er(t))return new _s(Eo,Eo);if(nn(t))return e=Zu(ht(t),e),new _s(ht(e.g),ht(e.h));if(nn(e))return e=Zu(t,ht(e)),new _s(ht(e.g),e.h);if(30<t.g.length){if(nn(t)||nn(e))throw Error("slowDivide_ only works with positive integers.");for(var n=zd,r=e;0>=r.X(t);)n=r_(n),r=r_(r);var i=qi(n,1),o=qi(r,1);for(r=qi(r,2),n=qi(n,2);!er(r);){var s=o.add(r);0>=s.X(t)&&(i=i.add(n),o=s),r=qi(r,1),n=qi(n,1)}return e=Ju(t,i.R(e)),new _s(i,e)}for(i=Eo;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),o=Ln(n),s=o.R(e);nn(s)||0<s.X(t);)n-=r,o=Ln(n),s=o.R(e);er(o)&&(o=zd),i=i.add(o),t=Ju(t,s)}return new _s(i,t)}te.gb=function(t){return Zu(this,t).h};te.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Ne(n,this.h&t.h)};te.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Ne(n,this.h|t.h)};te.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Ne(n,this.h^t.h)};function r_(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Ne(n,t.h)}function qi(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],o=0;o<r;o++)i[o]=0<e?t.D(o+n)>>>e|t.D(o+n+1)<<32-e:t.D(o+n);return new Ne(i,t.h)}Xu.prototype.createWebChannel=Xu.prototype.g;Qt.prototype.send=Qt.prototype.u;Qt.prototype.open=Qt.prototype.m;Qt.prototype.close=Qt.prototype.close;Zc.NO_ERROR=0;Zc.TIMEOUT=8;Zc.HTTP_ERROR=6;Hw.COMPLETE="complete";Ww.EventType=Qa;Qa.OPEN="a";Qa.CLOSE="b";Qa.ERROR="c";Qa.MESSAGE="d";lt.prototype.listen=lt.prototype.O;Ke.prototype.listenOnce=Ke.prototype.P;Ke.prototype.getLastError=Ke.prototype.Sa;Ke.prototype.getLastErrorCode=Ke.prototype.Ia;Ke.prototype.getStatus=Ke.prototype.da;Ke.prototype.getResponseJson=Ke.prototype.Wa;Ke.prototype.getResponseText=Ke.prototype.ja;Ke.prototype.send=Ke.prototype.ha;Ke.prototype.setWithCredentials=Ke.prototype.Oa;In.prototype.digest=In.prototype.l;In.prototype.reset=In.prototype.reset;In.prototype.update=In.prototype.j;Ne.prototype.add=Ne.prototype.add;Ne.prototype.multiply=Ne.prototype.R;Ne.prototype.modulo=Ne.prototype.gb;Ne.prototype.compare=Ne.prototype.X;Ne.prototype.toNumber=Ne.prototype.ea;Ne.prototype.toString=Ne.prototype.toString;Ne.prototype.getBits=Ne.prototype.D;Ne.fromNumber=Ln;Ne.fromString=PT;var g3=function(){return new Xu},v3=function(){return Jc()},gh=Zc,y3=Hw,_3=ji,i_={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},E3=Ja,Ml=Ww,w3=Ke,T3=In,wo=Ne;const o_="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}It.UNAUTHENTICATED=new It(null),It.GOOGLE_CREDENTIALS=new It("google-credentials-uid"),It.FIRST_PARTY=new It("first-party-uid"),It.MOCK_USER=new It("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ts="10.11.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ci=new dm("@firebase/firestore");function Es(){return Ci.logLevel}function se(t,...e){if(Ci.logLevel<=be.DEBUG){const n=e.map(Wm);Ci.debug(`Firestore (${ts}): ${t}`,...n)}}function fr(t,...e){if(Ci.logLevel<=be.ERROR){const n=e.map(Wm);Ci.error(`Firestore (${ts}): ${t}`,...n)}}function No(t,...e){if(Ci.logLevel<=be.WARN){const n=e.map(Wm);Ci.warn(`Firestore (${ts}): ${t}`,...n)}}function Wm(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ce(t="Unexpected state"){const e=`FIRESTORE (${ts}) INTERNAL ASSERTION FAILED: `+t;throw fr(e),new Error(e)}function Le(t,e){t||ce()}function me(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ae extends mr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class S3{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(It.UNAUTHENTICATED))}shutdown(){}}class I3{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class b3{constructor(e){this.t=e,this.currentUser=It.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let o=new rr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new rr,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const l=o;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{se("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(se("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new rr)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(se("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Le(typeof r.accessToken=="string"),new RT(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Le(e===null||typeof e=="string"),new It(e)}}class A3{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=It.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class O3{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new A3(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(It.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class P3{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class R3{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=o=>{o.error!=null&&se("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,se("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{se("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):se("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Le(typeof n.token=="string"),this.R=n.token,new P3(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k3(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kT{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=k3(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}}function Pe(t,e){return t<e?-1:t>e?1:0}function xo(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ae(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ae(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ae(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ae(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return it.fromMillis(Date.now())}static fromDate(e){return it.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new it(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Pe(this.nanoseconds,e.nanoseconds):Pe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{constructor(e){this.timestamp=e}static fromTimestamp(e){return new pe(e)}static min(){return new pe(new it(0,0))}static max(){return new pe(new it(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa{constructor(e,n,r){n===void 0?n=0:n>e.length&&ce(),r===void 0?r=e.length-n:r>e.length-n&&ce(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Pa.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Pa?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Ue extends Pa{construct(e,n,r){return new Ue(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ae(Y.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Ue(n)}static emptyPath(){return new Ue([])}}const C3=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class dt extends Pa{construct(e,n,r){return new dt(e,n,r)}static isValidIdentifier(e){return C3.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),dt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new dt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new ae(Y.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new ae(Y.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new ae(Y.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new ae(Y.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new dt(n)}static emptyPath(){return new dt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(e){this.path=e}static fromPath(e){return new le(Ue.fromString(e))}static fromName(e){return new le(Ue.fromString(e).popFirst(5))}static empty(){return new le(Ue.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ue.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ue.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new le(new Ue(e.slice()))}}function N3(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=pe.fromTimestamp(r===1e9?new it(n+1,0):new it(n,r));return new Gr(i,le.empty(),e)}function x3(t){return new Gr(t.readTime,t.key,-1)}class Gr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Gr(pe.min(),le.empty(),-1)}static max(){return new Gr(pe.max(),le.empty(),-1)}}function L3(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=le.comparator(t.documentKey,e.documentKey),n!==0?n:Pe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class M3{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tl(t){if(t.code!==Y.FAILED_PRECONDITION||t.message!==D3)throw t;se("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ce(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new J((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof J?n:J.resolve(n)}catch(n){return J.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):J.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):J.reject(n)}static resolve(e){return new J((n,r)=>{n(e)})}static reject(e){return new J((n,r)=>{r(e)})}static waitFor(e){return new J((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},l=>r(l))}),s=!0,o===i&&n()})}static or(e){let n=J.resolve(!1);for(const r of e)n=n.next(i=>i?J.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new J((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let l=0;l<o;l++){const u=l;n(e[u]).next(h=>{s[u]=h,++a,a===o&&r(s)},h=>i(h))}})}static doWhile(e,n){return new J((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}function V3(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function nl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Km{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Km.oe=-1;function lf(t){return t==null}function ec(t){return t===0&&1/t==-1/0}function F3(t){return typeof t=="number"&&Number.isInteger(t)&&!ec(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s_(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ns(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function CT(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{constructor(e,n){this.comparator=e,this.root=n||ft.EMPTY}insert(e,n){return new He(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ft.BLACK,null,null))}remove(e){return new He(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ft.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Vl(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Vl(this.root,e,this.comparator,!1)}getReverseIterator(){return new Vl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Vl(this.root,e,this.comparator,!0)}}class Vl{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ft{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??ft.RED,this.left=i??ft.EMPTY,this.right=o??ft.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new ft(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ft.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return ft.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ft.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ft.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ce();const e=this.left.check();if(e!==this.right.check())throw ce();return e+(this.isRed()?0:1)}}ft.EMPTY=null,ft.RED=!0,ft.BLACK=!1;ft.EMPTY=new class{constructor(){this.size=0}get key(){throw ce()}get value(){throw ce()}get color(){throw ce()}get left(){throw ce()}get right(){throw ce()}copy(e,n,r,i,o){return this}insert(e,n,r){return new ft(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(e){this.comparator=e,this.data=new He(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new a_(this.data.getIterator())}getIteratorFrom(e){return new a_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof gt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new gt(this.comparator);return n.data=e,n}}class a_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e){this.fields=e,e.sort(dt.comparator)}static empty(){return new yn([])}unionWith(e){let n=new gt(dt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new yn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return xo(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new NT("Invalid base64 string: "+o):o}}(e);return new kt(n)}static fromUint8Array(e){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new kt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Pe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}kt.EMPTY_BYTE_STRING=new kt("");const j3=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Qr(t){if(Le(!!t),typeof t=="string"){let e=0;const n=j3.exec(t);if(Le(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Xe(t.seconds),nanos:Xe(t.nanos)}}function Xe(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ni(t){return typeof t=="string"?kt.fromBase64String(t):kt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gm(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Qm(t){const e=t.mapValue.fields.__previous_value__;return Gm(e)?Qm(e):e}function Ra(t){const e=Qr(t.mapValue.fields.__local_write_time__.timestampValue);return new it(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U3{constructor(e,n,r,i,o,s,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class ka{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new ka("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof ka&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function xi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Gm(t)?4:$3(t)?9007199254740991:10:ce()}function qn(t,e){if(t===e)return!0;const n=xi(t);if(n!==xi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ra(t).isEqual(Ra(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=Qr(i.timestampValue),a=Qr(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return Ni(i.bytesValue).isEqual(Ni(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return Xe(i.geoPointValue.latitude)===Xe(o.geoPointValue.latitude)&&Xe(i.geoPointValue.longitude)===Xe(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Xe(i.integerValue)===Xe(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=Xe(i.doubleValue),a=Xe(o.doubleValue);return s===a?ec(s)===ec(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return xo(t.arrayValue.values||[],e.arrayValue.values||[],qn);case 10:return function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(s_(s)!==s_(a))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(a[l]===void 0||!qn(s[l],a[l])))return!1;return!0}(t,e);default:return ce()}}function Ca(t,e){return(t.values||[]).find(n=>qn(n,e))!==void 0}function Lo(t,e){if(t===e)return 0;const n=xi(t),r=xi(e);if(n!==r)return Pe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Pe(t.booleanValue,e.booleanValue);case 2:return function(o,s){const a=Xe(o.integerValue||o.doubleValue),l=Xe(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return l_(t.timestampValue,e.timestampValue);case 4:return l_(Ra(t),Ra(e));case 5:return Pe(t.stringValue,e.stringValue);case 6:return function(o,s){const a=Ni(o),l=Ni(s);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),l=s.split("/");for(let u=0;u<a.length&&u<l.length;u++){const h=Pe(a[u],l[u]);if(h!==0)return h}return Pe(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){const a=Pe(Xe(o.latitude),Xe(s.latitude));return a!==0?a:Pe(Xe(o.longitude),Xe(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(o,s){const a=o.values||[],l=s.values||[];for(let u=0;u<a.length&&u<l.length;++u){const h=Lo(a[u],l[u]);if(h)return h}return Pe(a.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(o,s){if(o===Fl.mapValue&&s===Fl.mapValue)return 0;if(o===Fl.mapValue)return 1;if(s===Fl.mapValue)return-1;const a=o.fields||{},l=Object.keys(a),u=s.fields||{},h=Object.keys(u);l.sort(),h.sort();for(let f=0;f<l.length&&f<h.length;++f){const c=Pe(l[f],h[f]);if(c!==0)return c;const d=Lo(a[l[f]],u[h[f]]);if(d!==0)return d}return Pe(l.length,h.length)}(t.mapValue,e.mapValue);default:throw ce()}}function l_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Pe(t,e);const n=Qr(t),r=Qr(e),i=Pe(n.seconds,r.seconds);return i!==0?i:Pe(n.nanos,r.nanos)}function Do(t){return Hd(t)}function Hd(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Qr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ni(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return le.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=Hd(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${Hd(n.fields[s])}`;return i+"}"}(t.mapValue):ce()}function Wd(t){return!!t&&"integerValue"in t}function Ym(t){return!!t&&"arrayValue"in t}function u_(t){return!!t&&"nullValue"in t}function c_(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function su(t){return!!t&&"mapValue"in t}function zs(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ns(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=zs(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=zs(t.arrayValue.values[n]);return e}return Object.assign({},t)}function $3(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e){this.value=e}static empty(){return new rn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!su(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=zs(n)}setAll(e){let n=dt.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=zs(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());su(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return qn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];su(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){ns(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new rn(zs(this.value))}}function xT(t){const e=[];return ns(t.fields,(n,r)=>{const i=new dt([n]);if(su(r)){const o=xT(r.mapValue).fields;if(o.length===0)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new yn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new At(e,0,pe.min(),pe.min(),pe.min(),rn.empty(),0)}static newFoundDocument(e,n,r,i){return new At(e,1,n,pe.min(),r,i,0)}static newNoDocument(e,n){return new At(e,2,n,pe.min(),pe.min(),rn.empty(),0)}static newUnknownDocument(e,n){return new At(e,3,n,pe.min(),pe.min(),rn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(pe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=rn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=rn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=pe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof At&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new At(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tc{constructor(e,n){this.position=e,this.inclusive=n}}function f_(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(o.field.isKeyField()?r=le.comparator(le.fromName(s.referenceValue),n.key):r=Lo(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function h_(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!qn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nc{constructor(e,n="asc"){this.field=e,this.dir=n}}function B3(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LT{}class nt extends LT{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new z3(e,n,r):n==="array-contains"?new K3(e,r):n==="in"?new G3(e,r):n==="not-in"?new Q3(e,r):n==="array-contains-any"?new Y3(e,r):new nt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new H3(e,r):new W3(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Lo(n,this.value)):n!==null&&xi(this.value)===xi(n)&&this.matchesComparison(Lo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ce()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class zn extends LT{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new zn(e,n)}matches(e){return DT(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function DT(t){return t.op==="and"}function MT(t){return q3(t)&&DT(t)}function q3(t){for(const e of t.filters)if(e instanceof zn)return!1;return!0}function Kd(t){if(t instanceof nt)return t.field.canonicalString()+t.op.toString()+Do(t.value);if(MT(t))return t.filters.map(e=>Kd(e)).join(",");{const e=t.filters.map(n=>Kd(n)).join(",");return`${t.op}(${e})`}}function VT(t,e){return t instanceof nt?function(r,i){return i instanceof nt&&r.op===i.op&&r.field.isEqual(i.field)&&qn(r.value,i.value)}(t,e):t instanceof zn?function(r,i){return i instanceof zn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&VT(s,i.filters[a]),!0):!1}(t,e):void ce()}function FT(t){return t instanceof nt?function(n){return`${n.field.canonicalString()} ${n.op} ${Do(n.value)}`}(t):t instanceof zn?function(n){return n.op.toString()+" {"+n.getFilters().map(FT).join(" ,")+"}"}(t):"Filter"}class z3 extends nt{constructor(e,n,r){super(e,n,r),this.key=le.fromName(r.referenceValue)}matches(e){const n=le.comparator(e.key,this.key);return this.matchesComparison(n)}}class H3 extends nt{constructor(e,n){super(e,"in",n),this.keys=jT("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class W3 extends nt{constructor(e,n){super(e,"not-in",n),this.keys=jT("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function jT(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>le.fromName(r.referenceValue))}class K3 extends nt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Ym(n)&&Ca(n.arrayValue,this.value)}}class G3 extends nt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ca(this.value.arrayValue,n)}}class Q3 extends nt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ca(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Ca(this.value.arrayValue,n)}}class Y3 extends nt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Ym(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Ca(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X3{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ue=null}}function d_(t,e=null,n=[],r=[],i=null,o=null,s=null){return new X3(t,e,n,r,i,o,s)}function Xm(t){const e=me(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Kd(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),lf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Do(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Do(r)).join(",")),e.ue=n}return e.ue}function Jm(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!B3(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!VT(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!h_(t.startAt,e.startAt)&&h_(t.endAt,e.endAt)}function Gd(t){return le.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uf{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function J3(t,e,n,r,i,o,s,a){return new uf(t,e,n,r,i,o,s,a)}function Zm(t){return new uf(t)}function p_(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Z3(t){return t.collectionGroup!==null}function Hs(t){const e=me(t);if(e.ce===null){e.ce=[];const n=new Set;for(const o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new gt(dt.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new nc(o,r))}),n.has(dt.keyField().canonicalString())||e.ce.push(new nc(dt.keyField(),r))}return e.ce}function $n(t){const e=me(t);return e.le||(e.le=eV(e,Hs(t))),e.le}function eV(t,e){if(t.limitType==="F")return d_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new nc(i.field,o)});const n=t.endAt?new tc(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new tc(t.startAt.position,t.startAt.inclusive):null;return d_(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Qd(t,e,n){return new uf(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function cf(t,e){return Jm($n(t),$n(e))&&t.limitType===e.limitType}function UT(t){return`${Xm($n(t))}|lt:${t.limitType}`}function Hi(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>FT(i)).join(", ")}]`),lf(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Do(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Do(i)).join(",")),`Target(${r})`}($n(t))}; limitType=${t.limitType})`}function ff(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):le.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of Hs(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,l){const u=f_(s,a,l);return s.inclusive?u<=0:u<0}(r.startAt,Hs(r),i)||r.endAt&&!function(s,a,l){const u=f_(s,a,l);return s.inclusive?u>=0:u>0}(r.endAt,Hs(r),i))}(t,e)}function tV(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function $T(t){return(e,n)=>{let r=!1;for(const i of Hs(t)){const o=nV(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function nV(t,e,n){const r=t.field.isKeyField()?le.comparator(e.key,n.key):function(o,s,a){const l=s.data.field(o),u=a.data.field(o);return l!==null&&u!==null?Lo(l,u):ce()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ce()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ns(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return CT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rV=new He(le.comparator);function hr(){return rV}const BT=new He(le.comparator);function Rs(...t){let e=BT;for(const n of t)e=e.insert(n.key,n);return e}function qT(t){let e=BT;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function vi(){return Ws()}function zT(){return Ws()}function Ws(){return new rs(t=>t.toString(),(t,e)=>t.isEqual(e))}const iV=new He(le.comparator),oV=new gt(le.comparator);function Se(...t){let e=oV;for(const n of t)e=e.add(n);return e}const sV=new gt(Pe);function aV(){return sV}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HT(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ec(e)?"-0":e}}function WT(t){return{integerValue:""+t}}function lV(t,e){return F3(e)?WT(e):HT(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hf{constructor(){this._=void 0}}function uV(t,e,n){return t instanceof rc?function(i,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&Gm(o)&&(o=Qm(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof Na?GT(t,e):t instanceof xa?QT(t,e):function(i,o){const s=KT(i,o),a=m_(s)+m_(i.Pe);return Wd(s)&&Wd(i.Pe)?WT(a):HT(i.serializer,a)}(t,e)}function cV(t,e,n){return t instanceof Na?GT(t,e):t instanceof xa?QT(t,e):n}function KT(t,e){return t instanceof ic?function(r){return Wd(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class rc extends hf{}class Na extends hf{constructor(e){super(),this.elements=e}}function GT(t,e){const n=YT(e);for(const r of t.elements)n.some(i=>qn(i,r))||n.push(r);return{arrayValue:{values:n}}}class xa extends hf{constructor(e){super(),this.elements=e}}function QT(t,e){let n=YT(e);for(const r of t.elements)n=n.filter(i=>!qn(i,r));return{arrayValue:{values:n}}}class ic extends hf{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function m_(t){return Xe(t.integerValue||t.doubleValue)}function YT(t){return Ym(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function fV(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Na&&i instanceof Na||r instanceof xa&&i instanceof xa?xo(r.elements,i.elements,qn):r instanceof ic&&i instanceof ic?qn(r.Pe,i.Pe):r instanceof rc&&i instanceof rc}(t.transform,e.transform)}class hV{constructor(e,n){this.version=e,this.transformResults=n}}class ir{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ir}static exists(e){return new ir(void 0,e)}static updateTime(e){return new ir(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function au(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class df{}function XT(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new ZT(t.key,ir.none()):new rl(t.key,t.data,ir.none());{const n=t.data,r=rn.empty();let i=new gt(dt.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Ui(t.key,r,new yn(i.toArray()),ir.none())}}function dV(t,e,n){t instanceof rl?function(i,o,s){const a=i.value.clone(),l=v_(i.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Ui?function(i,o,s){if(!au(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=v_(i.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(JT(i)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function Ks(t,e,n,r){return t instanceof rl?function(o,s,a,l){if(!au(o.precondition,s))return a;const u=o.value.clone(),h=y_(o.fieldTransforms,l,s);return u.setAll(h),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ui?function(o,s,a,l){if(!au(o.precondition,s))return a;const u=y_(o.fieldTransforms,l,s),h=s.data;return h.setAll(JT(o)),h.setAll(u),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(o,s,a){return au(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function pV(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=KT(r.transform,i||null);o!=null&&(n===null&&(n=rn.empty()),n.set(r.field,o))}return n||null}function g_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&xo(r,i,(o,s)=>fV(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class rl extends df{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ui extends df{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function JT(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function v_(t,e,n){const r=new Map;Le(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,cV(s,a,n[i]))}return r}function y_(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,uV(o,s,e))}return r}class ZT extends df{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class mV extends df{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gV{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&dV(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ks(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Ks(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=zT();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const l=XT(s,a);l!==null&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(pe.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Se())}isEqual(e){return this.batchId===e.batchId&&xo(this.mutations,e.mutations,(n,r)=>g_(n,r))&&xo(this.baseMutations,e.baseMutations,(n,r)=>g_(n,r))}}class eg{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Le(e.mutations.length===r.length);let i=function(){return iV}();const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new eg(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vV{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yV{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ye,Ae;function _V(t){switch(t){default:return ce();case Y.CANCELLED:case Y.UNKNOWN:case Y.DEADLINE_EXCEEDED:case Y.RESOURCE_EXHAUSTED:case Y.INTERNAL:case Y.UNAVAILABLE:case Y.UNAUTHENTICATED:return!1;case Y.INVALID_ARGUMENT:case Y.NOT_FOUND:case Y.ALREADY_EXISTS:case Y.PERMISSION_DENIED:case Y.FAILED_PRECONDITION:case Y.ABORTED:case Y.OUT_OF_RANGE:case Y.UNIMPLEMENTED:case Y.DATA_LOSS:return!0}}function eS(t){if(t===void 0)return fr("GRPC error has no .code"),Y.UNKNOWN;switch(t){case Ye.OK:return Y.OK;case Ye.CANCELLED:return Y.CANCELLED;case Ye.UNKNOWN:return Y.UNKNOWN;case Ye.DEADLINE_EXCEEDED:return Y.DEADLINE_EXCEEDED;case Ye.RESOURCE_EXHAUSTED:return Y.RESOURCE_EXHAUSTED;case Ye.INTERNAL:return Y.INTERNAL;case Ye.UNAVAILABLE:return Y.UNAVAILABLE;case Ye.UNAUTHENTICATED:return Y.UNAUTHENTICATED;case Ye.INVALID_ARGUMENT:return Y.INVALID_ARGUMENT;case Ye.NOT_FOUND:return Y.NOT_FOUND;case Ye.ALREADY_EXISTS:return Y.ALREADY_EXISTS;case Ye.PERMISSION_DENIED:return Y.PERMISSION_DENIED;case Ye.FAILED_PRECONDITION:return Y.FAILED_PRECONDITION;case Ye.ABORTED:return Y.ABORTED;case Ye.OUT_OF_RANGE:return Y.OUT_OF_RANGE;case Ye.UNIMPLEMENTED:return Y.UNIMPLEMENTED;case Ye.DATA_LOSS:return Y.DATA_LOSS;default:return ce()}}(Ae=Ye||(Ye={}))[Ae.OK=0]="OK",Ae[Ae.CANCELLED=1]="CANCELLED",Ae[Ae.UNKNOWN=2]="UNKNOWN",Ae[Ae.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ae[Ae.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ae[Ae.NOT_FOUND=5]="NOT_FOUND",Ae[Ae.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ae[Ae.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ae[Ae.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ae[Ae.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ae[Ae.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ae[Ae.ABORTED=10]="ABORTED",Ae[Ae.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ae[Ae.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ae[Ae.INTERNAL=13]="INTERNAL",Ae[Ae.UNAVAILABLE=14]="UNAVAILABLE",Ae[Ae.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EV(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wV=new wo([4294967295,4294967295],0);function __(t){const e=EV().encode(t),n=new T3;return n.update(e),new Uint8Array(n.digest())}function E_(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new wo([n,r],0),new wo([i,o],0)]}class tg{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ks(`Invalid padding: ${n}`);if(r<0)throw new ks(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ks(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new ks(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=wo.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(wo.fromNumber(r)));return i.compare(wV)===1&&(i=new wo([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=__(e),[r,i]=E_(n);for(let o=0;o<this.hashCount;o++){const s=this.Ee(r,i,o);if(!this.de(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new tg(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.Ie===0)return;const n=__(e),[r,i]=E_(n);for(let o=0;o<this.hashCount;o++){const s=this.Ee(r,i,o);this.Ae(s)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class ks extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pf{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,il.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new pf(pe.min(),i,new He(Pe),hr(),Se())}}class il{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new il(r,n,Se(),Se(),Se())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lu{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class tS{constructor(e,n){this.targetId=e,this.me=n}}class nS{constructor(e,n,r=kt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class w_{constructor(){this.fe=0,this.ge=S_(),this.pe=kt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=Se(),n=Se(),r=Se();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ce()}}),new il(this.pe,this.ye,e,n,r)}ve(){this.we=!1,this.ge=S_()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Le(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class TV{constructor(e){this.Le=e,this.Be=new Map,this.ke=hr(),this.qe=T_(),this.Qe=new He(Pe)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.ve(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:ce()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const o=i.target;if(Gd(o))if(r===0){const s=new le(o.path);this.Ue(n,s,At.newNoDocument(s,pe.min()))}else Le(r===1);else{const s=this.Ye(n);if(s!==r){const a=this.Ze(e),l=a?this.Xe(a,e,s):1;if(l!==0){this.je(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,a;try{s=Ni(r).toUint8Array()}catch(l){if(l instanceof NT)return No("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new tg(s,i,o)}catch(l){return No(l instanceof ks?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const s=this.Le.tt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,o,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((o,s)=>{const a=this.Je(s);if(a){if(o.current&&Gd(a.target)){const l=new le(a.target.path);this.ke.get(l)!==null||this.it(s,l)||this.Ue(s,l,At.newNoDocument(l,e))}o.be&&(n.set(s,o.Ce()),o.ve())}});let r=Se();this.qe.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{const u=this.Je(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));const i=new pf(e,n,this.Qe,this.ke,r);return this.ke=hr(),this.qe=T_(),this.Qe=new He(Pe),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new w_,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new gt(Pe),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||se("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new w_),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function T_(){return new He(le.comparator)}function S_(){return new He(le.comparator)}const SV={asc:"ASCENDING",desc:"DESCENDING"},IV={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},bV={and:"AND",or:"OR"};class AV{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Yd(t,e){return t.useProto3Json||lf(e)?e:{value:e}}function oc(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function rS(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function OV(t,e){return oc(t,e.toTimestamp())}function Bn(t){return Le(!!t),pe.fromTimestamp(function(n){const r=Qr(n);return new it(r.seconds,r.nanos)}(t))}function ng(t,e){return Xd(t,e).canonicalString()}function Xd(t,e){const n=function(i){return new Ue(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function iS(t){const e=Ue.fromString(t);return Le(uS(e)),e}function Jd(t,e){return ng(t.databaseId,e.path)}function vh(t,e){const n=iS(e);if(n.get(1)!==t.databaseId.projectId)throw new ae(Y.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ae(Y.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new le(sS(n))}function oS(t,e){return ng(t.databaseId,e)}function PV(t){const e=iS(t);return e.length===4?Ue.emptyPath():sS(e)}function Zd(t){return new Ue(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function sS(t){return Le(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function I_(t,e,n){return{name:Jd(t,e),fields:n.value.mapValue.fields}}function RV(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:ce()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(u,h){return u.useProto3Json?(Le(h===void 0||typeof h=="string"),kt.fromBase64String(h||"")):(Le(h===void 0||h instanceof Buffer||h instanceof Uint8Array),kt.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(u){const h=u.code===void 0?Y.UNKNOWN:eS(u.code);return new ae(h,u.message||"")}(s);n=new nS(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=vh(t,r.document.name),o=Bn(r.document.updateTime),s=r.document.createTime?Bn(r.document.createTime):pe.min(),a=new rn({mapValue:{fields:r.document.fields}}),l=At.newFoundDocument(i,o,s,a),u=r.targetIds||[],h=r.removedTargetIds||[];n=new lu(u,h,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=vh(t,r.document),o=r.readTime?Bn(r.readTime):pe.min(),s=At.newNoDocument(i,o),a=r.removedTargetIds||[];n=new lu([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=vh(t,r.document),o=r.removedTargetIds||[];n=new lu([],o,i,null)}else{if(!("filter"in e))return ce();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,s=new yV(i,o),a=r.targetId;n=new tS(a,s)}}return n}function kV(t,e){let n;if(e instanceof rl)n={update:I_(t,e.key,e.value)};else if(e instanceof ZT)n={delete:Jd(t,e.key)};else if(e instanceof Ui)n={update:I_(t,e.key,e.data),updateMask:jV(e.fieldMask)};else{if(!(e instanceof mV))return ce();n={verify:Jd(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){const a=s.transform;if(a instanceof rc)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Na)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof xa)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof ic)return{fieldPath:s.field.canonicalString(),increment:a.Pe};throw ce()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:OV(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:ce()}(t,e.precondition)),n}function CV(t,e){return t&&t.length>0?(Le(e!==void 0),t.map(n=>function(i,o){let s=i.updateTime?Bn(i.updateTime):Bn(o);return s.isEqual(pe.min())&&(s=Bn(o)),new hV(s,i.transformResults||[])}(n,e))):[]}function NV(t,e){return{documents:[oS(t,e.path)]}}function xV(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=oS(t,i);const o=function(u){if(u.length!==0)return lS(zn.create(u,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const s=function(u){if(u.length!==0)return u.map(h=>function(c){return{field:Wi(c.field),direction:MV(c.dir)}}(h))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const a=Yd(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:n,parent:i}}function LV(t){let e=PV(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Le(r===1);const h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];n.where&&(o=function(f){const c=aS(f);return c instanceof zn&&MT(c)?c.getFilters():[c]}(n.where));let s=[];n.orderBy&&(s=function(f){return f.map(c=>function(_){return new nc(Ki(_.field),function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(_.direction))}(c))}(n.orderBy));let a=null;n.limit&&(a=function(f){let c;return c=typeof f=="object"?f.value:f,lf(c)?null:c}(n.limit));let l=null;n.startAt&&(l=function(f){const c=!!f.before,d=f.values||[];return new tc(d,c)}(n.startAt));let u=null;return n.endAt&&(u=function(f){const c=!f.before,d=f.values||[];return new tc(d,c)}(n.endAt)),J3(e,i,s,o,a,"F",l,u)}function DV(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ce()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function aS(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Ki(n.unaryFilter.field);return nt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Ki(n.unaryFilter.field);return nt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Ki(n.unaryFilter.field);return nt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Ki(n.unaryFilter.field);return nt.create(s,"!=",{nullValue:"NULL_VALUE"});default:return ce()}}(t):t.fieldFilter!==void 0?function(n){return nt.create(Ki(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ce()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return zn.create(n.compositeFilter.filters.map(r=>aS(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ce()}}(n.compositeFilter.op))}(t):ce()}function MV(t){return SV[t]}function VV(t){return IV[t]}function FV(t){return bV[t]}function Wi(t){return{fieldPath:t.canonicalString()}}function Ki(t){return dt.fromServerFormat(t.fieldPath)}function lS(t){return t instanceof nt?function(n){if(n.op==="=="){if(c_(n.value))return{unaryFilter:{field:Wi(n.field),op:"IS_NAN"}};if(u_(n.value))return{unaryFilter:{field:Wi(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(c_(n.value))return{unaryFilter:{field:Wi(n.field),op:"IS_NOT_NAN"}};if(u_(n.value))return{unaryFilter:{field:Wi(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Wi(n.field),op:VV(n.op),value:n.value}}}(t):t instanceof zn?function(n){const r=n.getFilters().map(i=>lS(i));return r.length===1?r[0]:{compositeFilter:{op:FV(n.op),filters:r}}}(t):ce()}function jV(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function uS(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr{constructor(e,n,r,i,o=pe.min(),s=pe.min(),a=kt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Cr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Cr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Cr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Cr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UV{constructor(e){this.ut=e}}function $V(t){const e=LV({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Qd(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BV{constructor(){this.on=new qV}addToCollectionParentIndex(e,n){return this.on.add(n),J.resolve()}getCollectionParents(e,n){return J.resolve(this.on.getEntries(n))}addFieldIndex(e,n){return J.resolve()}deleteFieldIndex(e,n){return J.resolve()}deleteAllFieldIndexes(e){return J.resolve()}createTargetIndexes(e,n){return J.resolve()}getDocumentsMatchingTarget(e,n){return J.resolve(null)}getIndexType(e,n){return J.resolve(0)}getFieldIndexes(e,n){return J.resolve([])}getNextCollectionGroupToUpdate(e){return J.resolve(null)}getMinOffset(e,n){return J.resolve(Gr.min())}getMinOffsetFromCollectionGroup(e,n){return J.resolve(Gr.min())}updateCollectionGroup(e,n,r){return J.resolve()}updateIndexEntries(e,n){return J.resolve()}}class qV{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new gt(Ue.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new gt(Ue.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new Mo(0)}static Nn(){return new Mo(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zV{constructor(){this.changes=new rs(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,At.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?J.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HV{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WV{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Ks(r.mutation,i,yn.empty(),it.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Se()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Se()){const i=vi();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=Rs();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=vi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Se()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=hr();const s=Ws(),a=function(){return Ws()}();return n.forEach((l,u)=>{const h=r.get(u.key);i.has(u.key)&&(h===void 0||h.mutation instanceof Ui)?o=o.insert(u.key,u):h!==void 0?(s.set(u.key,h.mutation.getFieldMask()),Ks(h.mutation,u,h.mutation.getFieldMask(),it.now())):s.set(u.key,yn.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((u,h)=>s.set(u,h)),n.forEach((u,h)=>{var f;return a.set(u,new HV(h,(f=s.get(u))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Ws();let i=new He((s,a)=>s-a),o=Se();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let h=r.get(l)||yn.empty();h=a.applyToLocalView(u,h),r.set(l,h);const f=(i.get(a.batchId)||Se()).add(l);i=i.insert(a.batchId,f)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,h=l.value,f=zT();h.forEach(c=>{if(!o.has(c)){const d=XT(n.get(c),r.get(c));d!==null&&f.set(c,d),o=o.add(c)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,f))}return J.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return le.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Z3(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):J.resolve(vi());let a=-1,l=o;return s.next(u=>J.forEach(u,(h,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),o.get(h)?J.resolve():this.remoteDocumentCache.getEntry(e,h).next(c=>{l=l.insert(h,c)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,l,u,Se())).next(h=>({batchId:a,changes:qT(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new le(n)).next(r=>{let i=Rs();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let s=Rs();return this.indexManager.getCollectionParents(e,o).next(a=>J.forEach(a,l=>{const u=function(f,c){return new uf(c,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(o));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(h=>{h.forEach((f,c)=>{s=s.insert(f,c)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((l,u)=>{const h=u.getKey();s.get(h)===null&&(s=s.insert(h,At.newInvalidDocument(h)))});let a=Rs();return s.forEach((l,u)=>{const h=o.get(l);h!==void 0&&Ks(h.mutation,u,yn.empty(),it.now()),ff(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KV{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,n){return J.resolve(this.ur.get(n))}saveBundleMetadata(e,n){return this.ur.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Bn(i.createTime)}}(n)),J.resolve()}getNamedQuery(e,n){return J.resolve(this.cr.get(n))}saveNamedQuery(e,n){return this.cr.set(n.name,function(i){return{name:i.name,query:$V(i.bundledQuery),readTime:Bn(i.readTime)}}(n)),J.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GV{constructor(){this.overlays=new He(le.comparator),this.lr=new Map}getOverlay(e,n){return J.resolve(this.overlays.get(n))}getOverlays(e,n){const r=vi();return J.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.lt(e,n,o)}),J.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.lr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.lr.delete(r)),J.resolve()}getOverlaysForCollection(e,n,r){const i=vi(),o=n.length+1,s=new le(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return J.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new He((u,h)=>u-h);const s=this.overlays.getIterator();for(;s.hasNext();){const u=s.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let h=o.get(u.largestBatchId);h===null&&(h=vi(),o=o.insert(u.largestBatchId,h)),h.set(u.getKey(),u)}}const a=vi(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,h)=>a.set(u,h)),!(a.size()>=i)););return J.resolve(a)}lt(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.lr.get(i.largestBatchId).delete(r.key);this.lr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new vV(n,r));let o=this.lr.get(n);o===void 0&&(o=Se(),this.lr.set(n,o)),this.lr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rg{constructor(){this.hr=new gt(ot.Pr),this.Ir=new gt(ot.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,n){const r=new ot(e,n);this.hr=this.hr.add(r),this.Ir=this.Ir.add(r)}Er(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.dr(new ot(e,n))}Ar(e,n){e.forEach(r=>this.removeReference(r,n))}Rr(e){const n=new le(new Ue([])),r=new ot(n,e),i=new ot(n,e+1),o=[];return this.Ir.forEachInRange([r,i],s=>{this.dr(s),o.push(s.key)}),o}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const n=new le(new Ue([])),r=new ot(n,e),i=new ot(n,e+1);let o=Se();return this.Ir.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new ot(e,0),r=this.hr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class ot{constructor(e,n){this.key=e,this.gr=n}static Pr(e,n){return le.comparator(e.key,n.key)||Pe(e.gr,n.gr)}static Tr(e,n){return Pe(e.gr,n.gr)||le.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QV{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new gt(ot.Pr)}checkEmpty(e){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.pr;this.pr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new gV(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.yr=this.yr.add(new ot(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return J.resolve(s)}lookupMutationBatch(e,n){return J.resolve(this.wr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Sr(r),o=i<0?0:i;return J.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?-1:this.pr-1)}getAllMutationBatches(e){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new ot(n,0),i=new ot(n,Number.POSITIVE_INFINITY),o=[];return this.yr.forEachInRange([r,i],s=>{const a=this.wr(s.gr);o.push(a)}),J.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new gt(Pe);return n.forEach(i=>{const o=new ot(i,0),s=new ot(i,Number.POSITIVE_INFINITY);this.yr.forEachInRange([o,s],a=>{r=r.add(a.gr)})}),J.resolve(this.br(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;le.isDocumentKey(o)||(o=o.child(""));const s=new ot(new le(o),0);let a=new gt(Pe);return this.yr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.gr)),!0)},s),J.resolve(this.br(a))}br(e){const n=[];return e.forEach(r=>{const i=this.wr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Le(this.Dr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.yr;return J.forEach(n.mutations,i=>{const o=new ot(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.yr=r})}Fn(e){}containsKey(e,n){const r=new ot(n,0),i=this.yr.firstAfterOrEqual(r);return J.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,J.resolve()}Dr(e,n){return this.Sr(e)}Sr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}wr(e){const n=this.Sr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YV{constructor(e){this.Cr=e,this.docs=function(){return new He(le.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Cr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return J.resolve(r?r.document.mutableCopy():At.newInvalidDocument(n))}getEntries(e,n){let r=hr();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():At.newInvalidDocument(i))}),J.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=hr();const s=n.path,a=new le(s.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:h}}=l.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||L3(x3(h),r)<=0||(i.has(h.key)||ff(n,h))&&(o=o.insert(h.key,h.mutableCopy()))}return J.resolve(o)}getAllFromCollectionGroup(e,n,r,i){ce()}vr(e,n){return J.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new XV(this)}getSize(e){return J.resolve(this.size)}}class XV extends zV{constructor(e){super(),this._r=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this._r.addEntry(e,i)):this._r.removeEntry(r)}),J.waitFor(n)}getFromCache(e,n){return this._r.getEntry(e,n)}getAllFromCache(e,n){return this._r.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JV{constructor(e){this.persistence=e,this.Fr=new rs(n=>Xm(n),Jm),this.lastRemoteSnapshotVersion=pe.min(),this.highestTargetId=0,this.Mr=0,this.Or=new rg,this.targetCount=0,this.Nr=Mo.On()}forEachTarget(e,n){return this.Fr.forEach((r,i)=>n(i)),J.resolve()}getLastRemoteSnapshotVersion(e){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return J.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Mr&&(this.Mr=n),J.resolve()}kn(e){this.Fr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Nr=new Mo(n),this.highestTargetId=n),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,n){return this.kn(n),this.targetCount+=1,J.resolve()}updateTargetData(e,n){return this.kn(n),J.resolve()}removeTargetData(e,n){return this.Fr.delete(n.target),this.Or.Rr(n.targetId),this.targetCount-=1,J.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Fr.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Fr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),J.waitFor(o).next(()=>i)}getTargetCount(e){return J.resolve(this.targetCount)}getTargetData(e,n){const r=this.Fr.get(n)||null;return J.resolve(r)}addMatchingKeys(e,n,r){return this.Or.Er(n,r),J.resolve()}removeMatchingKeys(e,n,r){this.Or.Ar(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),J.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Or.Rr(n),J.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Or.mr(n);return J.resolve(r)}containsKey(e,n){return J.resolve(this.Or.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZV{constructor(e,n){this.Lr={},this.overlays={},this.Br=new Km(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new JV(this),this.indexManager=new BV,this.remoteDocumentCache=function(i){return new YV(i)}(r=>this.referenceDelegate.Qr(r)),this.serializer=new UV(n),this.Kr=new KV(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new GV,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Lr[e.toKey()];return r||(r=new QV(n,this.referenceDelegate),this.Lr[e.toKey()]=r),r}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,n,r){se("MemoryPersistence","Starting transaction:",e);const i=new e5(this.Br.next());return this.referenceDelegate.$r(),r(i).next(o=>this.referenceDelegate.Ur(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Wr(e,n){return J.or(Object.values(this.Lr).map(r=>()=>r.containsKey(e,n)))}}class e5 extends M3{constructor(e){super(),this.currentSequenceNumber=e}}class ig{constructor(e){this.persistence=e,this.Gr=new rg,this.zr=null}static jr(e){return new ig(e)}get Hr(){if(this.zr)return this.zr;throw ce()}addReference(e,n,r){return this.Gr.addReference(r,n),this.Hr.delete(r.toString()),J.resolve()}removeReference(e,n,r){return this.Gr.removeReference(r,n),this.Hr.add(r.toString()),J.resolve()}markPotentiallyOrphaned(e,n){return this.Hr.add(n.toString()),J.resolve()}removeTarget(e,n){this.Gr.Rr(n.targetId).forEach(i=>this.Hr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Hr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}$r(){this.zr=new Set}Ur(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.Hr,r=>{const i=le.fromPath(r);return this.Jr(e,i).next(o=>{o||n.removeEntry(i,pe.min())})}).next(()=>(this.zr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Jr(e,n).next(r=>{r?this.Hr.delete(n.toString()):this.Hr.add(n.toString())})}Qr(e){return 0}Jr(e,n){return J.or([()=>J.resolve(this.Gr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Wr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class og{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.ki=r,this.qi=i}static Qi(e,n){let r=Se(),i=Se();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new og(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t5{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n5{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=function(){return jx()?8:V3(yt())>0?6:4}()}initialize(e,n){this.Gi=e,this.indexManager=n,this.Ki=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.zi(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ji(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new t5;return this.Hi(e,n,s).next(a=>{if(o.result=a,this.$i)return this.Ji(e,n,s,a.size)})}).next(()=>o.result)}Ji(e,n,r,i){return r.documentReadCount<this.Ui?(Es()<=be.DEBUG&&se("QueryEngine","SDK will not create cache indexes for query:",Hi(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),J.resolve()):(Es()<=be.DEBUG&&se("QueryEngine","Query:",Hi(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Wi*i?(Es()<=be.DEBUG&&se("QueryEngine","The SDK decides to create cache indexes for query:",Hi(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,$n(n))):J.resolve())}zi(e,n){if(p_(n))return J.resolve(null);let r=$n(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Qd(n,null,"F"),r=$n(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=Se(...o);return this.Gi.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.Yi(n,a);return this.Zi(n,u,s,l.readTime)?this.zi(e,Qd(n,null,"F")):this.Xi(e,u,n,l)}))})))}ji(e,n,r,i){return p_(n)||i.isEqual(pe.min())?J.resolve(null):this.Gi.getDocuments(e,r).next(o=>{const s=this.Yi(n,o);return this.Zi(n,s,r,i)?J.resolve(null):(Es()<=be.DEBUG&&se("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Hi(n)),this.Xi(e,s,n,N3(i,-1)).next(a=>a))})}Yi(e,n){let r=new gt($T(e));return n.forEach((i,o)=>{ff(e,o)&&(r=r.add(o))}),r}Zi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Hi(e,n,r){return Es()<=be.DEBUG&&se("QueryEngine","Using full collection scan to execute query:",Hi(n)),this.Gi.getDocumentsMatchingQuery(e,n,Gr.min(),r)}Xi(e,n,r,i){return this.Gi.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r5{constructor(e,n,r,i){this.persistence=e,this.es=n,this.serializer=i,this.ts=new He(Pe),this.ns=new rs(o=>Xm(o),Jm),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(r)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new WV(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ts))}}function i5(t,e,n,r){return new r5(t,e,n,r)}async function cS(t,e){const n=me(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.os(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let l=Se();for(const u of i){s.push(u.batchId);for(const h of u.mutations)l=l.add(h.key)}for(const u of o){a.push(u.batchId);for(const h of u.mutations)l=l.add(h.key)}return n.localDocuments.getDocuments(r,l).next(u=>({_s:u,removedBatchIds:s,addedBatchIds:a}))})})}function o5(t,e){const n=me(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.ss.newChangeBuffer({trackRemovals:!0});return function(a,l,u,h){const f=u.batch,c=f.keys();let d=J.resolve();return c.forEach(_=>{d=d.next(()=>h.getEntry(l,_)).next(y=>{const E=u.docVersions.get(_);Le(E!==null),y.version.compareTo(E)<0&&(f.applyToRemoteDocument(y,u),y.isValidDocument()&&(y.setReadTime(u.commitVersion),h.addEntry(y)))})}),d.next(()=>a.mutationQueue.removeMutationBatch(l,f))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Se();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function fS(t){const e=me(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.qr.getLastRemoteSnapshotVersion(n))}function s5(t,e){const n=me(t),r=e.snapshotVersion;let i=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.ss.newChangeBuffer({trackRemovals:!0});i=n.ts;const a=[];e.targetChanges.forEach((h,f)=>{const c=i.get(f);if(!c)return;a.push(n.qr.removeMatchingKeys(o,h.removedDocuments,f).next(()=>n.qr.addMatchingKeys(o,h.addedDocuments,f)));let d=c.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(f)!==null?d=d.withResumeToken(kt.EMPTY_BYTE_STRING,pe.min()).withLastLimboFreeSnapshotVersion(pe.min()):h.resumeToken.approximateByteSize()>0&&(d=d.withResumeToken(h.resumeToken,r)),i=i.insert(f,d),function(y,E,m){return y.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=3e8?!0:m.addedDocuments.size+m.modifiedDocuments.size+m.removedDocuments.size>0}(c,d,h)&&a.push(n.qr.updateTargetData(o,d))});let l=hr(),u=Se();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,h))}),a.push(a5(o,s,e.documentUpdates).next(h=>{l=h.us,u=h.cs})),!r.isEqual(pe.min())){const h=n.qr.getLastRemoteSnapshotVersion(o).next(f=>n.qr.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(h)}return J.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,l,u)).next(()=>l)}).then(o=>(n.ts=i,o))}function a5(t,e,n){let r=Se(),i=Se();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=hr();return n.forEach((a,l)=>{const u=o.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(pe.min())?(e.removeEntry(a,l.readTime),s=s.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),s=s.insert(a,l)):se("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{us:s,cs:i}})}function l5(t,e){const n=me(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function u5(t,e){const n=me(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.qr.getTargetData(r,e).next(o=>o?(i=o,J.resolve(i)):n.qr.allocateTargetId(r).next(s=>(i=new Cr(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ts.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ts=n.ts.insert(r.targetId,r),n.ns.set(e,r.targetId)),r})}async function ep(t,e,n){const r=me(t),i=r.ts.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!nl(s))throw s;se("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.ts=r.ts.remove(e),r.ns.delete(i.target)}function b_(t,e,n){const r=me(t);let i=pe.min(),o=Se();return r.persistence.runTransaction("Execute query","readwrite",s=>function(l,u,h){const f=me(l),c=f.ns.get(h);return c!==void 0?J.resolve(f.ts.get(c)):f.qr.getTargetData(u,h)}(r,s,$n(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>r.es.getDocumentsMatchingQuery(s,e,n?i:pe.min(),n?o:Se())).next(a=>(c5(r,tV(e),a),{documents:a,ls:o})))}function c5(t,e,n){let r=t.rs.get(e)||pe.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.rs.set(e,r)}class A_{constructor(){this.activeTargetIds=aV()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class f5{constructor(){this.eo=new A_,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,n,r){this.no[e]=n}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new A_,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h5{ro(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O_{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){se("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){se("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jl=null;function yh(){return jl===null?jl=function(){return 268435456+Math.round(2147483648*Math.random())}():jl++,"0x"+jl.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d5={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p5{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}Eo(e){this.Ao=e}onMessage(e){this.Ro=e}close(){this.lo()}send(e){this.co(e)}Vo(){this.Po()}mo(){this.To()}fo(e){this.Ao(e)}po(e){this.Ro(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wt="WebChannelConnection";class m5 extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.yo=r+"://"+n.host,this.wo=`projects/${i}/databases/${o}`,this.So=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get bo(){return!1}Do(n,r,i,o,s){const a=yh(),l=this.Co(n,r.toUriEncodedString());se("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.wo,"x-goog-request-params":this.So};return this.vo(u,o,s),this.Fo(n,l,u,i).then(h=>(se("RestConnection",`Received RPC '${n}' ${a}: `,h),h),h=>{throw No("RestConnection",`RPC '${n}' ${a} failed with error: `,h,"url: ",l,"request:",i),h})}Mo(n,r,i,o,s,a){return this.Do(n,r,i,o,s)}vo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ts}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}Co(n,r){const i=d5[n];return`${this.yo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Fo(e,n,r,i){const o=yh();return new Promise((s,a)=>{const l=new w3;l.setWithCredentials(!0),l.listenOnce(y3.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case gh.NO_ERROR:const h=l.getResponseJson();se(wt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(h)),s(h);break;case gh.TIMEOUT:se(wt,`RPC '${e}' ${o} timed out`),a(new ae(Y.DEADLINE_EXCEEDED,"Request time out"));break;case gh.HTTP_ERROR:const f=l.getStatus();if(se(wt,`RPC '${e}' ${o} failed with status:`,f,"response text:",l.getResponseText()),f>0){let c=l.getResponseJson();Array.isArray(c)&&(c=c[0]);const d=c==null?void 0:c.error;if(d&&d.status&&d.message){const _=function(E){const m=E.toLowerCase().replace(/_/g,"-");return Object.values(Y).indexOf(m)>=0?m:Y.UNKNOWN}(d.status);a(new ae(_,d.message))}else a(new ae(Y.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new ae(Y.UNAVAILABLE,"Connection failed."));break;default:ce()}}finally{se(wt,`RPC '${e}' ${o} completed.`)}});const u=JSON.stringify(i);se(wt,`RPC '${e}' ${o} sending request:`,i),l.send(n,"POST",u,r,15)})}xo(e,n,r){const i=yh(),o=[this.yo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=g3(),a=v3(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.xmlHttpFactory=new E3({})),this.vo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const h=o.join("");se(wt,`Creating RPC '${e}' stream ${i}: ${h}`,l);const f=s.createWebChannel(h,l);let c=!1,d=!1;const _=new p5({co:E=>{d?se(wt,`Not sending because RPC '${e}' stream ${i} is closed:`,E):(c||(se(wt,`Opening RPC '${e}' stream ${i} transport.`),f.open(),c=!0),se(wt,`RPC '${e}' stream ${i} sending:`,E),f.send(E))},lo:()=>f.close()}),y=(E,m,p)=>{E.listen(m,v=>{try{p(v)}catch(g){setTimeout(()=>{throw g},0)}})};return y(f,Ml.EventType.OPEN,()=>{d||(se(wt,`RPC '${e}' stream ${i} transport opened.`),_.Vo())}),y(f,Ml.EventType.CLOSE,()=>{d||(d=!0,se(wt,`RPC '${e}' stream ${i} transport closed`),_.fo())}),y(f,Ml.EventType.ERROR,E=>{d||(d=!0,No(wt,`RPC '${e}' stream ${i} transport errored:`,E),_.fo(new ae(Y.UNAVAILABLE,"The operation could not be completed")))}),y(f,Ml.EventType.MESSAGE,E=>{var m;if(!d){const p=E.data[0];Le(!!p);const v=p,g=v.error||((m=v[0])===null||m===void 0?void 0:m.error);if(g){se(wt,`RPC '${e}' stream ${i} received error:`,g);const w=g.status;let A=function(k){const b=Ye[k];if(b!==void 0)return eS(b)}(w),T=g.message;A===void 0&&(A=Y.INTERNAL,T="Unknown error status: "+w+" with message "+g.message),d=!0,_.fo(new ae(A,T)),f.close()}else se(wt,`RPC '${e}' stream ${i} received:`,p),_.po(p)}}),y(a,_3.STAT_EVENT,E=>{E.stat===i_.PROXY?se(wt,`RPC '${e}' stream ${i} detected buffering proxy`):E.stat===i_.NOPROXY&&se(wt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{_.mo()},0),_}}function _h(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mf(t){return new AV(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hS{constructor(e,n,r=1e3,i=1.5,o=6e4){this.si=e,this.timerId=n,this.Oo=r,this.No=i,this.Lo=o,this.Bo=0,this.ko=null,this.qo=Date.now(),this.reset()}reset(){this.Bo=0}Qo(){this.Bo=this.Lo}Ko(e){this.cancel();const n=Math.floor(this.Bo+this.$o()),r=Math.max(0,Date.now()-this.qo),i=Math.max(0,n-r);i>0&&se("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Bo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.ko=this.si.enqueueAfterDelay(this.timerId,i,()=>(this.qo=Date.now(),e())),this.Bo*=this.No,this.Bo<this.Oo&&(this.Bo=this.Oo),this.Bo>this.Lo&&(this.Bo=this.Lo)}Uo(){this.ko!==null&&(this.ko.skipDelay(),this.ko=null)}cancel(){this.ko!==null&&(this.ko.cancel(),this.ko=null)}$o(){return(Math.random()-.5)*this.Bo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dS{constructor(e,n,r,i,o,s,a,l){this.si=e,this.Wo=r,this.Go=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.zo=0,this.jo=null,this.Ho=null,this.stream=null,this.Jo=new hS(e,n)}Yo(){return this.state===1||this.state===5||this.Zo()}Zo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Xo()}async stop(){this.Yo()&&await this.close(0)}e_(){this.state=0,this.Jo.reset()}t_(){this.Zo()&&this.jo===null&&(this.jo=this.si.enqueueAfterDelay(this.Wo,6e4,()=>this.n_()))}r_(e){this.i_(),this.stream.send(e)}async n_(){if(this.Zo())return this.close(0)}i_(){this.jo&&(this.jo.cancel(),this.jo=null)}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}async close(e,n){this.i_(),this.s_(),this.Jo.cancel(),this.zo++,e!==4?this.Jo.reset():n&&n.code===Y.RESOURCE_EXHAUSTED?(fr(n.toString()),fr("Using maximum backoff delay to prevent overloading the backend."),this.Jo.Qo()):n&&n.code===Y.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.o_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Eo(n)}o_(){}auth(){this.state=1;const e=this.__(this.zo),n=this.zo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.zo===n&&this.a_(r,i)},r=>{e(()=>{const i=new ae(Y.UNKNOWN,"Fetching auth token failed: "+r.message);return this.u_(i)})})}a_(e,n){const r=this.__(this.zo);this.stream=this.c_(e,n),this.stream.ho(()=>{r(()=>this.listener.ho())}),this.stream.Io(()=>{r(()=>(this.state=2,this.Ho=this.si.enqueueAfterDelay(this.Go,1e4,()=>(this.Zo()&&(this.state=3),Promise.resolve())),this.listener.Io()))}),this.stream.Eo(i=>{r(()=>this.u_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Xo(){this.state=5,this.Jo.Ko(async()=>{this.state=0,this.start()})}u_(e){return se("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}__(e){return n=>{this.si.enqueueAndForget(()=>this.zo===e?n():(se("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class g5 extends dS{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}c_(e,n){return this.connection.xo("Listen",e,n)}onMessage(e){this.Jo.reset();const n=RV(this.serializer,e),r=function(o){if(!("targetChange"in o))return pe.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?pe.min():s.readTime?Bn(s.readTime):pe.min()}(e);return this.listener.l_(n,r)}h_(e){const n={};n.database=Zd(this.serializer),n.addTarget=function(o,s){let a;const l=s.target;if(a=Gd(l)?{documents:NV(o,l)}:{query:xV(o,l)._t},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=rS(o,s.resumeToken);const u=Yd(o,s.expectedCount);u!==null&&(a.expectedCount=u)}else if(s.snapshotVersion.compareTo(pe.min())>0){a.readTime=oc(o,s.snapshotVersion.toTimestamp());const u=Yd(o,s.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=DV(this.serializer,e);r&&(n.labels=r),this.r_(n)}P_(e){const n={};n.database=Zd(this.serializer),n.removeTarget=e,this.r_(n)}}class v5 extends dS{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o,this.I_=!1}get T_(){return this.I_}start(){this.I_=!1,this.lastStreamToken=void 0,super.start()}o_(){this.I_&&this.E_([])}c_(e,n){return this.connection.xo("Write",e,n)}onMessage(e){if(Le(!!e.streamToken),this.lastStreamToken=e.streamToken,this.I_){this.Jo.reset();const n=CV(e.writeResults,e.commitTime),r=Bn(e.commitTime);return this.listener.d_(r,n)}return Le(!e.writeResults||e.writeResults.length===0),this.I_=!0,this.listener.A_()}R_(){const e={};e.database=Zd(this.serializer),this.r_(e)}E_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>kV(this.serializer,r))};this.r_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y5 extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.V_=!1}m_(){if(this.V_)throw new ae(Y.FAILED_PRECONDITION,"The client has already been terminated.")}Do(e,n,r,i){return this.m_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Do(e,Xd(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ae(Y.UNKNOWN,o.toString())})}Mo(e,n,r,i,o){return this.m_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Mo(e,Xd(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ae(Y.UNKNOWN,s.toString())})}terminate(){this.V_=!0,this.connection.terminate()}}class _5{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){this.g_===0&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(e){this.state==="Online"?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.S_("Offline")))}set(e){this.C_(),this.g_=0,e==="Online"&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(fr(n),this.y_=!1):se("OnlineStateTracker",n)}C_(){this.p_!==null&&(this.p_.cancel(),this.p_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E5{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=o,this.O_.ro(s=>{r.enqueueAndForget(async()=>{$i(this)&&(se("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=me(l);u.M_.add(4),await ol(u),u.N_.set("Unknown"),u.M_.delete(4),await gf(u)}(this))})}),this.N_=new _5(r,i)}}async function gf(t){if($i(t))for(const e of t.x_)await e(!0)}async function ol(t){for(const e of t.x_)await e(!1)}function pS(t,e){const n=me(t);n.F_.has(e.targetId)||(n.F_.set(e.targetId,e),ug(n)?lg(n):is(n).Zo()&&ag(n,e))}function sg(t,e){const n=me(t),r=is(n);n.F_.delete(e),r.Zo()&&mS(n,e),n.F_.size===0&&(r.Zo()?r.t_():$i(n)&&n.N_.set("Unknown"))}function ag(t,e){if(t.L_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(pe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}is(t).h_(e)}function mS(t,e){t.L_.xe(e),is(t).P_(e)}function lg(t){t.L_=new TV({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.F_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),is(t).start(),t.N_.w_()}function ug(t){return $i(t)&&!is(t).Yo()&&t.F_.size>0}function $i(t){return me(t).M_.size===0}function gS(t){t.L_=void 0}async function w5(t){t.N_.set("Online")}async function T5(t){t.F_.forEach((e,n)=>{ag(t,e)})}async function S5(t,e){gS(t),ug(t)?(t.N_.D_(e),lg(t)):t.N_.set("Unknown")}async function I5(t,e,n){if(t.N_.set("Online"),e instanceof nS&&e.state===2&&e.cause)try{await async function(i,o){const s=o.cause;for(const a of o.targetIds)i.F_.has(a)&&(await i.remoteSyncer.rejectListen(a,s),i.F_.delete(a),i.L_.removeTarget(a))}(t,e)}catch(r){se("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await sc(t,r)}else if(e instanceof lu?t.L_.Ke(e):e instanceof tS?t.L_.He(e):t.L_.We(e),!n.isEqual(pe.min()))try{const r=await fS(t.localStore);n.compareTo(r)>=0&&await function(o,s){const a=o.L_.rt(s);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const h=o.F_.get(u);h&&o.F_.set(u,h.withResumeToken(l.resumeToken,s))}}),a.targetMismatches.forEach((l,u)=>{const h=o.F_.get(l);if(!h)return;o.F_.set(l,h.withResumeToken(kt.EMPTY_BYTE_STRING,h.snapshotVersion)),mS(o,l);const f=new Cr(h.target,l,u,h.sequenceNumber);ag(o,f)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){se("RemoteStore","Failed to raise snapshot:",r),await sc(t,r)}}async function sc(t,e,n){if(!nl(e))throw e;t.M_.add(1),await ol(t),t.N_.set("Offline"),n||(n=()=>fS(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{se("RemoteStore","Retrying IndexedDB access"),await n(),t.M_.delete(1),await gf(t)})}function vS(t,e){return e().catch(n=>sc(t,n,e))}async function vf(t){const e=me(t),n=Yr(e);let r=e.v_.length>0?e.v_[e.v_.length-1].batchId:-1;for(;b5(e);)try{const i=await l5(e.localStore,r);if(i===null){e.v_.length===0&&n.t_();break}r=i.batchId,A5(e,i)}catch(i){await sc(e,i)}yS(e)&&_S(e)}function b5(t){return $i(t)&&t.v_.length<10}function A5(t,e){t.v_.push(e);const n=Yr(t);n.Zo()&&n.T_&&n.E_(e.mutations)}function yS(t){return $i(t)&&!Yr(t).Yo()&&t.v_.length>0}function _S(t){Yr(t).start()}async function O5(t){Yr(t).R_()}async function P5(t){const e=Yr(t);for(const n of t.v_)e.E_(n.mutations)}async function R5(t,e,n){const r=t.v_.shift(),i=eg.from(r,e,n);await vS(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await vf(t)}async function k5(t,e){e&&Yr(t).T_&&await async function(r,i){if(function(s){return _V(s)&&s!==Y.ABORTED}(i.code)){const o=r.v_.shift();Yr(r).e_(),await vS(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await vf(r)}}(t,e),yS(t)&&_S(t)}async function P_(t,e){const n=me(t);n.asyncQueue.verifyOperationInProgress(),se("RemoteStore","RemoteStore received new credentials");const r=$i(n);n.M_.add(3),await ol(n),r&&n.N_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.M_.delete(3),await gf(n)}async function C5(t,e){const n=me(t);e?(n.M_.delete(2),await gf(n)):e||(n.M_.add(2),await ol(n),n.N_.set("Unknown"))}function is(t){return t.B_||(t.B_=function(n,r,i){const o=me(n);return o.m_(),new g5(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{ho:w5.bind(null,t),Io:T5.bind(null,t),Eo:S5.bind(null,t),l_:I5.bind(null,t)}),t.x_.push(async e=>{e?(t.B_.e_(),ug(t)?lg(t):t.N_.set("Unknown")):(await t.B_.stop(),gS(t))})),t.B_}function Yr(t){return t.k_||(t.k_=function(n,r,i){const o=me(n);return o.m_(),new v5(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{ho:()=>Promise.resolve(),Io:O5.bind(null,t),Eo:k5.bind(null,t),A_:P5.bind(null,t),d_:R5.bind(null,t)}),t.x_.push(async e=>{e?(t.k_.e_(),await vf(t)):(await t.k_.stop(),t.v_.length>0&&(se("RemoteStore",`Stopping write stream with ${t.v_.length} pending writes`),t.v_=[]))})),t.k_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cg{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new rr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,a=new cg(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ae(Y.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function fg(t,e){if(fr("AsyncQueue",`${e}: ${t}`),nl(t))return new ae(Y.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{constructor(e){this.comparator=e?(n,r)=>e(n,r)||le.comparator(n.key,r.key):(n,r)=>le.comparator(n.key,r.key),this.keyedMap=Rs(),this.sortedSet=new He(this.comparator)}static emptySet(e){return new To(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof To)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new To;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R_{constructor(){this.q_=new He(le.comparator)}track(e){const n=e.doc.key,r=this.q_.get(n);r?e.type!==0&&r.type===3?this.q_=this.q_.insert(n,e):e.type===3&&r.type!==1?this.q_=this.q_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.q_=this.q_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.q_=this.q_.remove(n):e.type===1&&r.type===2?this.q_=this.q_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):ce():this.q_=this.q_.insert(n,e)}Q_(){const e=[];return this.q_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Vo{constructor(e,n,r,i,o,s,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new Vo(e,n,To.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&cf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N5{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(e=>e.G_())}}class x5{constructor(){this.queries=new rs(e=>UT(e),cf),this.onlineState="Unknown",this.z_=new Set}}async function ES(t,e){const n=me(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.W_()&&e.G_()&&(r=2):(o=new N5,r=e.G_()?0:1);try{switch(r){case 0:o.K_=await n.onListen(i,!0);break;case 1:o.K_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){const a=fg(s,`Initialization of query '${Hi(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.U_.push(e),e.j_(n.onlineState),o.K_&&e.H_(o.K_)&&hg(n)}async function wS(t,e){const n=me(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const s=o.U_.indexOf(e);s>=0&&(o.U_.splice(s,1),o.U_.length===0?i=e.G_()?0:1:!o.W_()&&e.G_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function L5(t,e){const n=me(t);let r=!1;for(const i of e){const o=i.query,s=n.queries.get(o);if(s){for(const a of s.U_)a.H_(i)&&(r=!0);s.K_=i}}r&&hg(n)}function D5(t,e,n){const r=me(t),i=r.queries.get(e);if(i)for(const o of i.U_)o.onError(n);r.queries.delete(e)}function hg(t){t.z_.forEach(e=>{e.next()})}var tp,k_;(k_=tp||(tp={})).J_="default",k_.Cache="cache";class TS{constructor(e,n,r){this.query=e,this.Y_=n,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=r||{}}H_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Vo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Z_?this.ea(e)&&(this.Y_.next(e),n=!0):this.ta(e,this.onlineState)&&(this.na(e),n=!0),this.X_=e,n}onError(e){this.Y_.error(e)}j_(e){this.onlineState=e;let n=!1;return this.X_&&!this.Z_&&this.ta(this.X_,e)&&(this.na(this.X_),n=!0),n}ta(e,n){if(!e.fromCache||!this.G_())return!0;const r=n!=="Offline";return(!this.options.ra||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ea(e){if(e.docChanges.length>0)return!0;const n=this.X_&&this.X_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}na(e){e=Vo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Z_=!0,this.Y_.next(e)}G_(){return this.options.source!==tp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SS{constructor(e){this.key=e}}class IS{constructor(e){this.key=e}}class M5{constructor(e,n){this.query=e,this.la=n,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=Se(),this.mutatedKeys=Se(),this.Ia=$T(e),this.Ta=new To(this.Ia)}get Ea(){return this.la}da(e,n){const r=n?n.Aa:new R_,i=n?n.Ta:this.Ta;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,f)=>{const c=i.get(h),d=ff(this.query,f)?f:null,_=!!c&&this.mutatedKeys.has(c.key),y=!!d&&(d.hasLocalMutations||this.mutatedKeys.has(d.key)&&d.hasCommittedMutations);let E=!1;c&&d?c.data.isEqual(d.data)?_!==y&&(r.track({type:3,doc:d}),E=!0):this.Ra(c,d)||(r.track({type:2,doc:d}),E=!0,(l&&this.Ia(d,l)>0||u&&this.Ia(d,u)<0)&&(a=!0)):!c&&d?(r.track({type:0,doc:d}),E=!0):c&&!d&&(r.track({type:1,doc:c}),E=!0,(l||u)&&(a=!0)),E&&(d?(s=s.add(d),o=y?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{Ta:s,Aa:r,Zi:a,mutatedKeys:o}}Ra(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.Ta;this.Ta=e.Ta,this.mutatedKeys=e.mutatedKeys;const s=e.Aa.Q_();s.sort((h,f)=>function(d,_){const y=E=>{switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ce()}};return y(d)-y(_)}(h.type,f.type)||this.Ia(h.doc,f.doc)),this.Va(r),i=i!=null&&i;const a=n&&!i?this.ma():[],l=this.Pa.size===0&&this.current&&!i?1:0,u=l!==this.ha;return this.ha=l,s.length!==0||u?{snapshot:new Vo(this.query,e.Ta,o,s,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),fa:a}:{fa:a}}j_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new R_,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{fa:[]}}ga(e){return!this.la.has(e)&&!!this.Ta.has(e)&&!this.Ta.get(e).hasLocalMutations}Va(e){e&&(e.addedDocuments.forEach(n=>this.la=this.la.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.la=this.la.delete(n)),this.current=e.current)}ma(){if(!this.current)return[];const e=this.Pa;this.Pa=Se(),this.Ta.forEach(r=>{this.ga(r.key)&&(this.Pa=this.Pa.add(r.key))});const n=[];return e.forEach(r=>{this.Pa.has(r)||n.push(new IS(r))}),this.Pa.forEach(r=>{e.has(r)||n.push(new SS(r))}),n}pa(e){this.la=e.ls,this.Pa=Se();const n=this.da(e.documents);return this.applyChanges(n,!0)}ya(){return Vo.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,this.ha===0,this.hasCachedResults)}}class V5{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class F5{constructor(e){this.key=e,this.wa=!1}}class j5{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Sa={},this.ba=new rs(a=>UT(a),cf),this.Da=new Map,this.Ca=new Set,this.va=new He(le.comparator),this.Fa=new Map,this.Ma=new rg,this.xa={},this.Oa=new Map,this.Na=Mo.Nn(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return this.La===!0}}async function U5(t,e,n=!0){const r=kS(t);let i;const o=r.ba.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.ya()):i=await bS(r,e,n,!0),i}async function $5(t,e){const n=kS(t);await bS(n,e,!0,!1)}async function bS(t,e,n,r){const i=await u5(t.localStore,$n(e)),o=i.targetId,s=n?t.sharedClientState.addLocalQueryTarget(o):"not-current";let a;return r&&(a=await B5(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&pS(t.remoteStore,i),a}async function B5(t,e,n,r,i){t.Ba=(f,c,d)=>async function(y,E,m,p){let v=E.view.da(m);v.Zi&&(v=await b_(y.localStore,E.query,!1).then(({documents:T})=>E.view.da(T,v)));const g=p&&p.targetChanges.get(E.targetId),w=p&&p.targetMismatches.get(E.targetId)!=null,A=E.view.applyChanges(v,y.isPrimaryClient,g,w);return N_(y,E.targetId,A.fa),A.snapshot}(t,f,c,d);const o=await b_(t.localStore,e,!0),s=new M5(e,o.ls),a=s.da(o.documents),l=il.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=s.applyChanges(a,t.isPrimaryClient,l);N_(t,n,u.fa);const h=new V5(e,n,s);return t.ba.set(e,h),t.Da.has(n)?t.Da.get(n).push(e):t.Da.set(n,[e]),u.snapshot}async function q5(t,e,n){const r=me(t),i=r.ba.get(e),o=r.Da.get(i.targetId);if(o.length>1)return r.Da.set(i.targetId,o.filter(s=>!cf(s,e))),void r.ba.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await ep(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&sg(r.remoteStore,i.targetId),np(r,i.targetId)}).catch(tl)):(np(r,i.targetId),await ep(r.localStore,i.targetId,!0))}async function z5(t,e){const n=me(t),r=n.ba.get(e),i=n.Da.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),sg(n.remoteStore,r.targetId))}async function H5(t,e,n){const r=J5(t);try{const i=await function(s,a){const l=me(s),u=it.now(),h=a.reduce((d,_)=>d.add(_.key),Se());let f,c;return l.persistence.runTransaction("Locally write mutations","readwrite",d=>{let _=hr(),y=Se();return l.ss.getEntries(d,h).next(E=>{_=E,_.forEach((m,p)=>{p.isValidDocument()||(y=y.add(m))})}).next(()=>l.localDocuments.getOverlayedDocuments(d,_)).next(E=>{f=E;const m=[];for(const p of a){const v=pV(p,f.get(p.key).overlayedDocument);v!=null&&m.push(new Ui(p.key,v,xT(v.value.mapValue),ir.exists(!0)))}return l.mutationQueue.addMutationBatch(d,u,m,a)}).next(E=>{c=E;const m=E.applyToLocalDocumentSet(f,y);return l.documentOverlayCache.saveOverlays(d,E.batchId,m)})}).then(()=>({batchId:c.batchId,changes:qT(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,l){let u=s.xa[s.currentUser.toKey()];u||(u=new He(Pe)),u=u.insert(a,l),s.xa[s.currentUser.toKey()]=u}(r,i.batchId,n),await sl(r,i.changes),await vf(r.remoteStore)}catch(i){const o=fg(i,"Failed to persist write");n.reject(o)}}async function AS(t,e){const n=me(t);try{const r=await s5(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.Fa.get(o);s&&(Le(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.wa=!0:i.modifiedDocuments.size>0?Le(s.wa):i.removedDocuments.size>0&&(Le(s.wa),s.wa=!1))}),await sl(n,r,e)}catch(r){await tl(r)}}function C_(t,e,n){const r=me(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ba.forEach((o,s)=>{const a=s.view.j_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){const l=me(s);l.onlineState=a;let u=!1;l.queries.forEach((h,f)=>{for(const c of f.U_)c.j_(a)&&(u=!0)}),u&&hg(l)}(r.eventManager,e),i.length&&r.Sa.l_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function W5(t,e,n){const r=me(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Fa.get(e),o=i&&i.key;if(o){let s=new He(le.comparator);s=s.insert(o,At.newNoDocument(o,pe.min()));const a=Se().add(o),l=new pf(pe.min(),new Map,new He(Pe),s,a);await AS(r,l),r.va=r.va.remove(o),r.Fa.delete(e),dg(r)}else await ep(r.localStore,e,!1).then(()=>np(r,e,n)).catch(tl)}async function K5(t,e){const n=me(t),r=e.batch.batchId;try{const i=await o5(n.localStore,e);PS(n,r,null),OS(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await sl(n,i)}catch(i){await tl(i)}}async function G5(t,e,n){const r=me(t);try{const i=await function(s,a){const l=me(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let h;return l.mutationQueue.lookupMutationBatch(u,a).next(f=>(Le(f!==null),h=f.keys(),l.mutationQueue.removeMutationBatch(u,f))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,h,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,h)).next(()=>l.localDocuments.getDocuments(u,h))})}(r.localStore,e);PS(r,e,n),OS(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await sl(r,i)}catch(i){await tl(i)}}function OS(t,e){(t.Oa.get(e)||[]).forEach(n=>{n.resolve()}),t.Oa.delete(e)}function PS(t,e,n){const r=me(t);let i=r.xa[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.xa[r.currentUser.toKey()]=i}}function np(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Da.get(e))t.ba.delete(r),n&&t.Sa.ka(r,n);t.Da.delete(e),t.isPrimaryClient&&t.Ma.Rr(e).forEach(r=>{t.Ma.containsKey(r)||RS(t,r)})}function RS(t,e){t.Ca.delete(e.path.canonicalString());const n=t.va.get(e);n!==null&&(sg(t.remoteStore,n),t.va=t.va.remove(e),t.Fa.delete(n),dg(t))}function N_(t,e,n){for(const r of n)r instanceof SS?(t.Ma.addReference(r.key,e),Q5(t,r)):r instanceof IS?(se("SyncEngine","Document no longer in limbo: "+r.key),t.Ma.removeReference(r.key,e),t.Ma.containsKey(r.key)||RS(t,r.key)):ce()}function Q5(t,e){const n=e.key,r=n.path.canonicalString();t.va.get(n)||t.Ca.has(r)||(se("SyncEngine","New document in limbo: "+n),t.Ca.add(r),dg(t))}function dg(t){for(;t.Ca.size>0&&t.va.size<t.maxConcurrentLimboResolutions;){const e=t.Ca.values().next().value;t.Ca.delete(e);const n=new le(Ue.fromString(e)),r=t.Na.next();t.Fa.set(r,new F5(n)),t.va=t.va.insert(n,r),pS(t.remoteStore,new Cr($n(Zm(n.path)),r,"TargetPurposeLimboResolution",Km.oe))}}async function sl(t,e,n){const r=me(t),i=[],o=[],s=[];r.ba.isEmpty()||(r.ba.forEach((a,l)=>{s.push(r.Ba(l,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u!=null&&u.fromCache?"not-current":"current"),u){i.push(u);const h=og.Qi(l.targetId,u);o.push(h)}}))}),await Promise.all(s),r.Sa.l_(i),await async function(l,u){const h=me(l);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>J.forEach(u,c=>J.forEach(c.ki,d=>h.persistence.referenceDelegate.addReference(f,c.targetId,d)).next(()=>J.forEach(c.qi,d=>h.persistence.referenceDelegate.removeReference(f,c.targetId,d)))))}catch(f){if(!nl(f))throw f;se("LocalStore","Failed to update sequence numbers: "+f)}for(const f of u){const c=f.targetId;if(!f.fromCache){const d=h.ts.get(c),_=d.snapshotVersion,y=d.withLastLimboFreeSnapshotVersion(_);h.ts=h.ts.insert(c,y)}}}(r.localStore,o))}async function Y5(t,e){const n=me(t);if(!n.currentUser.isEqual(e)){se("SyncEngine","User change. New user:",e.toKey());const r=await cS(n.localStore,e);n.currentUser=e,function(o,s){o.Oa.forEach(a=>{a.forEach(l=>{l.reject(new ae(Y.CANCELLED,s))})}),o.Oa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await sl(n,r._s)}}function X5(t,e){const n=me(t),r=n.Fa.get(e);if(r&&r.wa)return Se().add(r.key);{let i=Se();const o=n.Da.get(e);if(!o)return i;for(const s of o){const a=n.ba.get(s);i=i.unionWith(a.view.Ea)}return i}}function kS(t){const e=me(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=AS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=X5.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=W5.bind(null,e),e.Sa.l_=L5.bind(null,e.eventManager),e.Sa.ka=D5.bind(null,e.eventManager),e}function J5(t){const e=me(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=K5.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=G5.bind(null,e),e}class x_{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=mf(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return i5(this.persistence,new n5,e.initialUser,this.serializer)}createPersistence(e){return new ZV(ig.jr,this.serializer)}createSharedClientState(e){return new f5}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class Z5{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>C_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Y5.bind(null,this.syncEngine),await C5(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new x5}()}createDatastore(e){const n=mf(e.databaseInfo.databaseId),r=function(o){return new m5(o)}(e.databaseInfo);return function(o,s,a,l){return new y5(o,s,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,s,a){return new E5(r,i,o,s,a)}(this.localStore,this.datastore,e.asyncQueue,n=>C_(this.syncEngine,n,0),function(){return O_.D()?new O_:new h5}())}createSyncEngine(e,n){return function(i,o,s,a,l,u,h){const f=new j5(i,o,s,a,l,u);return h&&(f.La=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e;await async function(r){const i=me(r);se("RemoteStore","RemoteStore shutting down."),i.M_.add(5),await ol(i),i.O_.shutdown(),i.N_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CS{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ka(this.observer.next,e)}error(e){this.observer.error?this.Ka(this.observer.error,e):fr("Uncaught Error in snapshot listener:",e.toString())}$a(){this.muted=!0}Ka(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eF{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=It.UNAUTHENTICATED,this.clientId=kT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async o=>{se("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(se("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ae(Y.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new rr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=fg(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Eh(t,e){t.asyncQueue.verifyOperationInProgress(),se("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await cS(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function L_(t,e){t.asyncQueue.verifyOperationInProgress();const n=await nF(t);se("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>P_(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>P_(e.remoteStore,i)),t._onlineComponents=e}function tF(t){return t.name==="FirebaseError"?t.code===Y.FAILED_PRECONDITION||t.code===Y.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function nF(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){se("FirestoreClient","Using user provided OfflineComponentProvider");try{await Eh(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!tF(n))throw n;No("Error using user provided cache. Falling back to memory cache: "+n),await Eh(t,new x_)}}else se("FirestoreClient","Using default OfflineComponentProvider"),await Eh(t,new x_);return t._offlineComponents}async function NS(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(se("FirestoreClient","Using user provided OnlineComponentProvider"),await L_(t,t._uninitializedComponentsProvider._online)):(se("FirestoreClient","Using default OnlineComponentProvider"),await L_(t,new Z5))),t._onlineComponents}function rF(t){return NS(t).then(e=>e.syncEngine)}async function xS(t){const e=await NS(t),n=e.eventManager;return n.onListen=U5.bind(null,e.syncEngine),n.onUnlisten=q5.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=$5.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=z5.bind(null,e.syncEngine),n}function iF(t,e,n={}){const r=new rr;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,a,l,u){const h=new CS({next:c=>{s.enqueueAndForget(()=>wS(o,f));const d=c.docs.has(a);!d&&c.fromCache?u.reject(new ae(Y.UNAVAILABLE,"Failed to get document because the client is offline.")):d&&c.fromCache&&l&&l.source==="server"?u.reject(new ae(Y.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(c)},error:c=>u.reject(c)}),f=new TS(Zm(a.path),h,{includeMetadataChanges:!0,ra:!0});return ES(o,f)}(await xS(t),t.asyncQueue,e,n,r)),r.promise}function oF(t,e,n={}){const r=new rr;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,a,l,u){const h=new CS({next:c=>{s.enqueueAndForget(()=>wS(o,f)),c.fromCache&&l.source==="server"?u.reject(new ae(Y.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(c)},error:c=>u.reject(c)}),f=new TS(a,h,{includeMetadataChanges:!0,ra:!0});return ES(o,f)}(await xS(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LS(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DS(t,e,n){if(!n)throw new ae(Y.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function sF(t,e,n,r){if(e===!0&&r===!0)throw new ae(Y.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function M_(t){if(!le.isDocumentKey(t))throw new ae(Y.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function V_(t){if(le.isDocumentKey(t))throw new ae(Y.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function pg(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ce()}function Fo(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ae(Y.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=pg(t);throw new ae(Y.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F_{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ae(Y.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ae(Y.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}sF("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=LS((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new ae(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new ae(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new ae(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class yf{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new F_({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ae(Y.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new ae(Y.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new F_(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new S3;switch(r.type){case"firstParty":return new O3(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ae(Y.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=D_.get(n);r&&(se("ComponentProvider","Removing Datastore"),D_.delete(n),r.terminate())}(this),Promise.resolve()}}function aF(t,e,n,r={}){var i;const o=(t=Fo(t,yf))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&No("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=It.MOCK_USER;else{a=xx(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new ae(Y.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new It(u)}t._authCredentials=new I3(new RT(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _f{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new _f(this.firestore,e,this._query)}}class an{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Hr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new an(this.firestore,e,this._key)}}class Hr extends _f{constructor(e,n,r){super(e,n,Zm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new an(this.firestore,null,new le(e))}withConverter(e){return new Hr(this.firestore,e,this._path)}}function MS(t,e,...n){if(t=cn(t),DS("collection","path",e),t instanceof yf){const r=Ue.fromString(e,...n);return V_(r),new Hr(t,null,r)}{if(!(t instanceof an||t instanceof Hr))throw new ae(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ue.fromString(e,...n));return V_(r),new Hr(t.firestore,null,r)}}function VS(t,e,...n){if(t=cn(t),arguments.length===1&&(e=kT.newId()),DS("doc","path",e),t instanceof yf){const r=Ue.fromString(e,...n);return M_(r),new an(t,null,new le(r))}{if(!(t instanceof an||t instanceof Hr))throw new ae(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ue.fromString(e,...n));return M_(r),new an(t.firestore,t instanceof Hr?t.converter:null,new le(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lF{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Jo=new hS(this,"async_queue_retry"),this.hu=()=>{const n=_h();n&&se("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Jo.Uo()};const e=_h();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;const n=_h();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise(()=>{});const n=new rr;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.su.push(e),this.Tu()))}async Tu(){if(this.su.length!==0){try{await this.su[0](),this.su.shift(),this.Jo.reset()}catch(e){if(!nl(e))throw e;se("AsyncQueue","Operation failed with retryable error: "+e)}this.su.length>0&&this.Jo.Ko(()=>this.Tu())}}Iu(e){const n=this.iu.then(()=>(this.uu=!0,e().catch(r=>{this.au=r,this.uu=!1;const i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw fr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.uu=!1,r))));return this.iu=n,n}enqueueAfterDelay(e,n,r){this.Pu(),this.lu.indexOf(e)>-1&&(n=0);const i=cg.createAndSchedule(this,e,n,r,o=>this.Eu(o));return this._u.push(i),i}Pu(){this.au&&ce()}verifyOperationInProgress(){}async du(){let e;do e=this.iu,await e;while(e!==this.iu)}Au(e){for(const n of this._u)if(n.timerId===e)return!0;return!1}Ru(e){return this.du().then(()=>{this._u.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this._u)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.du()})}Vu(e){this.lu.push(e)}Eu(e){const n=this._u.indexOf(e);this._u.splice(n,1)}}class Ef extends yf{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new lF}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||FS(this),this._firestoreClient.terminate()}}function uF(t,e){const n=typeof t=="object"?t:HE(),r=typeof t=="string"?t:"(default)",i=mm(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=Cx("firestore");o&&aF(i,...o)}return i}function mg(t){return t._firestoreClient||FS(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function FS(t){var e,n,r;const i=t._freezeSettings(),o=function(a,l,u,h){return new U3(a,l,u,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,LS(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new eF(t._authCredentials,t._appCheckCredentials,t._queue,o),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new jo(kt.fromBase64String(e))}catch(n){throw new ae(Y.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new jo(kt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gg{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ae(Y.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new dt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jS{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vg{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ae(Y.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ae(Y.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Pe(this._lat,e._lat)||Pe(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cF=/^__.*__$/;class fF{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ui(e,this.data,this.fieldMask,n,this.fieldTransforms):new rl(e,this.data,n,this.fieldTransforms)}}function US(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ce()}}class yg{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.mu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(e){return new yg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.gu({path:r,yu:!1});return i.wu(e),i}Su(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.gu({path:r,yu:!1});return i.mu(),i}bu(e){return this.gu({path:void 0,yu:!0})}Du(e){return ac(e,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}mu(){if(this.path)for(let e=0;e<this.path.length;e++)this.wu(this.path.get(e))}wu(e){if(e.length===0)throw this.Du("Document fields must not be empty");if(US(this.fu)&&cF.test(e))throw this.Du('Document fields cannot begin and end with "__"')}}class hF{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||mf(e)}Fu(e,n,r,i=!1){return new yg({fu:e,methodName:n,vu:r,path:dt.emptyPath(),yu:!1,Cu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function dF(t){const e=t._freezeSettings(),n=mf(t._databaseId);return new hF(t._databaseId,!!e.ignoreUndefinedProperties,n)}function pF(t,e,n,r,i,o={}){const s=t.Fu(o.merge||o.mergeFields?2:0,e,n,i);zS("Data must be an object, but it was:",s,r);const a=BS(r,s);let l,u;if(o.merge)l=new yn(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){const h=[];for(const f of o.mergeFields){const c=mF(e,f,n);if(!s.contains(c))throw new ae(Y.INVALID_ARGUMENT,`Field '${c}' is specified in your field mask but missing from your input data.`);vF(h,c)||h.push(c)}l=new yn(h),u=s.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,u=s.fieldTransforms;return new fF(new rn(a),l,u)}function $S(t,e){if(qS(t=cn(t)))return zS("Unsupported field value:",e,t),BS(t,e);if(t instanceof jS)return function(r,i){if(!US(i.fu))throw i.Du(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Du(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.yu&&e.fu!==4)throw e.Du("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const a of r){let l=$S(a,i.bu(s));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=cn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return lV(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=it.fromDate(r);return{timestampValue:oc(i.serializer,o)}}if(r instanceof it){const o=new it(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:oc(i.serializer,o)}}if(r instanceof vg)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof jo)return{bytesValue:rS(i.serializer,r._byteString)};if(r instanceof an){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Du(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:ng(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.Du(`Unsupported field value: ${pg(r)}`)}(t,e)}function BS(t,e){const n={};return CT(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ns(t,(r,i)=>{const o=$S(i,e.pu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function qS(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof it||t instanceof vg||t instanceof jo||t instanceof an||t instanceof jS)}function zS(t,e,n){if(!qS(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=pg(n);throw r==="an object"?e.Du(t+" a custom object"):e.Du(t+" "+r)}}function mF(t,e,n){if((e=cn(e))instanceof gg)return e._internalPath;if(typeof e=="string")return HS(t,e);throw ac("Field path arguments must be of type string or ",t,!1,void 0,n)}const gF=new RegExp("[~\\*/\\[\\]]");function HS(t,e,n){if(e.search(gF)>=0)throw ac(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new gg(...e.split("."))._internalPath}catch{throw ac(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function ac(t,e,n,r,i){const o=r&&!r.isEmpty(),s=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new ae(Y.INVALID_ARGUMENT,a+t+l)}function vF(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WS{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new an(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new yF(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(KS("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class yF extends WS{data(){return super.data()}}function KS(t,e){return typeof e=="string"?HS(t,e):e instanceof gg?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _F(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ae(Y.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class EF{convertValue(e,n="none"){switch(xi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Xe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ni(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw ce()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ns(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertGeoPoint(e){return new vg(Xe(e.latitude),Xe(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Qm(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Ra(e));default:return null}}convertTimestamp(e){const n=Qr(e);return new it(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ue.fromString(e);Le(uS(r));const i=new ka(r.get(1),r.get(3)),o=new le(r.popFirst(5));return i.isEqual(n)||fr(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wF(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class GS extends WS{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new uu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(KS("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class uu extends GS{data(e={}){return super.data(e)}}class TF{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Cs(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new uu(this._firestore,this._userDataWriter,r.key,r,new Cs(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ae(Y.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{const l=new uu(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Cs(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{const l=new uu(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Cs(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,h=-1;return a.type!==0&&(u=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),h=s.indexOf(a.doc.key)),{type:SF(a.type),doc:l,oldIndex:u,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function SF(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ce()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IF(t){t=Fo(t,an);const e=Fo(t.firestore,Ef);return iF(mg(e),t._key).then(n=>PF(e,t,n))}class QS extends EF{constructor(e){super(),this.firestore=e}convertBytes(e){return new jo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new an(this.firestore,null,n)}}function bF(t){t=Fo(t,_f);const e=Fo(t.firestore,Ef),n=mg(e),r=new QS(e);return _F(t._query),oF(n,t._query).then(i=>new TF(e,r,t,i))}function AF(t,e){const n=Fo(t.firestore,Ef),r=VS(t),i=wF(t.converter,e);return OF(n,[pF(dF(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,ir.exists(!1))]).then(()=>r)}function OF(t,e){return function(r,i){const o=new rr;return r.asyncQueue.enqueueAndForget(async()=>H5(await rF(r),i,o)),o.promise}(mg(t),e)}function PF(t,e,n){const r=n.docs.get(e._key),i=new QS(t);return new GS(t,i,e._key,r,new Cs(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){ts=i})(Xo),ko(new Oi("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new Ef(new b3(r.getProvider("auth-internal")),new R3(r.getProvider("app-check-internal")),function(u,h){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new ae(Y.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ka(u.options.projectId,h)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),zr(o_,"4.6.1",e),zr(o_,"4.6.1","esm2017")})();const RF={apiKey:"AIzaSyDZn-H5Z-vMSNQIAA01BYWKEkVBoH-0RFk",authDomain:"blogapp-85a52.firebaseapp.com",projectId:"blogapp-85a52",storageBucket:"blogapp-85a52.appspot.com",messagingSenderId:"113645867527",appId:"1:113645867527:web:2a54ccad8ab8336f5890a2"},YS=zE(RF),_g=uF(YS),XS=d4(YS);var rp={exports:{}},Li={},JS={exports:{}},kF="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",CF=kF,NF=CF;function ZS(){}function eI(){}eI.resetWarningCache=ZS;var xF=function(){function t(r,i,o,s,a,l){if(l!==NF){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:eI,resetWarningCache:ZS};return n.PropTypes=n,n};JS.exports=xF();var Eg=JS.exports,ip={exports:{}},bn={},op={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=h;/*!
 * Adapted from jQuery UI core
 *
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/category/ui-core/
 */var n="none",r="contents",i=/input|select|textarea|button|object|iframe/;function o(f,c){return c.getPropertyValue("overflow")!=="visible"||f.scrollWidth<=0&&f.scrollHeight<=0}function s(f){var c=f.offsetWidth<=0&&f.offsetHeight<=0;if(c&&!f.innerHTML)return!0;try{var d=window.getComputedStyle(f),_=d.getPropertyValue("display");return c?_!==r&&o(f,d):_===n}catch{return console.warn("Failed to inspect element style"),!1}}function a(f){for(var c=f,d=f.getRootNode&&f.getRootNode();c&&c!==document.body;){if(d&&c===d&&(c=d.host.parentNode),s(c))return!1;c=c.parentNode}return!0}function l(f,c){var d=f.nodeName.toLowerCase(),_=i.test(d)&&!f.disabled||d==="a"&&f.href||c;return _&&a(f)}function u(f){var c=f.getAttribute("tabindex");c===null&&(c=void 0);var d=isNaN(c);return(d||c>=0)&&l(f,!d)}function h(f){var c=[].slice.call(f.querySelectorAll("*"),0).reduce(function(d,_){return d.concat(_.shadowRoot?h(_.shadowRoot):[_])},[]);return c.filter(u)}t.exports=e.default})(op,op.exports);var tI=op.exports;Object.defineProperty(bn,"__esModule",{value:!0});bn.resetState=VF;bn.log=FF;bn.handleBlur=La;bn.handleFocus=Da;bn.markForFocusLater=jF;bn.returnFocus=UF;bn.popWithoutFocus=$F;bn.setupScopedFocus=BF;bn.teardownScopedFocus=qF;var LF=tI,DF=MF(LF);function MF(t){return t&&t.__esModule?t:{default:t}}var Uo=[],lo=null,sp=!1;function VF(){Uo=[]}function FF(){}function La(){sp=!0}function Da(){if(sp){if(sp=!1,!lo)return;setTimeout(function(){if(!lo.contains(document.activeElement)){var t=(0,DF.default)(lo)[0]||lo;t.focus()}},0)}}function jF(){Uo.push(document.activeElement)}function UF(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,e=null;try{Uo.length!==0&&(e=Uo.pop(),e.focus({preventScroll:t}));return}catch{console.warn(["You tried to return focus to",e,"but it is not in the DOM anymore"].join(" "))}}function $F(){Uo.length>0&&Uo.pop()}function BF(t){lo=t,window.addEventListener?(window.addEventListener("blur",La,!1),document.addEventListener("focus",Da,!0)):(window.attachEvent("onBlur",La),document.attachEvent("onFocus",Da))}function qF(){lo=null,window.addEventListener?(window.removeEventListener("blur",La),document.removeEventListener("focus",Da)):(window.detachEvent("onBlur",La),document.detachEvent("onFocus",Da))}var ap={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var n=tI,r=i(n);function i(a){return a&&a.__esModule?a:{default:a}}function o(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document;return a.activeElement.shadowRoot?o(a.activeElement.shadowRoot):a.activeElement}function s(a,l){var u=(0,r.default)(a);if(!u.length){l.preventDefault();return}var h=void 0,f=l.shiftKey,c=u[0],d=u[u.length-1],_=o();if(a===_){if(!f)return;h=d}if(d===_&&!f&&(h=c),c===_&&f&&(h=d),h){l.preventDefault(),h.focus();return}var y=/(\bChrome\b|\bSafari\b)\//.exec(navigator.userAgent),E=y!=null&&y[1]!="Chrome"&&/\biPod\b|\biPad\b/g.exec(navigator.userAgent)==null;if(E){var m=u.indexOf(_);if(m>-1&&(m+=f?-1:1),h=u[m],typeof h>"u"){l.preventDefault(),h=f?d:c,h.focus();return}l.preventDefault(),h.focus()}}t.exports=e.default})(ap,ap.exports);var zF=ap.exports,An={},HF=function(){},WF=HF,wn={},nI={exports:{}};/*!
  Copyright (c) 2015 Jed Watson.
  Based on code that is Copyright 2013-2015, Facebook, Inc.
  All rights reserved.
*/(function(t){(function(){var e=!!(typeof window<"u"&&window.document&&window.document.createElement),n={canUseDOM:e,canUseWorkers:typeof Worker<"u",canUseEventListeners:e&&!!(window.addEventListener||window.attachEvent),canUseViewport:e&&!!window.screen};t.exports?t.exports=n:window.ExecutionEnvironment=n})()})(nI);var KF=nI.exports;Object.defineProperty(wn,"__esModule",{value:!0});wn.canUseDOM=wn.SafeNodeList=wn.SafeHTMLCollection=void 0;var GF=KF,QF=YF(GF);function YF(t){return t&&t.__esModule?t:{default:t}}var wf=QF.default,XF=wf.canUseDOM?window.HTMLElement:{};wn.SafeHTMLCollection=wf.canUseDOM?window.HTMLCollection:{};wn.SafeNodeList=wf.canUseDOM?window.NodeList:{};wn.canUseDOM=wf.canUseDOM;wn.default=XF;Object.defineProperty(An,"__esModule",{value:!0});An.resetState=nj;An.log=rj;An.assertNodeList=rI;An.setElement=ij;An.validateElement=wg;An.hide=oj;An.show=sj;An.documentNotReadyOrSSRTesting=aj;var JF=WF,ZF=tj(JF),ej=wn;function tj(t){return t&&t.__esModule?t:{default:t}}var Zt=null;function nj(){Zt&&(Zt.removeAttribute?Zt.removeAttribute("aria-hidden"):Zt.length!=null?Zt.forEach(function(t){return t.removeAttribute("aria-hidden")}):document.querySelectorAll(Zt).forEach(function(t){return t.removeAttribute("aria-hidden")})),Zt=null}function rj(){}function rI(t,e){if(!t||!t.length)throw new Error("react-modal: No elements were found for selector "+e+".")}function ij(t){var e=t;if(typeof e=="string"&&ej.canUseDOM){var n=document.querySelectorAll(e);rI(n,e),e=n}return Zt=e||Zt,Zt}function wg(t){var e=t||Zt;return e?Array.isArray(e)||e instanceof HTMLCollection||e instanceof NodeList?e:[e]:((0,ZF.default)(!1,["react-modal: App element is not defined.","Please use `Modal.setAppElement(el)` or set `appElement={el}`.","This is needed so screen readers don't see main content","when modal is opened. It is not recommended, but you can opt-out","by setting `ariaHideApp={false}`."].join(" ")),[])}function oj(t){var e=!0,n=!1,r=void 0;try{for(var i=wg(t)[Symbol.iterator](),o;!(e=(o=i.next()).done);e=!0){var s=o.value;s.setAttribute("aria-hidden","true")}}catch(a){n=!0,r=a}finally{try{!e&&i.return&&i.return()}finally{if(n)throw r}}}function sj(t){var e=!0,n=!1,r=void 0;try{for(var i=wg(t)[Symbol.iterator](),o;!(e=(o=i.next()).done);e=!0){var s=o.value;s.removeAttribute("aria-hidden")}}catch(a){n=!0,r=a}finally{try{!e&&i.return&&i.return()}finally{if(n)throw r}}}function aj(){Zt=null}var os={};Object.defineProperty(os,"__esModule",{value:!0});os.resetState=lj;os.log=uj;var Gs={},Qs={};function j_(t,e){t.classList.remove(e)}function lj(){var t=document.getElementsByTagName("html")[0];for(var e in Gs)j_(t,Gs[e]);var n=document.body;for(var r in Qs)j_(n,Qs[r]);Gs={},Qs={}}function uj(){}var cj=function(e,n){return e[n]||(e[n]=0),e[n]+=1,n},fj=function(e,n){return e[n]&&(e[n]-=1),n},hj=function(e,n,r){r.forEach(function(i){cj(n,i),e.add(i)})},dj=function(e,n,r){r.forEach(function(i){fj(n,i),n[i]===0&&e.remove(i)})};os.add=function(e,n){return hj(e.classList,e.nodeName.toLowerCase()=="html"?Gs:Qs,n.split(" "))};os.remove=function(e,n){return dj(e.classList,e.nodeName.toLowerCase()=="html"?Gs:Qs,n.split(" "))};var ss={};Object.defineProperty(ss,"__esModule",{value:!0});ss.log=mj;ss.resetState=gj;function pj(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var iI=function t(){var e=this;pj(this,t),this.register=function(n){e.openInstances.indexOf(n)===-1&&(e.openInstances.push(n),e.emit("register"))},this.deregister=function(n){var r=e.openInstances.indexOf(n);r!==-1&&(e.openInstances.splice(r,1),e.emit("deregister"))},this.subscribe=function(n){e.subscribers.push(n)},this.emit=function(n){e.subscribers.forEach(function(r){return r(n,e.openInstances.slice())})},this.openInstances=[],this.subscribers=[]},lc=new iI;function mj(){console.log("portalOpenInstances ----------"),console.log(lc.openInstances.length),lc.openInstances.forEach(function(t){return console.log(t)}),console.log("end portalOpenInstances ----------")}function gj(){lc=new iI}ss.default=lc;var Tg={};Object.defineProperty(Tg,"__esModule",{value:!0});Tg.resetState=Ej;Tg.log=wj;var vj=ss,yj=_j(vj);function _j(t){return t&&t.__esModule?t:{default:t}}var St=void 0,mn=void 0,wi=[];function Ej(){for(var t=[St,mn],e=0;e<t.length;e++){var n=t[e];n&&n.parentNode&&n.parentNode.removeChild(n)}St=mn=null,wi=[]}function wj(){console.log("bodyTrap ----------"),console.log(wi.length);for(var t=[St,mn],e=0;e<t.length;e++){var n=t[e],r=n||{};console.log(r.nodeName,r.className,r.id)}console.log("edn bodyTrap ----------")}function U_(){wi.length!==0&&wi[wi.length-1].focusContent()}function Tj(t,e){!St&&!mn&&(St=document.createElement("div"),St.setAttribute("data-react-modal-body-trap",""),St.style.position="absolute",St.style.opacity="0",St.setAttribute("tabindex","0"),St.addEventListener("focus",U_),mn=St.cloneNode(),mn.addEventListener("focus",U_)),wi=e,wi.length>0?(document.body.firstChild!==St&&document.body.insertBefore(St,document.body.firstChild),document.body.lastChild!==mn&&document.body.appendChild(mn)):(St.parentElement&&St.parentElement.removeChild(St),mn.parentElement&&mn.parentElement.removeChild(mn))}yj.default.subscribe(Tj);(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=Object.assign||function(C){for(var M=1;M<arguments.length;M++){var $=arguments[M];for(var D in $)Object.prototype.hasOwnProperty.call($,D)&&(C[D]=$[D])}return C},r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(C){return typeof C}:function(C){return C&&typeof Symbol=="function"&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C},i=function(){function C(M,$){for(var D=0;D<$.length;D++){var j=$[D];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(M,j.key,j)}}return function(M,$,D){return $&&C(M.prototype,$),D&&C(M,D),M}}(),o=ee,s=Eg,a=w(s),l=bn,u=g(l),h=zF,f=w(h),c=An,d=g(c),_=os,y=g(_),E=wn,m=w(E),p=ss,v=w(p);function g(C){if(C&&C.__esModule)return C;var M={};if(C!=null)for(var $ in C)Object.prototype.hasOwnProperty.call(C,$)&&(M[$]=C[$]);return M.default=C,M}function w(C){return C&&C.__esModule?C:{default:C}}function A(C,M){if(!(C instanceof M))throw new TypeError("Cannot call a class as a function")}function T(C,M){if(!C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return M&&(typeof M=="object"||typeof M=="function")?M:C}function S(C,M){if(typeof M!="function"&&M!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof M);C.prototype=Object.create(M&&M.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}}),M&&(Object.setPrototypeOf?Object.setPrototypeOf(C,M):C.__proto__=M)}var k={overlay:"ReactModal__Overlay",content:"ReactModal__Content"},b=function(M){return M.code==="Tab"||M.keyCode===9},I=function(M){return M.code==="Escape"||M.keyCode===27},O=0,R=function(C){S(M,C);function M($){A(this,M);var D=T(this,(M.__proto__||Object.getPrototypeOf(M)).call(this,$));return D.setOverlayRef=function(j){D.overlay=j,D.props.overlayRef&&D.props.overlayRef(j)},D.setContentRef=function(j){D.content=j,D.props.contentRef&&D.props.contentRef(j)},D.afterClose=function(){var j=D.props,F=j.appElement,N=j.ariaHideApp,P=j.htmlOpenClassName,x=j.bodyOpenClassName,V=j.parentSelector,q=V&&V().ownerDocument||document;x&&y.remove(q.body,x),P&&y.remove(q.getElementsByTagName("html")[0],P),N&&O>0&&(O-=1,O===0&&d.show(F)),D.props.shouldFocusAfterRender&&(D.props.shouldReturnFocusAfterClose?(u.returnFocus(D.props.preventScroll),u.teardownScopedFocus()):u.popWithoutFocus()),D.props.onAfterClose&&D.props.onAfterClose(),v.default.deregister(D)},D.open=function(){D.beforeOpen(),D.state.afterOpen&&D.state.beforeClose?(clearTimeout(D.closeTimer),D.setState({beforeClose:!1})):(D.props.shouldFocusAfterRender&&(u.setupScopedFocus(D.node),u.markForFocusLater()),D.setState({isOpen:!0},function(){D.openAnimationFrame=requestAnimationFrame(function(){D.setState({afterOpen:!0}),D.props.isOpen&&D.props.onAfterOpen&&D.props.onAfterOpen({overlayEl:D.overlay,contentEl:D.content})})}))},D.close=function(){D.props.closeTimeoutMS>0?D.closeWithTimeout():D.closeWithoutTimeout()},D.focusContent=function(){return D.content&&!D.contentHasFocus()&&D.content.focus({preventScroll:!0})},D.closeWithTimeout=function(){var j=Date.now()+D.props.closeTimeoutMS;D.setState({beforeClose:!0,closesAt:j},function(){D.closeTimer=setTimeout(D.closeWithoutTimeout,D.state.closesAt-Date.now())})},D.closeWithoutTimeout=function(){D.setState({beforeClose:!1,isOpen:!1,afterOpen:!1,closesAt:null},D.afterClose)},D.handleKeyDown=function(j){b(j)&&(0,f.default)(D.content,j),D.props.shouldCloseOnEsc&&I(j)&&(j.stopPropagation(),D.requestClose(j))},D.handleOverlayOnClick=function(j){D.shouldClose===null&&(D.shouldClose=!0),D.shouldClose&&D.props.shouldCloseOnOverlayClick&&(D.ownerHandlesClose()?D.requestClose(j):D.focusContent()),D.shouldClose=null},D.handleContentOnMouseUp=function(){D.shouldClose=!1},D.handleOverlayOnMouseDown=function(j){!D.props.shouldCloseOnOverlayClick&&j.target==D.overlay&&j.preventDefault()},D.handleContentOnClick=function(){D.shouldClose=!1},D.handleContentOnMouseDown=function(){D.shouldClose=!1},D.requestClose=function(j){return D.ownerHandlesClose()&&D.props.onRequestClose(j)},D.ownerHandlesClose=function(){return D.props.onRequestClose},D.shouldBeClosed=function(){return!D.state.isOpen&&!D.state.beforeClose},D.contentHasFocus=function(){return document.activeElement===D.content||D.content.contains(document.activeElement)},D.buildClassName=function(j,F){var N=(typeof F>"u"?"undefined":r(F))==="object"?F:{base:k[j],afterOpen:k[j]+"--after-open",beforeClose:k[j]+"--before-close"},P=N.base;return D.state.afterOpen&&(P=P+" "+N.afterOpen),D.state.beforeClose&&(P=P+" "+N.beforeClose),typeof F=="string"&&F?P+" "+F:P},D.attributesFromObject=function(j,F){return Object.keys(F).reduce(function(N,P){return N[j+"-"+P]=F[P],N},{})},D.state={afterOpen:!1,beforeClose:!1},D.shouldClose=null,D.moveFromContentToOverlay=null,D}return i(M,[{key:"componentDidMount",value:function(){this.props.isOpen&&this.open()}},{key:"componentDidUpdate",value:function(D,j){this.props.isOpen&&!D.isOpen?this.open():!this.props.isOpen&&D.isOpen&&this.close(),this.props.shouldFocusAfterRender&&this.state.isOpen&&!j.isOpen&&this.focusContent()}},{key:"componentWillUnmount",value:function(){this.state.isOpen&&this.afterClose(),clearTimeout(this.closeTimer),cancelAnimationFrame(this.openAnimationFrame)}},{key:"beforeOpen",value:function(){var D=this.props,j=D.appElement,F=D.ariaHideApp,N=D.htmlOpenClassName,P=D.bodyOpenClassName,x=D.parentSelector,V=x&&x().ownerDocument||document;P&&y.add(V.body,P),N&&y.add(V.getElementsByTagName("html")[0],N),F&&(O+=1,d.hide(j)),v.default.register(this)}},{key:"render",value:function(){var D=this.props,j=D.id,F=D.className,N=D.overlayClassName,P=D.defaultStyles,x=D.children,V=F?{}:P.content,q=N?{}:P.overlay;if(this.shouldBeClosed())return null;var B={ref:this.setOverlayRef,className:this.buildClassName("overlay",N),style:n({},q,this.props.style.overlay),onClick:this.handleOverlayOnClick,onMouseDown:this.handleOverlayOnMouseDown},L=n({id:j,ref:this.setContentRef,style:n({},V,this.props.style.content),className:this.buildClassName("content",F),tabIndex:"-1",onKeyDown:this.handleKeyDown,onMouseDown:this.handleContentOnMouseDown,onMouseUp:this.handleContentOnMouseUp,onClick:this.handleContentOnClick,role:this.props.role,"aria-label":this.props.contentLabel},this.attributesFromObject("aria",n({modal:!0},this.props.aria)),this.attributesFromObject("data",this.props.data||{}),{"data-testid":this.props.testId}),U=this.props.contentElement(L,x);return this.props.overlayElement(B,U)}}]),M}(o.Component);R.defaultProps={style:{overlay:{},content:{}},defaultStyles:{}},R.propTypes={isOpen:a.default.bool.isRequired,defaultStyles:a.default.shape({content:a.default.object,overlay:a.default.object}),style:a.default.shape({content:a.default.object,overlay:a.default.object}),className:a.default.oneOfType([a.default.string,a.default.object]),overlayClassName:a.default.oneOfType([a.default.string,a.default.object]),parentSelector:a.default.func,bodyOpenClassName:a.default.string,htmlOpenClassName:a.default.string,ariaHideApp:a.default.bool,appElement:a.default.oneOfType([a.default.instanceOf(m.default),a.default.instanceOf(E.SafeHTMLCollection),a.default.instanceOf(E.SafeNodeList),a.default.arrayOf(a.default.instanceOf(m.default))]),onAfterOpen:a.default.func,onAfterClose:a.default.func,onRequestClose:a.default.func,closeTimeoutMS:a.default.number,shouldFocusAfterRender:a.default.bool,shouldCloseOnOverlayClick:a.default.bool,shouldReturnFocusAfterClose:a.default.bool,preventScroll:a.default.bool,role:a.default.string,contentLabel:a.default.string,aria:a.default.object,data:a.default.object,children:a.default.node,shouldCloseOnEsc:a.default.bool,overlayRef:a.default.func,contentRef:a.default.func,id:a.default.string,overlayElement:a.default.func,contentElement:a.default.func,testId:a.default.string},e.default=R,t.exports=e.default})(ip,ip.exports);var Sj=ip.exports;function oI(){var t=this.constructor.getDerivedStateFromProps(this.props,this.state);t!=null&&this.setState(t)}function sI(t){function e(n){var r=this.constructor.getDerivedStateFromProps(t,n);return r??null}this.setState(e.bind(this))}function aI(t,e){try{var n=this.props,r=this.state;this.props=t,this.state=e,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}oI.__suppressDeprecationWarning=!0;sI.__suppressDeprecationWarning=!0;aI.__suppressDeprecationWarning=!0;function Ij(t){var e=t.prototype;if(!e||!e.isReactComponent)throw new Error("Can only polyfill class components");if(typeof t.getDerivedStateFromProps!="function"&&typeof e.getSnapshotBeforeUpdate!="function")return t;var n=null,r=null,i=null;if(typeof e.componentWillMount=="function"?n="componentWillMount":typeof e.UNSAFE_componentWillMount=="function"&&(n="UNSAFE_componentWillMount"),typeof e.componentWillReceiveProps=="function"?r="componentWillReceiveProps":typeof e.UNSAFE_componentWillReceiveProps=="function"&&(r="UNSAFE_componentWillReceiveProps"),typeof e.componentWillUpdate=="function"?i="componentWillUpdate":typeof e.UNSAFE_componentWillUpdate=="function"&&(i="UNSAFE_componentWillUpdate"),n!==null||r!==null||i!==null){var o=t.displayName||t.name,s=typeof t.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+o+" uses "+s+" but also contains the following legacy lifecycles:"+(n!==null?`
  `+n:"")+(r!==null?`
  `+r:"")+(i!==null?`
  `+i:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof t.getDerivedStateFromProps=="function"&&(e.componentWillMount=oI,e.componentWillReceiveProps=sI),typeof e.getSnapshotBeforeUpdate=="function"){if(typeof e.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");e.componentWillUpdate=aI;var a=e.componentDidUpdate;e.componentDidUpdate=function(u,h,f){var c=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:f;a.call(this,u,h,c)}}return t}const bj=Object.freeze(Object.defineProperty({__proto__:null,polyfill:Ij},Symbol.toStringTag,{value:"Module"})),Aj=gI(bj);Object.defineProperty(Li,"__esModule",{value:!0});Li.bodyOpenClassName=Li.portalClassName=void 0;var $_=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Oj=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),lI=ee,uc=al(lI),Pj=am,cc=al(Pj),Rj=Eg,de=al(Rj),kj=Sj,B_=al(kj),Cj=An,Nj=Lj(Cj),Nr=wn,q_=al(Nr),xj=Aj;function Lj(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function al(t){return t&&t.__esModule?t:{default:t}}function Dj(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function z_(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Mj(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Vj=Li.portalClassName="ReactModalPortal",Fj=Li.bodyOpenClassName="ReactModal__Body--open",ci=Nr.canUseDOM&&cc.default.createPortal!==void 0,H_=function(e){return document.createElement(e)},W_=function(){return ci?cc.default.createPortal:cc.default.unstable_renderSubtreeIntoContainer};function Ul(t){return t()}var ll=function(t){Mj(e,t);function e(){var n,r,i,o;Dj(this,e);for(var s=arguments.length,a=Array(s),l=0;l<s;l++)a[l]=arguments[l];return o=(r=(i=z_(this,(n=e.__proto__||Object.getPrototypeOf(e)).call.apply(n,[this].concat(a))),i),i.removePortal=function(){!ci&&cc.default.unmountComponentAtNode(i.node);var u=Ul(i.props.parentSelector);u&&u.contains(i.node)?u.removeChild(i.node):console.warn('React-Modal: "parentSelector" prop did not returned any DOM element. Make sure that the parent element is unmounted to avoid any memory leaks.')},i.portalRef=function(u){i.portal=u},i.renderPortal=function(u){var h=W_(),f=h(i,uc.default.createElement(B_.default,$_({defaultStyles:e.defaultStyles},u)),i.node);i.portalRef(f)},r),z_(i,o)}return Oj(e,[{key:"componentDidMount",value:function(){if(Nr.canUseDOM){ci||(this.node=H_("div")),this.node.className=this.props.portalClassName;var r=Ul(this.props.parentSelector);r.appendChild(this.node),!ci&&this.renderPortal(this.props)}}},{key:"getSnapshotBeforeUpdate",value:function(r){var i=Ul(r.parentSelector),o=Ul(this.props.parentSelector);return{prevParent:i,nextParent:o}}},{key:"componentDidUpdate",value:function(r,i,o){if(Nr.canUseDOM){var s=this.props,a=s.isOpen,l=s.portalClassName;r.portalClassName!==l&&(this.node.className=l);var u=o.prevParent,h=o.nextParent;h!==u&&(u.removeChild(this.node),h.appendChild(this.node)),!(!r.isOpen&&!a)&&!ci&&this.renderPortal(this.props)}}},{key:"componentWillUnmount",value:function(){if(!(!Nr.canUseDOM||!this.node||!this.portal)){var r=this.portal.state,i=Date.now(),o=r.isOpen&&this.props.closeTimeoutMS&&(r.closesAt||i+this.props.closeTimeoutMS);o?(r.beforeClose||this.portal.closeWithTimeout(),setTimeout(this.removePortal,o-i)):this.removePortal()}}},{key:"render",value:function(){if(!Nr.canUseDOM||!ci)return null;!this.node&&ci&&(this.node=H_("div"));var r=W_();return r(uc.default.createElement(B_.default,$_({ref:this.portalRef,defaultStyles:e.defaultStyles},this.props)),this.node)}}],[{key:"setAppElement",value:function(r){Nj.setElement(r)}}]),e}(lI.Component);ll.propTypes={isOpen:de.default.bool.isRequired,style:de.default.shape({content:de.default.object,overlay:de.default.object}),portalClassName:de.default.string,bodyOpenClassName:de.default.string,htmlOpenClassName:de.default.string,className:de.default.oneOfType([de.default.string,de.default.shape({base:de.default.string.isRequired,afterOpen:de.default.string.isRequired,beforeClose:de.default.string.isRequired})]),overlayClassName:de.default.oneOfType([de.default.string,de.default.shape({base:de.default.string.isRequired,afterOpen:de.default.string.isRequired,beforeClose:de.default.string.isRequired})]),appElement:de.default.oneOfType([de.default.instanceOf(q_.default),de.default.instanceOf(Nr.SafeHTMLCollection),de.default.instanceOf(Nr.SafeNodeList),de.default.arrayOf(de.default.instanceOf(q_.default))]),onAfterOpen:de.default.func,onRequestClose:de.default.func,closeTimeoutMS:de.default.number,ariaHideApp:de.default.bool,shouldFocusAfterRender:de.default.bool,shouldCloseOnOverlayClick:de.default.bool,shouldReturnFocusAfterClose:de.default.bool,preventScroll:de.default.bool,parentSelector:de.default.func,aria:de.default.object,data:de.default.object,role:de.default.string,contentLabel:de.default.string,shouldCloseOnEsc:de.default.bool,overlayRef:de.default.func,contentRef:de.default.func,id:de.default.string,overlayElement:de.default.func,contentElement:de.default.func};ll.defaultProps={isOpen:!1,portalClassName:Vj,bodyOpenClassName:Fj,role:"dialog",ariaHideApp:!0,closeTimeoutMS:0,shouldFocusAfterRender:!0,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,shouldReturnFocusAfterClose:!0,preventScroll:!1,parentSelector:function(){return document.body},overlayElement:function(e,n){return uc.default.createElement("div",e,n)},contentElement:function(e,n){return uc.default.createElement("div",e,n)}};ll.defaultStyles={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(255, 255, 255, 0.75)"},content:{position:"absolute",top:"40px",left:"40px",right:"40px",bottom:"40px",border:"1px solid #ccc",background:"#fff",overflow:"auto",WebkitOverflowScrolling:"touch",borderRadius:"4px",outline:"none",padding:"20px"}};(0,xj.polyfill)(ll);Li.default=ll;(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=Li,r=i(n);function i(o){return o&&o.__esModule?o:{default:o}}e.default=r.default,t.exports=e.default})(rp,rp.exports);var jj=rp.exports;const Uj=hp(jj),$j=()=>{const[t,e]=ee.useState(""),[n,r]=ee.useState(""),[i,o]=ee.useState(""),[s,a]=ee.useState(!1),l=async h=>{h.preventDefault();try{await u(t,n,i),console.log("Blog post added successfully!"),e(""),r(""),o(""),a(!0)}catch(f){console.error("Error adding blog post:",f)}},u=async(h,f,c)=>{const d=await AF(MS(_g,"blogs"),{title:h,subtitle:f,body:c});console.log("Blog post added with ID:",d.id)};return K.jsxs("div",{className:"max-w-full mx-auto mt-8 p-6 bg-white shadow-md rounded-lg ",children:[K.jsxs("h3",{className:"text-center text-lg font-semibold mb-4",children:["Create a ",K.jsx("span",{className:"text-green-600",children:"New"})," ",K.jsx("span",{className:"text-orange-500",children:"Blog!"})]}),K.jsxs("form",{onSubmit:l,children:[K.jsxs("div",{className:"mb-4",children:[K.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700",children:"Title"}),K.jsx("input",{type:"text",name:"title",value:t,required:!0,onChange:h=>e(h.target.value),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm p-4"})]}),K.jsxs("div",{className:"mb-4",children:[K.jsx("label",{htmlFor:"subtitle",className:"block text-sm font-medium text-gray-700",children:"Subtitle"}),K.jsx("input",{type:"text",name:"subtitle",value:n,required:!0,onChange:h=>r(h.target.value),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm p-4"})]}),K.jsxs("div",{className:"mb-4",children:[K.jsx("label",{htmlFor:"image",className:"block text-sm font-medium text-gray-700",children:"Upload Image"}),K.jsx("input",{type:"file",accept:"image/png, image/jpeg",required:!0,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm p-4"})]}),K.jsxs("div",{className:"mb-16",children:[K.jsx("label",{htmlFor:"body",className:"block text-sm font-medium text-gray-700 mb-1",children:"Body"}),K.jsx("div",{className:"border border-gray-300 rounded-md max-h-screen",children:K.jsx(Sx,{theme:"snow",value:i,onChange:h=>o(h),className:"h-40 sm:h-64"})})]}),K.jsx("button",{type:"submit",className:"bg-black hover:bg-green-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline m-4",children:"Submit"})]}),K.jsx(Uj,{isOpen:s,onRequestClose:()=>a(!1),className:"modal",children:K.jsxs("div",{className:"modal-content",children:[K.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Submission Successful!"}),K.jsx("p",{children:"Your blog post has been added."}),K.jsx("button",{className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline mt-4",onClick:()=>a(!1),children:"Close"})]})})]})};var uI={},Tf={},Sg={},wh={},K_;function Bj(){return K_||(K_=1,function(t){(function(e,n){n(t,ee,Eg)})(xt,function(e,n,r){Object.defineProperty(e,"__esModule",{value:!0}),e.setHasSupportToCaptureOption=_;var i=s(n),o=s(r);function s(p){return p&&p.__esModule?p:{default:p}}var a=Object.assign||function(p){for(var v=1;v<arguments.length;v++){var g=arguments[v];for(var w in g)Object.prototype.hasOwnProperty.call(g,w)&&(p[w]=g[w])}return p};function l(p,v){var g={};for(var w in p)v.indexOf(w)>=0||Object.prototype.hasOwnProperty.call(p,w)&&(g[w]=p[w]);return g}function u(p,v){if(!(p instanceof v))throw new TypeError("Cannot call a class as a function")}var h=function(){function p(v,g){for(var w=0;w<g.length;w++){var A=g[w];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(v,A.key,A)}}return function(v,g,w){return g&&p(v.prototype,g),w&&p(v,w),v}}();function f(p,v){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:p}function c(p,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);p.prototype=Object.create(v&&v.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(p,v):p.__proto__=v)}var d=!1;function _(p){d=p}try{addEventListener("test",null,Object.defineProperty({},"capture",{get:function(){_(!0)}}))}catch{}function y(){var p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{capture:!0};return d?p:p.capture}function E(p){if("touches"in p){var v=p.touches[0],g=v.pageX,w=v.pageY;return{x:g,y:w}}var A=p.screenX,T=p.screenY;return{x:A,y:T}}var m=function(p){c(v,p);function v(){var g;u(this,v);for(var w=arguments.length,A=Array(w),T=0;T<w;T++)A[T]=arguments[T];var S=f(this,(g=v.__proto__||Object.getPrototypeOf(v)).call.apply(g,[this].concat(A)));return S._handleSwipeStart=S._handleSwipeStart.bind(S),S._handleSwipeMove=S._handleSwipeMove.bind(S),S._handleSwipeEnd=S._handleSwipeEnd.bind(S),S._onMouseDown=S._onMouseDown.bind(S),S._onMouseMove=S._onMouseMove.bind(S),S._onMouseUp=S._onMouseUp.bind(S),S._setSwiperRef=S._setSwiperRef.bind(S),S}return h(v,[{key:"componentDidMount",value:function(){this.swiper&&this.swiper.addEventListener("touchmove",this._handleSwipeMove,y({capture:!0,passive:!1}))}},{key:"componentWillUnmount",value:function(){this.swiper&&this.swiper.removeEventListener("touchmove",this._handleSwipeMove,y({capture:!0,passive:!1}))}},{key:"_onMouseDown",value:function(w){this.props.allowMouseEvents&&(this.mouseDown=!0,document.addEventListener("mouseup",this._onMouseUp),document.addEventListener("mousemove",this._onMouseMove),this._handleSwipeStart(w))}},{key:"_onMouseMove",value:function(w){this.mouseDown&&this._handleSwipeMove(w)}},{key:"_onMouseUp",value:function(w){this.mouseDown=!1,document.removeEventListener("mouseup",this._onMouseUp),document.removeEventListener("mousemove",this._onMouseMove),this._handleSwipeEnd(w)}},{key:"_handleSwipeStart",value:function(w){var A=E(w),T=A.x,S=A.y;this.moveStart={x:T,y:S},this.props.onSwipeStart(w)}},{key:"_handleSwipeMove",value:function(w){if(this.moveStart){var A=E(w),T=A.x,S=A.y,k=T-this.moveStart.x,b=S-this.moveStart.y;this.moving=!0;var I=this.props.onSwipeMove({x:k,y:b},w);I&&w.cancelable&&w.preventDefault(),this.movePosition={deltaX:k,deltaY:b}}}},{key:"_handleSwipeEnd",value:function(w){this.props.onSwipeEnd(w);var A=this.props.tolerance;this.moving&&this.movePosition&&(this.movePosition.deltaX<-A?this.props.onSwipeLeft(1,w):this.movePosition.deltaX>A&&this.props.onSwipeRight(1,w),this.movePosition.deltaY<-A?this.props.onSwipeUp(1,w):this.movePosition.deltaY>A&&this.props.onSwipeDown(1,w)),this.moveStart=null,this.moving=!1,this.movePosition=null}},{key:"_setSwiperRef",value:function(w){this.swiper=w,this.props.innerRef(w)}},{key:"render",value:function(){var w=this.props;w.tagName;var A=w.className,T=w.style,S=w.children;w.allowMouseEvents,w.onSwipeUp,w.onSwipeDown,w.onSwipeLeft,w.onSwipeRight,w.onSwipeStart,w.onSwipeMove,w.onSwipeEnd,w.innerRef,w.tolerance;var k=l(w,["tagName","className","style","children","allowMouseEvents","onSwipeUp","onSwipeDown","onSwipeLeft","onSwipeRight","onSwipeStart","onSwipeMove","onSwipeEnd","innerRef","tolerance"]);return i.default.createElement(this.props.tagName,a({ref:this._setSwiperRef,onMouseDown:this._onMouseDown,onTouchStart:this._handleSwipeStart,onTouchEnd:this._handleSwipeEnd,className:A,style:T},k),S)}}]),v}(n.Component);m.displayName="ReactSwipe",m.propTypes={tagName:o.default.string,className:o.default.string,style:o.default.object,children:o.default.node,allowMouseEvents:o.default.bool,onSwipeUp:o.default.func,onSwipeDown:o.default.func,onSwipeLeft:o.default.func,onSwipeRight:o.default.func,onSwipeStart:o.default.func,onSwipeMove:o.default.func,onSwipeEnd:o.default.func,innerRef:o.default.func,tolerance:o.default.number.isRequired},m.defaultProps={tagName:"div",allowMouseEvents:!1,onSwipeUp:function(){},onSwipeDown:function(){},onSwipeLeft:function(){},onSwipeRight:function(){},onSwipeStart:function(){},onSwipeMove:function(){},onSwipeEnd:function(){},innerRef:function(){},tolerance:0},e.default=m})}(wh)),wh}(function(t){(function(e,n){n(t,Bj())})(xt,function(e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=i(n);function i(o){return o&&o.__esModule?o:{default:o}}e.default=r.default})})(Sg);var ul={},cI={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var o="",s=0;s<arguments.length;s++){var a=arguments[s];a&&(o=i(o,r(a)))}return o}function r(o){if(typeof o=="string"||typeof o=="number")return o;if(typeof o!="object")return"";if(Array.isArray(o))return n.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]"))return o.toString();var s="";for(var a in o)e.call(o,a)&&o[a]&&(s=i(s,a));return s}function i(o,s){return s?o?o+" "+s:o+s:o}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(cI);var qj=cI.exports;Object.defineProperty(ul,"__esModule",{value:!0});ul.default=void 0;var _r=zj(qj);function zj(t){return t&&t.__esModule?t:{default:t}}function Hj(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Wj={ROOT:function(e){return(0,_r.default)(Hj({"carousel-root":!0},e||"",!!e))},CAROUSEL:function(e){return(0,_r.default)({carousel:!0,"carousel-slider":e})},WRAPPER:function(e,n){return(0,_r.default)({"thumbs-wrapper":!e,"slider-wrapper":e,"axis-horizontal":n==="horizontal","axis-vertical":n!=="horizontal"})},SLIDER:function(e,n){return(0,_r.default)({thumbs:!e,slider:e,animated:!n})},ITEM:function(e,n,r){return(0,_r.default)({thumb:!e,slide:e,selected:n,previous:r})},ARROW_PREV:function(e){return(0,_r.default)({"control-arrow control-prev":!0,"control-disabled":e})},ARROW_NEXT:function(e){return(0,_r.default)({"control-arrow control-next":!0,"control-disabled":e})},DOT:function(e){return(0,_r.default)({dot:!0,selected:e})}};ul.default=Wj;var cl={},Sf={};Object.defineProperty(Sf,"__esModule",{value:!0});Sf.outerWidth=void 0;var Kj=function(e){var n=e.offsetWidth,r=getComputedStyle(e);return n+=parseInt(r.marginLeft)+parseInt(r.marginRight),n};Sf.outerWidth=Kj;var as={};Object.defineProperty(as,"__esModule",{value:!0});as.default=void 0;var Gj=function(e,n,r){var i=e===0?e:e+n,o=r==="horizontal"?[i,0,0]:[0,i,0],s="translate3d",a="("+o.join(",")+")";return s+a};as.default=Gj;var fl={};Object.defineProperty(fl,"__esModule",{value:!0});fl.default=void 0;var Qj=function(){return window};fl.default=Qj;Object.defineProperty(cl,"__esModule",{value:!0});cl.default=void 0;var hn=Jj(ee),oi=If(ul),Yj=Sf,G_=If(as),Xj=If(Sg),$l=If(fl);function If(t){return t&&t.__esModule?t:{default:t}}function fI(){if(typeof WeakMap!="function")return null;var t=new WeakMap;return fI=function(){return t},t}function Jj(t){if(t&&t.__esModule)return t;if(t===null||Ys(t)!=="object"&&typeof t!="function")return{default:t};var e=fI();if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var o=r?Object.getOwnPropertyDescriptor(t,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=t[i]}return n.default=t,e&&e.set(t,n),n}function Ys(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ys=function(n){return typeof n}:Ys=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Ys(t)}function lp(){return lp=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lp.apply(this,arguments)}function Zj(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function eU(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function tU(t,e,n){return e&&eU(t.prototype,e),t}function nU(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&up(t,e)}function up(t,e){return up=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},up(t,e)}function rU(t){var e=oU();return function(){var r=fc(t),i;if(e){var o=fc(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return iU(this,i)}}function iU(t,e){return e&&(Ys(e)==="object"||typeof e=="function")?e:Ct(t)}function Ct(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function oU(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function fc(t){return fc=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},fc(t)}function Tt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var sU=function(e){return e.hasOwnProperty("key")},Ig=function(t){nU(n,t);var e=rU(n);function n(r){var i;return Zj(this,n),i=e.call(this,r),Tt(Ct(i),"itemsWrapperRef",void 0),Tt(Ct(i),"itemsListRef",void 0),Tt(Ct(i),"thumbsRef",void 0),Tt(Ct(i),"setItemsWrapperRef",function(o){i.itemsWrapperRef=o}),Tt(Ct(i),"setItemsListRef",function(o){i.itemsListRef=o}),Tt(Ct(i),"setThumbsRef",function(o,s){i.thumbsRef||(i.thumbsRef=[]),i.thumbsRef[s]=o}),Tt(Ct(i),"updateSizes",function(){if(!(!i.props.children||!i.itemsWrapperRef||!i.thumbsRef)){var o=hn.Children.count(i.props.children),s=i.itemsWrapperRef.clientWidth,a=i.props.thumbWidth?i.props.thumbWidth:(0,Yj.outerWidth)(i.thumbsRef[0]),l=Math.floor(s/a),u=l<o,h=u?o-l:0;i.setState(function(f,c){return{itemSize:a,visibleItems:l,firstItem:u?i.getFirstItem(c.selectedItem):0,lastPosition:h,showArrows:u}})}}),Tt(Ct(i),"handleClickItem",function(o,s,a){if(!sU(a)||a.key==="Enter"){var l=i.props.onSelectItem;typeof l=="function"&&l(o,s)}}),Tt(Ct(i),"onSwipeStart",function(){i.setState({swiping:!0})}),Tt(Ct(i),"onSwipeEnd",function(){i.setState({swiping:!1})}),Tt(Ct(i),"onSwipeMove",function(o){var s=o.x;if(!i.state.itemSize||!i.itemsWrapperRef||!i.state.visibleItems)return!1;var a=0,l=hn.Children.count(i.props.children),u=-(i.state.firstItem*100)/i.state.visibleItems,h=Math.max(l-i.state.visibleItems,0),f=-h*100/i.state.visibleItems;u===a&&s>0&&(s=0),u===f&&s<0&&(s=0);var c=i.itemsWrapperRef.clientWidth,d=u+100/(c/s);return i.itemsListRef&&["WebkitTransform","MozTransform","MsTransform","OTransform","transform","msTransform"].forEach(function(_){i.itemsListRef.style[_]=(0,G_.default)(d,"%",i.props.axis)}),!0}),Tt(Ct(i),"slideRight",function(o){i.moveTo(i.state.firstItem-(typeof o=="number"?o:1))}),Tt(Ct(i),"slideLeft",function(o){i.moveTo(i.state.firstItem+(typeof o=="number"?o:1))}),Tt(Ct(i),"moveTo",function(o){o=o<0?0:o,o=o>=i.state.lastPosition?i.state.lastPosition:o,i.setState({firstItem:o})}),i.state={selectedItem:r.selectedItem,swiping:!1,showArrows:!1,firstItem:0,visibleItems:0,lastPosition:0},i}return tU(n,[{key:"componentDidMount",value:function(){this.setupThumbs()}},{key:"componentDidUpdate",value:function(i){this.props.selectedItem!==this.state.selectedItem&&this.setState({selectedItem:this.props.selectedItem,firstItem:this.getFirstItem(this.props.selectedItem)}),this.props.children!==i.children&&this.updateSizes()}},{key:"componentWillUnmount",value:function(){this.destroyThumbs()}},{key:"setupThumbs",value:function(){(0,$l.default)().addEventListener("resize",this.updateSizes),(0,$l.default)().addEventListener("DOMContentLoaded",this.updateSizes),this.updateSizes()}},{key:"destroyThumbs",value:function(){(0,$l.default)().removeEventListener("resize",this.updateSizes),(0,$l.default)().removeEventListener("DOMContentLoaded",this.updateSizes)}},{key:"getFirstItem",value:function(i){var o=i;return i>=this.state.lastPosition&&(o=this.state.lastPosition),i<this.state.firstItem+this.state.visibleItems&&(o=this.state.firstItem),i<this.state.firstItem&&(o=i),o}},{key:"renderItems",value:function(){var i=this;return this.props.children.map(function(o,s){var a=oi.default.ITEM(!1,s===i.state.selectedItem),l={key:s,ref:function(h){return i.setThumbsRef(h,s)},className:a,onClick:i.handleClickItem.bind(i,s,i.props.children[s]),onKeyDown:i.handleClickItem.bind(i,s,i.props.children[s]),"aria-label":"".concat(i.props.labels.item," ").concat(s+1),style:{width:i.props.thumbWidth}};return hn.default.createElement("li",lp({},l,{role:"button",tabIndex:0}),o)})}},{key:"render",value:function(){var i=this;if(!this.props.children)return null;var o=hn.Children.count(this.props.children)>1,s=this.state.showArrows&&this.state.firstItem>0,a=this.state.showArrows&&this.state.firstItem<this.state.lastPosition,l={},u=-this.state.firstItem*(this.state.itemSize||0),h=(0,G_.default)(u,"px",this.props.axis),f=this.props.transitionTime+"ms";return l={WebkitTransform:h,MozTransform:h,MsTransform:h,OTransform:h,transform:h,msTransform:h,WebkitTransitionDuration:f,MozTransitionDuration:f,MsTransitionDuration:f,OTransitionDuration:f,transitionDuration:f,msTransitionDuration:f},hn.default.createElement("div",{className:oi.default.CAROUSEL(!1)},hn.default.createElement("div",{className:oi.default.WRAPPER(!1),ref:this.setItemsWrapperRef},hn.default.createElement("button",{type:"button",className:oi.default.ARROW_PREV(!s),onClick:function(){return i.slideRight()},"aria-label":this.props.labels.leftArrow}),o?hn.default.createElement(Xj.default,{tagName:"ul",className:oi.default.SLIDER(!1,this.state.swiping),onSwipeLeft:this.slideLeft,onSwipeRight:this.slideRight,onSwipeMove:this.onSwipeMove,onSwipeStart:this.onSwipeStart,onSwipeEnd:this.onSwipeEnd,style:l,innerRef:this.setItemsListRef,allowMouseEvents:this.props.emulateTouch},this.renderItems()):hn.default.createElement("ul",{className:oi.default.SLIDER(!1,this.state.swiping),ref:function(d){return i.setItemsListRef(d)},style:l},this.renderItems()),hn.default.createElement("button",{type:"button",className:oi.default.ARROW_NEXT(!a),onClick:function(){return i.slideLeft()},"aria-label":this.props.labels.rightArrow})))}}]),n}(hn.Component);cl.default=Ig;Tt(Ig,"displayName","Thumbs");Tt(Ig,"defaultProps",{axis:"horizontal",labels:{leftArrow:"previous slide / item",rightArrow:"next slide / item",item:"slide item"},selectedItem:0,thumbWidth:80,transitionTime:350});var bf={};Object.defineProperty(bf,"__esModule",{value:!0});bf.default=void 0;var aU=function(){return document};bf.default=aU;var Ht={};Object.defineProperty(Ht,"__esModule",{value:!0});Ht.setPosition=Ht.getPosition=Ht.isKeyboardEvent=Ht.defaultStatusFormatter=Ht.noop=void 0;var lU=ee,uU=cU(as);function cU(t){return t&&t.__esModule?t:{default:t}}var fU=function(){};Ht.noop=fU;var hU=function(e,n){return"".concat(e," of ").concat(n)};Ht.defaultStatusFormatter=hU;var dU=function(e){return e?e.hasOwnProperty("key"):!1};Ht.isKeyboardEvent=dU;var pU=function(e,n){if(n.infiniteLoop&&++e,e===0)return 0;var r=lU.Children.count(n.children);if(n.centerMode&&n.axis==="horizontal"){var i=-e*n.centerSlidePercentage,o=r-1;return e&&(e!==o||n.infiniteLoop)?i+=(100-n.centerSlidePercentage)/2:e===o&&(i+=100-n.centerSlidePercentage),i}return-e*100};Ht.getPosition=pU;var mU=function(e,n){var r={};return["WebkitTransform","MozTransform","MsTransform","OTransform","transform","msTransform"].forEach(function(i){r[i]=(0,uU.default)(e,"%",n)}),r};Ht.setPosition=mU;var Dn={};Object.defineProperty(Dn,"__esModule",{value:!0});Dn.fadeAnimationHandler=Dn.slideStopSwipingHandler=Dn.slideSwipeAnimationHandler=Dn.slideAnimationHandler=void 0;var hI=ee,gU=vU(as),Mn=Ht;function vU(t){return t&&t.__esModule?t:{default:t}}function Q_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Q_(Object(n),!0).forEach(function(r){yU(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Q_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yU(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var _U=function(e,n){var r={},i=n.selectedItem,o=i,s=hI.Children.count(e.children)-1,a=e.infiniteLoop&&(i<0||i>s);if(a)return o<0?e.centerMode&&e.centerSlidePercentage&&e.axis==="horizontal"?r.itemListStyle=(0,Mn.setPosition)(-(s+2)*e.centerSlidePercentage-(100-e.centerSlidePercentage)/2,e.axis):r.itemListStyle=(0,Mn.setPosition)(-(s+2)*100,e.axis):o>s&&(r.itemListStyle=(0,Mn.setPosition)(0,e.axis)),r;var l=(0,Mn.getPosition)(i,e),u=(0,gU.default)(l,"%",e.axis),h=e.transitionTime+"ms";return r.itemListStyle={WebkitTransform:u,msTransform:u,OTransform:u,transform:u},n.swiping||(r.itemListStyle=fi(fi({},r.itemListStyle),{},{WebkitTransitionDuration:h,MozTransitionDuration:h,OTransitionDuration:h,transitionDuration:h,msTransitionDuration:h})),r};Dn.slideAnimationHandler=_U;var EU=function(e,n,r,i){var o={},s=n.axis==="horizontal",a=hI.Children.count(n.children),l=0,u=(0,Mn.getPosition)(r.selectedItem,n),h=n.infiniteLoop?(0,Mn.getPosition)(a-1,n)-100:(0,Mn.getPosition)(a-1,n),f=s?e.x:e.y,c=f;u===l&&f>0&&(c=0),u===h&&f<0&&(c=0);var d=u+100/(r.itemSize/c),_=Math.abs(f)>n.swipeScrollTolerance;return n.infiniteLoop&&_&&(r.selectedItem===0&&d>-100?d-=a*100:r.selectedItem===a-1&&d<-a*100&&(d+=a*100)),(!n.preventMovementUntilSwipeScrollTolerance||_||r.swipeMovementStarted)&&(r.swipeMovementStarted||i({swipeMovementStarted:!0}),o.itemListStyle=(0,Mn.setPosition)(d,n.axis)),_&&!r.cancelClick&&i({cancelClick:!0}),o};Dn.slideSwipeAnimationHandler=EU;var wU=function(e,n){var r=(0,Mn.getPosition)(n.selectedItem,e),i=(0,Mn.setPosition)(r,e.axis);return{itemListStyle:i}};Dn.slideStopSwipingHandler=wU;var TU=function(e,n){var r=e.transitionTime+"ms",i="ease-in-out",o={position:"absolute",display:"block",zIndex:-2,minHeight:"100%",opacity:0,top:0,right:0,left:0,bottom:0,transitionTimingFunction:i,msTransitionTimingFunction:i,MozTransitionTimingFunction:i,WebkitTransitionTimingFunction:i,OTransitionTimingFunction:i};return n.swiping||(o=fi(fi({},o),{},{WebkitTransitionDuration:r,MozTransitionDuration:r,OTransitionDuration:r,transitionDuration:r,msTransitionDuration:r})),{slideStyle:o,selectedStyle:fi(fi({},o),{},{opacity:1,position:"relative"}),prevStyle:fi({},o)}};Dn.fadeAnimationHandler=TU;Object.defineProperty(Tf,"__esModule",{value:!0});Tf.default=void 0;var ke=bU(ee),SU=hl(Sg),Gn=hl(ul),IU=hl(cl),Bl=hl(bf),ql=hl(fl),Ns=Ht,hc=Dn;function hl(t){return t&&t.__esModule?t:{default:t}}function dI(){if(typeof WeakMap!="function")return null;var t=new WeakMap;return dI=function(){return t},t}function bU(t){if(t&&t.__esModule)return t;if(t===null||Xs(t)!=="object"&&typeof t!="function")return{default:t};var e=dI();if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var o=r?Object.getOwnPropertyDescriptor(t,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=t[i]}return n.default=t,e&&e.set(t,n),n}function Xs(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Xs=function(n){return typeof n}:Xs=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Xs(t)}function cp(){return cp=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cp.apply(this,arguments)}function Y_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Y_(Object(n),!0).forEach(function(r){ve(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Y_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function AU(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function OU(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function PU(t,e,n){return e&&OU(t.prototype,e),t}function RU(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&fp(t,e)}function fp(t,e){return fp=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},fp(t,e)}function kU(t){var e=NU();return function(){var r=dc(t),i;if(e){var o=dc(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return CU(this,i)}}function CU(t,e){return e&&(Xs(e)==="object"||typeof e=="function")?e:Ee(t)}function Ee(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function NU(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function dc(t){return dc=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},dc(t)}function ve(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var bg=function(t){RU(n,t);var e=kU(n);function n(r){var i;AU(this,n),i=e.call(this,r),ve(Ee(i),"thumbsRef",void 0),ve(Ee(i),"carouselWrapperRef",void 0),ve(Ee(i),"listRef",void 0),ve(Ee(i),"itemsRef",void 0),ve(Ee(i),"timer",void 0),ve(Ee(i),"animationHandler",void 0),ve(Ee(i),"setThumbsRef",function(s){i.thumbsRef=s}),ve(Ee(i),"setCarouselWrapperRef",function(s){i.carouselWrapperRef=s}),ve(Ee(i),"setListRef",function(s){i.listRef=s}),ve(Ee(i),"setItemsRef",function(s,a){i.itemsRef||(i.itemsRef=[]),i.itemsRef[a]=s}),ve(Ee(i),"autoPlay",function(){ke.Children.count(i.props.children)<=1||(i.clearAutoPlay(),i.props.autoPlay&&(i.timer=setTimeout(function(){i.increment()},i.props.interval)))}),ve(Ee(i),"clearAutoPlay",function(){i.timer&&clearTimeout(i.timer)}),ve(Ee(i),"resetAutoPlay",function(){i.clearAutoPlay(),i.autoPlay()}),ve(Ee(i),"stopOnHover",function(){i.setState({isMouseEntered:!0},i.clearAutoPlay)}),ve(Ee(i),"startOnLeave",function(){i.setState({isMouseEntered:!1},i.autoPlay)}),ve(Ee(i),"isFocusWithinTheCarousel",function(){return i.carouselWrapperRef?!!((0,Bl.default)().activeElement===i.carouselWrapperRef||i.carouselWrapperRef.contains((0,Bl.default)().activeElement)):!1}),ve(Ee(i),"navigateWithKeyboard",function(s){if(i.isFocusWithinTheCarousel()){var a=i.props.axis,l=a==="horizontal",u={ArrowUp:38,ArrowRight:39,ArrowDown:40,ArrowLeft:37},h=l?u.ArrowRight:u.ArrowDown,f=l?u.ArrowLeft:u.ArrowUp;h===s.keyCode?i.increment():f===s.keyCode&&i.decrement()}}),ve(Ee(i),"updateSizes",function(){if(!(!i.state.initialized||!i.itemsRef||i.itemsRef.length===0)){var s=i.props.axis==="horizontal",a=i.itemsRef[0];if(a){var l=s?a.clientWidth:a.clientHeight;i.setState({itemSize:l}),i.thumbsRef&&i.thumbsRef.updateSizes()}}}),ve(Ee(i),"setMountState",function(){i.setState({hasMount:!0}),i.updateSizes()}),ve(Ee(i),"handleClickItem",function(s,a){if(ke.Children.count(i.props.children)!==0){if(i.state.cancelClick){i.setState({cancelClick:!1});return}i.props.onClickItem(s,a),s!==i.state.selectedItem&&i.setState({selectedItem:s})}}),ve(Ee(i),"handleOnChange",function(s,a){ke.Children.count(i.props.children)<=1||i.props.onChange(s,a)}),ve(Ee(i),"handleClickThumb",function(s,a){i.props.onClickThumb(s,a),i.moveTo(s)}),ve(Ee(i),"onSwipeStart",function(s){i.setState({swiping:!0}),i.props.onSwipeStart(s)}),ve(Ee(i),"onSwipeEnd",function(s){i.setState({swiping:!1,cancelClick:!1,swipeMovementStarted:!1}),i.props.onSwipeEnd(s),i.clearAutoPlay(),i.state.autoPlay&&i.autoPlay()}),ve(Ee(i),"onSwipeMove",function(s,a){i.props.onSwipeMove(a);var l=i.props.swipeAnimationHandler(s,i.props,i.state,i.setState.bind(Ee(i)));return i.setState(dn({},l)),!!Object.keys(l).length}),ve(Ee(i),"decrement",function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;i.moveTo(i.state.selectedItem-(typeof s=="number"?s:1))}),ve(Ee(i),"increment",function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;i.moveTo(i.state.selectedItem+(typeof s=="number"?s:1))}),ve(Ee(i),"moveTo",function(s){if(typeof s=="number"){var a=ke.Children.count(i.props.children)-1;s<0&&(s=i.props.infiniteLoop?a:0),s>a&&(s=i.props.infiniteLoop?0:a),i.selectItem({selectedItem:s}),i.state.autoPlay&&i.state.isMouseEntered===!1&&i.resetAutoPlay()}}),ve(Ee(i),"onClickNext",function(){i.increment(1)}),ve(Ee(i),"onClickPrev",function(){i.decrement(1)}),ve(Ee(i),"onSwipeForward",function(){i.increment(1),i.props.emulateTouch&&i.setState({cancelClick:!0})}),ve(Ee(i),"onSwipeBackwards",function(){i.decrement(1),i.props.emulateTouch&&i.setState({cancelClick:!0})}),ve(Ee(i),"changeItem",function(s){return function(a){(!(0,Ns.isKeyboardEvent)(a)||a.key==="Enter")&&i.moveTo(s)}}),ve(Ee(i),"selectItem",function(s){i.setState(dn({previousItem:i.state.selectedItem},s),function(){i.setState(i.animationHandler(i.props,i.state))}),i.handleOnChange(s.selectedItem,ke.Children.toArray(i.props.children)[s.selectedItem])}),ve(Ee(i),"getInitialImage",function(){var s=i.props.selectedItem,a=i.itemsRef&&i.itemsRef[s],l=a&&a.getElementsByTagName("img")||[];return l[0]}),ve(Ee(i),"getVariableItemHeight",function(s){var a=i.itemsRef&&i.itemsRef[s];if(i.state.hasMount&&a&&a.children.length){var l=a.children[0].getElementsByTagName("img")||[];if(l.length>0){var u=l[0];if(!u.complete){var h=function d(){i.forceUpdate(),u.removeEventListener("load",d)};u.addEventListener("load",h)}}var f=l[0]||a.children[0],c=f.clientHeight;return c>0?c:null}return null});var o={initialized:!1,previousItem:r.selectedItem,selectedItem:r.selectedItem,hasMount:!1,isMouseEntered:!1,autoPlay:r.autoPlay,swiping:!1,swipeMovementStarted:!1,cancelClick:!1,itemSize:1,itemListStyle:{},slideStyle:{},selectedStyle:{},prevStyle:{}};return i.animationHandler=typeof r.animationHandler=="function"&&r.animationHandler||r.animationHandler==="fade"&&hc.fadeAnimationHandler||hc.slideAnimationHandler,i.state=dn(dn({},o),i.animationHandler(r,o)),i}return PU(n,[{key:"componentDidMount",value:function(){this.props.children&&this.setupCarousel()}},{key:"componentDidUpdate",value:function(i,o){!i.children&&this.props.children&&!this.state.initialized&&this.setupCarousel(),!i.autoFocus&&this.props.autoFocus&&this.forceFocus(),o.swiping&&!this.state.swiping&&this.setState(dn({},this.props.stopSwipingHandler(this.props,this.state))),(i.selectedItem!==this.props.selectedItem||i.centerMode!==this.props.centerMode)&&(this.updateSizes(),this.moveTo(this.props.selectedItem)),i.autoPlay!==this.props.autoPlay&&(this.props.autoPlay?this.setupAutoPlay():this.destroyAutoPlay(),this.setState({autoPlay:this.props.autoPlay}))}},{key:"componentWillUnmount",value:function(){this.destroyCarousel()}},{key:"setupCarousel",value:function(){var i=this;this.bindEvents(),this.state.autoPlay&&ke.Children.count(this.props.children)>1&&this.setupAutoPlay(),this.props.autoFocus&&this.forceFocus(),this.setState({initialized:!0},function(){var o=i.getInitialImage();o&&!o.complete?o.addEventListener("load",i.setMountState):i.setMountState()})}},{key:"destroyCarousel",value:function(){this.state.initialized&&(this.unbindEvents(),this.destroyAutoPlay())}},{key:"setupAutoPlay",value:function(){this.autoPlay();var i=this.carouselWrapperRef;this.props.stopOnHover&&i&&(i.addEventListener("mouseenter",this.stopOnHover),i.addEventListener("mouseleave",this.startOnLeave))}},{key:"destroyAutoPlay",value:function(){this.clearAutoPlay();var i=this.carouselWrapperRef;this.props.stopOnHover&&i&&(i.removeEventListener("mouseenter",this.stopOnHover),i.removeEventListener("mouseleave",this.startOnLeave))}},{key:"bindEvents",value:function(){(0,ql.default)().addEventListener("resize",this.updateSizes),(0,ql.default)().addEventListener("DOMContentLoaded",this.updateSizes),this.props.useKeyboardArrows&&(0,Bl.default)().addEventListener("keydown",this.navigateWithKeyboard)}},{key:"unbindEvents",value:function(){(0,ql.default)().removeEventListener("resize",this.updateSizes),(0,ql.default)().removeEventListener("DOMContentLoaded",this.updateSizes);var i=this.getInitialImage();i&&i.removeEventListener("load",this.setMountState),this.props.useKeyboardArrows&&(0,Bl.default)().removeEventListener("keydown",this.navigateWithKeyboard)}},{key:"forceFocus",value:function(){var i;(i=this.carouselWrapperRef)===null||i===void 0||i.focus()}},{key:"renderItems",value:function(i){var o=this;return this.props.children?ke.Children.map(this.props.children,function(s,a){var l=a===o.state.selectedItem,u=a===o.state.previousItem,h=l&&o.state.selectedStyle||u&&o.state.prevStyle||o.state.slideStyle||{};o.props.centerMode&&o.props.axis==="horizontal"&&(h=dn(dn({},h),{},{minWidth:o.props.centerSlidePercentage+"%"})),o.state.swiping&&o.state.swipeMovementStarted&&(h=dn(dn({},h),{},{pointerEvents:"none"}));var f={ref:function(d){return o.setItemsRef(d,a)},key:"itemKey"+a+(i?"clone":""),className:Gn.default.ITEM(!0,a===o.state.selectedItem,a===o.state.previousItem),onClick:o.handleClickItem.bind(o,a,s),style:h};return ke.default.createElement("li",f,o.props.renderItem(s,{isSelected:a===o.state.selectedItem,isPrevious:a===o.state.previousItem}))}):[]}},{key:"renderControls",value:function(){var i=this,o=this.props,s=o.showIndicators,a=o.labels,l=o.renderIndicator,u=o.children;return s?ke.default.createElement("ul",{className:"control-dots"},ke.Children.map(u,function(h,f){return l&&l(i.changeItem(f),f===i.state.selectedItem,f,a.item)})):null}},{key:"renderStatus",value:function(){return this.props.showStatus?ke.default.createElement("p",{className:"carousel-status"},this.props.statusFormatter(this.state.selectedItem+1,ke.Children.count(this.props.children))):null}},{key:"renderThumbs",value:function(){return!this.props.showThumbs||!this.props.children||ke.Children.count(this.props.children)===0?null:ke.default.createElement(IU.default,{ref:this.setThumbsRef,onSelectItem:this.handleClickThumb,selectedItem:this.state.selectedItem,transitionTime:this.props.transitionTime,thumbWidth:this.props.thumbWidth,labels:this.props.labels,emulateTouch:this.props.emulateTouch},this.props.renderThumbs(this.props.children))}},{key:"render",value:function(){var i=this;if(!this.props.children||ke.Children.count(this.props.children)===0)return null;var o=this.props.swipeable&&ke.Children.count(this.props.children)>1,s=this.props.axis==="horizontal",a=this.props.showArrows&&ke.Children.count(this.props.children)>1,l=a&&(this.state.selectedItem>0||this.props.infiniteLoop)||!1,u=a&&(this.state.selectedItem<ke.Children.count(this.props.children)-1||this.props.infiniteLoop)||!1,h=this.renderItems(!0),f=h.shift(),c=h.pop(),d={className:Gn.default.SLIDER(!0,this.state.swiping),onSwipeMove:this.onSwipeMove,onSwipeStart:this.onSwipeStart,onSwipeEnd:this.onSwipeEnd,style:this.state.itemListStyle,tolerance:this.props.swipeScrollTolerance},_={};if(s){if(d.onSwipeLeft=this.onSwipeForward,d.onSwipeRight=this.onSwipeBackwards,this.props.dynamicHeight){var y=this.getVariableItemHeight(this.state.selectedItem);_.height=y||"auto"}}else d.onSwipeUp=this.props.verticalSwipe==="natural"?this.onSwipeBackwards:this.onSwipeForward,d.onSwipeDown=this.props.verticalSwipe==="natural"?this.onSwipeForward:this.onSwipeBackwards,d.style=dn(dn({},d.style),{},{height:this.state.itemSize}),_.height=this.state.itemSize;return ke.default.createElement("div",{"aria-label":this.props.ariaLabel,className:Gn.default.ROOT(this.props.className),ref:this.setCarouselWrapperRef,tabIndex:this.props.useKeyboardArrows?0:void 0},ke.default.createElement("div",{className:Gn.default.CAROUSEL(!0),style:{width:this.props.width}},this.renderControls(),this.props.renderArrowPrev(this.onClickPrev,l,this.props.labels.leftArrow),ke.default.createElement("div",{className:Gn.default.WRAPPER(!0,this.props.axis),style:_},o?ke.default.createElement(SU.default,cp({tagName:"ul",innerRef:this.setListRef},d,{allowMouseEvents:this.props.emulateTouch}),this.props.infiniteLoop&&c,this.renderItems(),this.props.infiniteLoop&&f):ke.default.createElement("ul",{className:Gn.default.SLIDER(!0,this.state.swiping),ref:function(m){return i.setListRef(m)},style:this.state.itemListStyle||{}},this.props.infiniteLoop&&c,this.renderItems(),this.props.infiniteLoop&&f)),this.props.renderArrowNext(this.onClickNext,u,this.props.labels.rightArrow),this.renderStatus()),this.renderThumbs())}}]),n}(ke.default.Component);Tf.default=bg;ve(bg,"displayName","Carousel");ve(bg,"defaultProps",{ariaLabel:void 0,axis:"horizontal",centerSlidePercentage:80,interval:3e3,labels:{leftArrow:"previous slide / item",rightArrow:"next slide / item",item:"slide item"},onClickItem:Ns.noop,onClickThumb:Ns.noop,onChange:Ns.noop,onSwipeStart:function(){},onSwipeEnd:function(){},onSwipeMove:function(){return!1},preventMovementUntilSwipeScrollTolerance:!1,renderArrowPrev:function(e,n,r){return ke.default.createElement("button",{type:"button","aria-label":r,className:Gn.default.ARROW_PREV(!n),onClick:e})},renderArrowNext:function(e,n,r){return ke.default.createElement("button",{type:"button","aria-label":r,className:Gn.default.ARROW_NEXT(!n),onClick:e})},renderIndicator:function(e,n,r,i){return ke.default.createElement("li",{className:Gn.default.DOT(n),onClick:e,onKeyDown:e,value:r,key:r,role:"button",tabIndex:0,"aria-label":"".concat(i," ").concat(r+1)})},renderItem:function(e){return e},renderThumbs:function(e){var n=ke.Children.map(e,function(r){var i=r;if(r.type!=="img"&&(i=ke.Children.toArray(r.props.children).find(function(o){return o.type==="img"})),!!i)return i});return n.filter(function(r){return r}).length===0?(console.warn("No images found! Can't build the thumb list without images. If you don't need thumbs, set showThumbs={false} in the Carousel. Note that it's not possible to get images rendered inside custom components. More info at https://github.com/leandrowd/react-responsive-carousel/blob/master/TROUBLESHOOTING.md"),[]):n},statusFormatter:Ns.defaultStatusFormatter,selectedItem:0,showArrows:!0,showIndicators:!0,showStatus:!0,showThumbs:!0,stopOnHover:!0,swipeScrollTolerance:5,swipeable:!0,transitionTime:350,verticalSwipe:"standard",width:"100%",animationHandler:"slide",swipeAnimationHandler:hc.slideSwipeAnimationHandler,stopSwipingHandler:hc.slideStopSwipingHandler});var xU={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"Carousel",{enumerable:!0,get:function(){return e.default}}),Object.defineProperty(t,"CarouselProps",{enumerable:!0,get:function(){return n.CarouselProps}}),Object.defineProperty(t,"Thumbs",{enumerable:!0,get:function(){return r.default}});var e=i(Tf),n=xU,r=i(cl);function i(o){return o&&o.__esModule?o:{default:o}}})(uI);const Th="/assets/blog1-DwQaqNdV.jpg",LU="/assets/blog-C3mzXgii.jpg",DU=()=>{const[t,e]=ee.useState([]);return ee.useEffect(()=>{(async()=>{try{const i=(await bF(MS(_g,"blogs"))).docs.map(o=>({id:o.id,...o.data()}));e(i)}catch(r){console.error("Error fetching blogs:",r)}})()},[t]),K.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:t.map(n=>K.jsxs("div",{className:"relative bg-white rounded-lg shadow-md overflow-hidden",children:[K.jsx("img",{src:LU,alt:"blog",className:"w-full h-48 object-cover object-center"}),K.jsxs("div",{className:"p-4",children:[K.jsx("h2",{className:"text-xl font-semibold",children:n.title}),K.jsx("p",{className:"text-gray-600",children:n.subtitle})]}),K.jsx("div",{className:"absolute bottom-2 right-2 z-10",children:K.jsx(go,{to:`/BlogPage/${n.id}`,className:"text-black font-bold py-1 px-2 rounded focus:outline-none focus:shadow-outline",children:"Read More"})})]},n.id))})},MU=()=>K.jsxs("div",{children:[K.jsx("div",{className:"max-w-full mx-auto mt-6 p-5 rounded-lg overflow-hidden -z-10",children:K.jsxs(uI.Carousel,{autoPlay:!0,interval:3e3,infiniteLoop:!0,showThumbs:!1,showStatus:!1,transitionTime:500,children:[K.jsx("div",{children:K.jsx("img",{src:Th,alt:"Blog Image 1",className:"w-full h-96 object-cover object-center rounded-md"})}),K.jsx("div",{children:K.jsx("img",{src:Th,alt:"Blog Image 2",className:"w-full h-96 object-cover object-center rounded-md"})}),K.jsx("div",{children:K.jsx("img",{src:Th,alt:"Blog Image 3",className:"w-full h-96 object-cover object-center rounded-md"})})]})}),K.jsx(DU,{})]}),VU=()=>K.jsx("footer",{className:"bg-gray-800 py-6 px-4 sm:px-6 lg:px-8 text-white",children:K.jsx("div",{className:"max-w-6xl mx-auto flex flex-wrap justify-center items-center",children:K.jsx("div",{className:"text-center sm:text-left mb-4 sm:mb-0",children:K.jsx("p",{children:"© 2024 Your Blog Gaurav Methwani"})})})}),FU=()=>{const[t,e]=ee.useState(null),[n,r]=ee.useState(!0),{id:i}=yO();return ee.useEffect(()=>(i&&(async()=>{try{const s=VS(_g,"blogs",i),a=await IF(s);a.exists()?e({id:a.id,...a.data()}):console.error("No such document!")}catch(s){console.error("Error fetching blog:",s)}finally{r(!1)}})(),()=>e(null)),[i]),n?K.jsx("div",{children:"Loading..."}):t?K.jsxs("div",{className:"min-h-screen flex justify-center items-center bg-gray-100",children:[K.jsxs("div",{className:"max-w-3xl mx-auto p-6 bg-white shadow-md rounded-lg",children:[K.jsx("h2",{className:"text-2xl font-bold mb-4 text-center",children:t.title}),K.jsx("p",{className:"text-gray-700 mb-4",children:t.subtitle}),K.jsx("div",{className:"prose",dangerouslySetInnerHTML:{__html:t.body}})]}),"1"]}):K.jsx("div",{children:"No such document!"})},jU=()=>{const[t,e]=ee.useState(""),[n,r]=ee.useState(""),[i,o]=ee.useState(null),s=async a=>{a.preventDefault();try{await JD(XS,t,n)}catch(l){o(l.message)}};return K.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:K.jsxs("div",{className:"max-w-md w-full space-y-8",children:[K.jsxs("div",{children:[K.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Sign up"}),i&&K.jsx("p",{className:"mt-2 text-center text-red-600",children:i})]}),K.jsxs("form",{className:"mt-8 space-y-6",onSubmit:s,children:[K.jsx("input",{type:"hidden",name:"remember",value:"true"}),K.jsxs("div",{className:"rounded-md shadow-sm -space-y-px",children:[K.jsx("div",{className:"m-1 p-1",children:K.jsx("input",{type:"email",value:t,onChange:a=>e(a.target.value),placeholder:"Email",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-4 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm"})}),K.jsx("div",{className:"m-1 p-1",children:K.jsx("input",{type:"password",value:n,required:!0,onChange:a=>r(a.target.value),placeholder:"Password",className:"appearance-none rounded-none relative block w-full px-3 py-4 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm"})})]}),K.jsx("div",{className:"flex items-center justify-between",children:K.jsx("div",{className:"text-sm",children:K.jsx(go,{to:"/Login",className:"font-medium text-indigo-600 hover:text-indigo-500",children:"Already signup? Login"})})}),K.jsx("div",{children:K.jsx("button",{type:"submit",className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Sign up"})})]})]})})},UU=()=>{const[t,e]=ee.useState(""),[n,r]=ee.useState(""),[i,o]=ee.useState(null),s=async a=>{a.preventDefault();try{await ZD(XS,t,n)}catch(l){o(l.message)}};return K.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-6 px-4 sm:px-6 lg:px-8",children:K.jsxs("div",{className:"max-w-md w-full space-y-8",children:[K.jsxs("div",{children:[K.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Login"}),i&&K.jsx("p",{className:"mt-2 text-center text-red-600",children:i})]}),K.jsxs("form",{className:"mt-8 space-y-6",onSubmit:s,children:[K.jsx("input",{type:"hidden",name:"remember",value:"true"}),K.jsxs("div",{className:"rounded-md shadow-sm -space-y-px",children:[K.jsx("div",{className:"m-1 p-1",children:K.jsx("input",{type:"email",value:t,onChange:a=>e(a.target.value),placeholder:"Email",className:"appearance-none rounded-none relative block w-full px-3 py-4 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm p-4"})}),K.jsx("div",{className:"m-1 p-1",children:K.jsx("input",{type:"password",value:n,onChange:a=>r(a.target.value),placeholder:"Password",className:"appearance-none rounded-none relative block w-full px-3 py-4 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm"})})]}),K.jsx("div",{className:"flex items-center justify-between",children:K.jsx("div",{className:"text-sm",children:K.jsx(go,{to:"/signup",className:"font-medium text-indigo-600 hover:text-indigo-500",children:"Dont have an account? Sign up"})})}),K.jsx("div",{children:K.jsx("button",{type:"submit",className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Login"})})]})]})})};function $U(){return K.jsxs(jO,{children:[K.jsx(qO,{}),K.jsxs(NO,{children:[K.jsx(zi,{path:"/",exact:!0,element:K.jsx(MU,{})}),K.jsx(zi,{path:"/BlogPost",exact:!0,element:K.jsx($j,{})}),K.jsx(zi,{path:"/BlogPage/:id",element:K.jsx(FU,{})}),K.jsx(zi,{path:"/Signup",element:K.jsx(jU,{})}),K.jsx(zi,{path:"/Login",element:K.jsx(UU,{})})]}),K.jsx(VU,{})]})}Sh.createRoot(document.getElementById("root")).render(K.jsx(a0.StrictMode,{children:K.jsx($U,{})}));
